<?xml version="1.0" encoding="utf-8" ?>
<tt xml:lang="en" xmlns="http://www.w3.org/ns/ttml" xmlns:ttm="http://www.w3.org/ns/ttml#metadata" xmlns:tts="http://www.w3.org/ns/ttml#styling" xmlns:ttp="http://www.w3.org/ns/ttml#parameter" ttp:profile="http://www.w3.org/TR/profile/sdp-us" >
<head>
<styling>
<style xml:id="s1" tts:textAlign="center" tts:extent="90% 90%" tts:origin="5% 5%" tts:displayAlign="after"/>
<style xml:id="s2" tts:fontSize=".72c" tts:backgroundColor="black" tts:color="white"/>
</styling>
<layout>
<region xml:id="r1" style="s1"/>
</layout>
</head>
<body region="r1">
<div>
<p begin="00:00:03.439" end="00:00:08.920" style="s2">Um hello everyone. Um am I audible?</p>
<p begin="00:00:10.320" end="00:00:16.960" style="s2">Okay, cool. Yeah. Uh sorry for being a</p>
<p begin="00:00:14.799" end="00:00:19.439" style="s2">bit late. Sorry. Uh okay, I&#39;m not</p>
<p begin="00:00:16.960" end="00:00:22.000" style="s2">audible. Uh Shubra says I&#39;m not audible.</p>
<p begin="00:00:19.439" end="00:00:25.279" style="s2">I&#39;m audible to others in the class. I&#39;m</p>
<p begin="00:00:22.000" end="00:00:28.279" style="s2">audible. Okay. So, let me ask Shubra to</p>
<p begin="00:00:25.279" end="00:00:28.279" style="s2">rejoin.</p>
<p begin="00:00:31.199" end="00:00:37.880" style="s2">Cool. Okay. Uh so let me share my screen</p>
<p begin="00:00:34.079" end="00:00:37.880" style="s2">and then we get started.</p>
<p begin="00:00:59.280" end="00:01:05.000" style="s2">Cool. Uh, let me share my screen. Just</p>
<p begin="00:01:01.039" end="00:01:05.000" style="s2">give me a minute.</p>
<p begin="00:01:17.280" end="00:01:21.360" style="s2">Okay. So, I think I&#39;ll have to restart</p>
<p begin="00:01:19.360" end="00:01:23.920" style="s2">my iPad. It&#39;s not showing up. But yeah,</p>
<p begin="00:01:21.360" end="00:01:27.119" style="s2">anyhow, in the meanwhile, uh I&#39;m not</p>
<p begin="00:01:23.920" end="00:01:29.360" style="s2">sure how many of you know me uh or have</p>
<p begin="00:01:27.119" end="00:01:31.439" style="s2">uh seen me here or there. So, my name is</p>
<p begin="00:01:29.360" end="00:01:33.840" style="s2">Sarn Maluta. I am a software engineer at</p>
<p begin="00:01:31.439" end="00:01:36.079" style="s2">Google and roughly a year and a half</p>
<p begin="00:01:33.840" end="00:01:38.479" style="s2">ago, I used to lead the learning</p>
<p begin="00:01:36.079" end="00:01:40.159" style="s2">learning vertical at Scaler Academy. Uh</p>
<p begin="00:01:38.479" end="00:01:43.680" style="s2">since then, I&#39;ve moved from my full-time</p>
<p begin="00:01:40.159" end="00:01:47.680" style="s2">role at Scala and I keep on taking uh</p>
<p begin="00:01:43.680" end="00:01:50.720" style="s2">classes uh for the HLD module and DSL DS</p>
<p begin="00:01:47.680" end="00:01:52.880" style="s2">algo module etc. Uh I can I will share</p>
<p begin="00:01:50.720" end="00:01:54.720" style="s2">my LinkedIn profile with you guys. I can</p>
<p begin="00:01:52.880" end="00:01:56.399" style="s2">do it right now or I can share it at the</p>
<p begin="00:01:54.720" end="00:01:58.960" style="s2">end of the lecture. But yeah, since my</p>
<p begin="00:01:56.399" end="00:02:04.320" style="s2">iPad needs a restart, I can do it right</p>
<p begin="00:01:58.960" end="00:02:06.159" style="s2">away. And yeah, it has uh so why am I</p>
<p begin="00:02:04.320" end="00:02:09.119" style="s2">taking your lecture today? Given that</p>
<p begin="00:02:06.159" end="00:02:12.720" style="s2">Pug is taking this batch, I am taking</p>
<p begin="00:02:09.119" end="00:02:15.760" style="s2">other batch um simultaneously. But yeah,</p>
<p begin="00:02:12.720" end="00:02:19.200" style="s2">uh I am taking your class today because</p>
<p begin="00:02:15.760" end="00:02:21.200" style="s2">Pug is unavailable. But uh don&#39;t worry</p>
<p begin="00:02:19.200" end="00:02:23.040" style="s2">uh I I promise that you are going to</p>
<p begin="00:02:21.200" end="00:02:25.520" style="s2">have a great time and we are going to</p>
<p begin="00:02:23.040" end="00:02:29.920" style="s2">understand the concepts that we have for</p>
<p begin="00:02:25.520" end="00:02:32.480" style="s2">today quite well and I am uh I have been</p>
<p begin="00:02:29.920" end="00:02:35.440" style="s2">teaching HLD at Scala for several years</p>
<p begin="00:02:32.480" end="00:02:37.680" style="s2">now. So uh you don&#39;t have to I of course</p>
<p begin="00:02:35.440" end="00:02:39.680" style="s2">it it&#39;s very uh it&#39;s very obvious that</p>
<p begin="00:02:37.680" end="00:02:41.440" style="s2">when you are uh taking a bunch of</p>
<p begin="00:02:39.680" end="00:02:44.000" style="s2">classes from somebody and you have a</p>
<p begin="00:02:41.440" end="00:02:46.319" style="s2">instructor change a day you essentially</p>
<p begin="00:02:44.000" end="00:02:48.879" style="s2">uh get worried and feel that hey am I</p>
<p begin="00:02:46.319" end="00:02:50.800" style="s2">going to understand the things the way I</p>
<p begin="00:02:48.879" end="00:02:52.160" style="s2">used to so you don&#39;t have to worry uh we</p>
<p begin="00:02:50.800" end="00:02:55.280" style="s2">are going to understand today&#39;s concepts</p>
<p begin="00:02:52.160" end="00:03:00.640" style="s2">very well cool uh so I have reset my</p>
<p begin="00:02:55.280" end="00:03:05.920" style="s2">iPad and let me try and uh g share it</p>
<p begin="00:03:00.640" end="00:03:09.360" style="s2">that&#39;s right sat I yeah</p>
<p begin="00:03:05.920" end="00:03:11.920" style="s2">uh let me let me restart uh let me re</p>
<p begin="00:03:09.360" end="00:03:14.720" style="s2">try and reach reshare my iPad. Yeah,</p>
<p begin="00:03:11.920" end="00:03:17.760" style="s2">it&#39;s visible now and you should be able</p>
<p begin="00:03:14.720" end="00:03:20.159" style="s2">to see or see my iPad screen in just a</p>
<p begin="00:03:17.760" end="00:03:23.680" style="s2">minute.</p>
<p begin="00:03:20.159" end="00:03:27.440" style="s2">Yeah, I&#39;m a software engineer at Google.</p>
<p begin="00:03:23.680" end="00:03:30.159" style="s2">Uh cool.</p>
<p begin="00:03:27.440" end="00:03:31.599" style="s2">Okay. So now uh what all have you guys</p>
<p begin="00:03:30.159" end="00:03:33.760" style="s2">studied till now in the high level</p>
<p begin="00:03:31.599" end="00:03:35.360" style="s2">design module. Uh you have studied</p>
<p begin="00:03:33.760" end="00:03:36.640" style="s2">things uh you have studied the very</p>
<p begin="00:03:35.360" end="00:03:39.040" style="s2">basics of high level design. You have</p>
<p begin="00:03:36.640" end="00:03:42.720" style="s2">understood that hey how does a system</p>
<p begin="00:03:39.040" end="00:03:44.640" style="s2">scale from a single machine and go on to</p>
<p begin="00:03:42.720" end="00:03:47.200" style="s2">spread across multiple machines. If you</p>
<p begin="00:03:44.640" end="00:03:49.519" style="s2">have uh if if you have a bunch of if you</p>
<p begin="00:03:47.200" end="00:03:51.920" style="s2">have a system which has a good scale how</p>
<p begin="00:03:49.519" end="00:03:53.760" style="s2">do you spread across multiple machines</p>
<p begin="00:03:51.920" end="00:03:55.760" style="s2">and get your job done? You would have</p>
<p begin="00:03:53.760" end="00:03:57.599" style="s2">discussed about consistent hashing. You</p>
<p begin="00:03:55.760" end="00:04:01.599" style="s2">would have also discussed about how to</p>
<p begin="00:03:57.599" end="00:04:03.680" style="s2">make a system a lot more faster, how to</p>
<p begin="00:04:01.599" end="00:04:04.720" style="s2">make it having a lot less latency and</p>
<p begin="00:04:03.680" end="00:04:06.640" style="s2">for that you would have discussed</p>
<p begin="00:04:04.720" end="00:04:08.239" style="s2">caching. There are different kinds of</p>
<p begin="00:04:06.640" end="00:04:10.159" style="s2">caching that you can throw in. You can</p>
<p begin="00:04:08.239" end="00:04:11.840" style="s2">have a client side cache where you can</p>
<p begin="00:04:10.159" end="00:04:14.400" style="s2">cache a bunch of things on browser.</p>
<p begin="00:04:11.840" end="00:04:16.959" style="s2">There can be a you can have a thing like</p>
<p begin="00:04:14.400" end="00:04:19.600" style="s2">content delivery network or CDN so that</p>
<p begin="00:04:16.959" end="00:04:22.079" style="s2">you have some data some media files</p>
<p begin="00:04:19.600" end="00:04:23.919" style="s2">nearer to the user so that the user can</p>
<p begin="00:04:22.079" end="00:04:26.160" style="s2">access them quickly. That&#39;s the idea of</p>
<p begin="00:04:23.919" end="00:04:28.479" style="s2">CDNs. Then you might have app server</p>
<p begin="00:04:26.160" end="00:04:30.880" style="s2">cache where the compute boxes that you</p>
<p begin="00:04:28.479" end="00:04:33.440" style="s2">have might have something cached so that</p>
<p begin="00:04:30.880" end="00:04:35.600" style="s2">they can compute the things quicker and</p>
<p begin="00:04:33.440" end="00:04:37.280" style="s2">you also can have a global cache where</p>
<p begin="00:04:35.600" end="00:04:39.360" style="s2">you have a separate layer where you</p>
<p begin="00:04:37.280" end="00:04:41.280" style="s2">cache something and all your app server</p>
<p begin="00:04:39.360" end="00:04:42.880" style="s2">boxes can interact with that global</p>
<p begin="00:04:41.280" end="00:04:44.080" style="s2">cache and get your job done. Is</p>
<p begin="00:04:42.880" end="00:04:45.280" style="s2">everybody with me till this Monday</p>
<p begin="00:04:44.080" end="00:04:47.840" style="s2">night? You would have understood all of</p>
<p begin="00:04:45.280" end="00:04:50.080" style="s2">this over several classes uh that you</p>
<p begin="00:04:47.840" end="00:04:51.919" style="s2">have had with Paka. Uh now one more</p>
<p begin="00:04:50.080" end="00:04:54.400" style="s2">thing uh that somebody asks that hey I</p>
<p begin="00:04:51.919" end="00:04:56.639" style="s2">have not attended the caching lecture</p>
<p begin="00:04:54.400" end="00:04:59.840" style="s2">can I still attend today&#39;s lecture and</p>
<p begin="00:04:56.639" end="00:05:02.080" style="s2">understand the content of today you can</p>
<p begin="00:04:59.840" end="00:05:04.400" style="s2">Sachin it&#39;s not directly correlated to</p>
<p begin="00:05:02.080" end="00:05:06.400" style="s2">caching but one general advice that I</p>
<p begin="00:05:04.400" end="00:05:08.000" style="s2">have for everybody for the HL module</p>
<p begin="00:05:06.400" end="00:05:10.479" style="s2">specifically that you should try and</p>
<p begin="00:05:08.000" end="00:05:12.639" style="s2">attend all the classes in the sequence</p>
<p begin="00:05:10.479" end="00:05:14.880" style="s2">that in the sequence that they occur and</p>
<p begin="00:05:12.639" end="00:05:16.400" style="s2">be prepared with the content of the</p>
<p begin="00:05:14.880" end="00:05:18.400" style="s2">previous classes before you join the</p>
<p begin="00:05:16.400" end="00:05:20.320" style="s2">next class that&#39;s the usual advice that</p>
<p begin="00:05:18.400" end="00:05:21.759" style="s2">I would have but for today&#39;s lecture</p>
<p begin="00:05:20.320" end="00:05:23.840" style="s2">even if you have not attending C</p>
<p begin="00:05:21.759" end="00:05:26.400" style="s2">attended caching you will still be able</p>
<p begin="00:05:23.840" end="00:05:28.320" style="s2">to understand most of it cool so let&#39;s</p>
<p begin="00:05:26.400" end="00:05:30.639" style="s2">get started</p>
<p begin="00:05:28.320" end="00:05:33.280" style="s2">let&#39;s draw a diagram that I&#39;m sure that</p>
<p begin="00:05:30.639" end="00:05:36.240" style="s2">you have seen multiple times that hey</p>
<p begin="00:05:33.280" end="00:05:38.400" style="s2">this is how the interaction between the</p>
<p begin="00:05:36.240" end="00:05:40.639" style="s2">client and the system looks like you</p>
<p begin="00:05:38.400" end="00:05:43.520" style="s2">have a client</p>
<p begin="00:05:40.639" end="00:05:45.840" style="s2">the client reaches out to the DNS</p>
<p begin="00:05:43.520" end="00:05:48.160" style="s2">because the client just has usually the</p>
<p begin="00:05:45.840" end="00:05:50.320" style="s2">domain name but to reach any resource on</p>
<p begin="00:05:48.160" end="00:05:53.039" style="s2">the internet you need the IP address. So</p>
<p begin="00:05:50.320" end="00:05:55.120" style="s2">you go to the DNS give the domain name</p>
<p begin="00:05:53.039" end="00:05:57.680" style="s2">fetch the IP address from there. So you</p>
<p begin="00:05:55.120" end="00:06:00.160" style="s2">get the IP address back. Using this IP</p>
<p begin="00:05:57.680" end="00:06:03.759" style="s2">address you can you can reach out to the</p>
<p begin="00:06:00.160" end="00:06:06.479" style="s2">system. The first box that interacts</p>
<p begin="00:06:03.759" end="00:06:09.120" style="s2">with the outside world is usually called</p>
<p begin="00:06:06.479" end="00:06:10.800" style="s2">the gateway box right it&#39;s called the</p>
<p begin="00:06:09.120" end="00:06:13.120" style="s2">gateway box. So Pratia might have called</p>
<p begin="00:06:10.800" end="00:06:15.680" style="s2">it the load balancer. I will maybe</p>
<p begin="00:06:13.120" end="00:06:18.560" style="s2">discuss uh or we can discuss it right</p>
<p begin="00:06:15.680" end="00:06:20.720" style="s2">now. By gateway I mean the first box</p>
<p begin="00:06:18.560" end="00:06:23.280" style="s2">that acts as a gateway for any outside</p>
<p begin="00:06:20.720" end="00:06:25.199" style="s2">request to the inside system. You people</p>
<p begin="00:06:23.280" end="00:06:28.000" style="s2">also call it the load balancer box</p>
<p begin="00:06:25.199" end="00:06:29.919" style="s2">because this box usually doubles up as a</p>
<p begin="00:06:28.000" end="00:06:31.840" style="s2">load balancer. So what is the meaning of</p>
<p begin="00:06:29.919" end="00:06:33.280" style="s2">a load balancer? Load balancer basically</p>
<p begin="00:06:31.840" end="00:06:35.840" style="s2">means that a box that is going to</p>
<p begin="00:06:33.280" end="00:06:39.199" style="s2">distribute the load amongst multiple uh</p>
<p begin="00:06:35.840" end="00:06:42.080" style="s2">multiple other resources. Right? This</p>
<p begin="00:06:39.199" end="00:06:44.080" style="s2">gateway acts as a load balancer. But if</p>
<p begin="00:06:42.080" end="00:06:46.560" style="s2">you look at from it look at it from the</p>
<p begin="00:06:44.080" end="00:06:48.560" style="s2">outside the first box that box that</p>
<p begin="00:06:46.560" end="00:06:51.199" style="s2">interacts is essentially called a</p>
<p begin="00:06:48.560" end="00:06:52.800" style="s2">gateway box right so we will discuss</p>
<p begin="00:06:51.199" end="00:06:55.759" style="s2">about proxy and reverse proxy but you</p>
<p begin="00:06:52.800" end="00:06:58.639" style="s2">are right Munali that&#39;s what it is uh</p>
<p begin="00:06:55.759" end="00:07:00.560" style="s2">yeah so the gateway box is where uh you</p>
<p begin="00:06:58.639" end="00:07:02.800" style="s2">do a bunch of things right other than</p>
<p begin="00:07:00.560" end="00:07:05.599" style="s2">load balancing you do a bunch of other</p>
<p begin="00:07:02.800" end="00:07:07.919" style="s2">things also and that&#39;s why I am calling</p>
<p begin="00:07:05.599" end="00:07:10.000" style="s2">it a gateway box because you not only do</p>
<p begin="00:07:07.919" end="00:07:13.120" style="s2">load balancing here but you also do</p>
<p begin="00:07:10.000" end="00:07:15.360" style="s2">things like some uh for example there is</p>
<p begin="00:07:13.120" end="00:07:19.919" style="s2">a HTTPS request coming from the outside</p>
<p begin="00:07:15.360" end="00:07:22.560" style="s2">world you might want that request to be</p>
<p begin="00:07:19.919" end="00:07:25.440" style="s2">decifered here itself and you can</p>
<p begin="00:07:22.560" end="00:07:27.199" style="s2">interact with the internal world using a</p>
<p begin="00:07:25.440" end="00:07:29.360" style="s2">internal ecosystem using a totally</p>
<p begin="00:07:27.199" end="00:07:31.039" style="s2">different protocol so but all of that we</p>
<p begin="00:07:29.360" end="00:07:32.800" style="s2">will cover maybe sometime later it&#39;s not</p>
<p begin="00:07:31.039" end="00:07:35.280" style="s2">the right class to discuss all of that</p>
<p begin="00:07:32.800" end="00:07:37.680" style="s2">but just understand that gateway has a</p>
<p begin="00:07:35.280" end="00:07:39.360" style="s2">lot of other responsibilities other than</p>
<p begin="00:07:37.680" end="00:07:40.800" style="s2">just being a load balancer does that</p>
<p begin="00:07:39.360" end="00:07:43.120" style="s2">make sense to everybody you can call it</p>
<p begin="00:07:40.800" end="00:07:44.479" style="s2">a load balancer but that&#39;s one aspect of</p>
<p begin="00:07:43.120" end="00:07:45.759" style="s2">it. There are a bunch of other aspects</p>
<p begin="00:07:44.479" end="00:07:47.759" style="s2">of it. You can call it a gateway which</p>
<p begin="00:07:45.759" end="00:07:49.919" style="s2">is a much more generic name because it</p>
<p begin="00:07:47.759" end="00:07:52.479" style="s2">acts as the first point of contact for</p>
<p begin="00:07:49.919" end="00:07:54.479" style="s2">the outside world. Now after the gateway</p>
<p begin="00:07:52.479" end="00:07:56.560" style="s2">you&#39;re going to have a bunch of app</p>
<p begin="00:07:54.479" end="00:07:58.479" style="s2">server boxes.</p>
<p begin="00:07:56.560" end="00:08:01.120" style="s2">Now this is your compute layer right</p>
<p begin="00:07:58.479" end="00:08:03.680" style="s2">this is the place where your computation</p>
<p begin="00:08:01.120" end="00:08:05.520" style="s2">happen where all the magic happens where</p>
<p begin="00:08:03.680" end="00:08:07.599" style="s2">all the computation whatever is the</p>
<p begin="00:08:05.520" end="00:08:10.800" style="s2">business logic actually runs here right.</p>
<p begin="00:08:07.599" end="00:08:12.720" style="s2">So this is the gateway box. Uh yeah</p>
<p begin="00:08:10.800" end="00:08:15.199" style="s2">Koshik that&#39;s right. So most of the</p>
<p begin="00:08:12.720" end="00:08:16.720" style="s2">companies usually end the uh the SSL</p>
<p begin="00:08:15.199" end="00:08:17.919" style="s2">terminates at the gateway box and then</p>
<p begin="00:08:16.720" end="00:08:20.560" style="s2">internally you follow a different</p>
<p begin="00:08:17.919" end="00:08:22.960" style="s2">protocol. Uh these apps ser are</p>
<p begin="00:08:20.560" end="00:08:25.280" style="s2">microservices. No s we are going to</p>
<p begin="00:08:22.960" end="00:08:27.120" style="s2">discuss what microservices are in later</p>
<p begin="00:08:25.280" end="00:08:30.160" style="s2">part of the curriculum. For now, just</p>
<p begin="00:08:27.120" end="00:08:32.000" style="s2">understand this is a box that will</p>
<p begin="00:08:30.160" end="00:08:34.080" style="s2">interact with the outside world and will</p>
<p begin="00:08:32.000" end="00:08:35.919" style="s2">forward the request to a bunch of</p>
<p begin="00:08:34.080" end="00:08:38.000" style="s2">different resources because a single</p>
<p begin="00:08:35.919" end="00:08:40.399" style="s2">compute box, a single app server box may</p>
<p begin="00:08:38.000" end="00:08:42.000" style="s2">not be able to handle all the load and</p>
<p begin="00:08:40.399" end="00:08:44.480" style="s2">hence you have a bunch of apps server</p>
<p begin="00:08:42.000" end="00:08:45.920" style="s2">boxes that will together handle the load</p>
<p begin="00:08:44.480" end="00:08:47.200" style="s2">for you. Is that making sense to</p>
<p begin="00:08:45.920" end="00:08:48.399" style="s2">everybody in the class? That&#39;s the</p>
<p begin="00:08:47.200" end="00:08:50.959" style="s2">reason why you would want to have</p>
<p begin="00:08:48.399" end="00:08:52.959" style="s2">multiple app servers. If your traffic to</p>
<p begin="00:08:50.959" end="00:08:55.279" style="s2">the to the service increases, you might</p>
<p begin="00:08:52.959" end="00:08:57.600" style="s2">want to spawn a bunch of new app server</p>
<p begin="00:08:55.279" end="00:08:59.519" style="s2">boxes. If the traffic goes low, you</p>
<p begin="00:08:57.600" end="00:09:02.000" style="s2">might want to remove a bunch of app</p>
<p begin="00:08:59.519" end="00:09:04.240" style="s2">server boxes. How many of you have uh</p>
<p begin="00:09:02.000" end="00:09:06.720" style="s2">seen autoscaling in cloud services like</p>
<p begin="00:09:04.240" end="00:09:09.200" style="s2">AWS, right? So, you autoscale. If you</p>
<p begin="00:09:06.720" end="00:09:10.959" style="s2">have a lot of higher traffic, you</p>
<p begin="00:09:09.200" end="00:09:12.399" style="s2">increase these app server boxes. If you</p>
<p begin="00:09:10.959" end="00:09:14.399" style="s2">have lesser amount of traffic, you</p>
<p begin="00:09:12.399" end="00:09:16.560" style="s2">reduce these app server boxes. Now,</p>
<p begin="00:09:14.399" end="00:09:18.160" style="s2">there are some people who did not uh</p>
<p begin="00:09:16.560" end="00:09:19.360" style="s2">follow autoscaling. It&#39;s not part of</p>
<p begin="00:09:18.160" end="00:09:22.000" style="s2">today&#39;s class, but I will just give you</p>
<p begin="00:09:19.360" end="00:09:24.240" style="s2">an example, right? Uh how many of you</p>
<p begin="00:09:22.000" end="00:09:28.560" style="s2">appreciate that the traffic let&#39;s say</p>
<p begin="00:09:24.240" end="00:09:31.040" style="s2">Amazon.com has on a Black Friday sale or</p>
<p begin="00:09:28.560" end="00:09:32.560" style="s2">Flipkart has on a big billion day sale</p>
<p begin="00:09:31.040" end="00:09:34.240" style="s2">is going to be very different from a</p>
<p begin="00:09:32.560" end="00:09:35.519" style="s2">normal day at Flipkart or a normal day</p>
<p begin="00:09:34.240" end="00:09:37.040" style="s2">at Amazon. How many of you understand</p>
<p begin="00:09:35.519" end="00:09:38.560" style="s2">that there&#39;s going to be a lot of</p>
<p begin="00:09:37.040" end="00:09:40.959" style="s2">difference between the traffic? Right?</p>
<p begin="00:09:38.560" end="00:09:43.920" style="s2">Not only that, let&#39;s consider some more</p>
<p begin="00:09:40.959" end="00:09:48.080" style="s2">examples. uh let&#39;s assume that hey there</p>
<p begin="00:09:43.920" end="00:09:50.080" style="s2">is a there is a day uh</p>
<p begin="00:09:48.080" end="00:09:52.240" style="s2">let&#39;s say it&#39;s a it&#39;s a Diwali week</p>
<p begin="00:09:50.080" end="00:09:54.080" style="s2">right the traffic on Diwali week it&#39;s</p>
<p begin="00:09:52.240" end="00:09:56.080" style="s2">going to be a lot higher than traffic on</p>
<p begin="00:09:54.080" end="00:09:58.160" style="s2">a normal week Munali has given an</p>
<p begin="00:09:56.080" end="00:10:00.640" style="s2">example of hot star that traffic on hot</p>
<p begin="00:09:58.160" end="00:10:02.480" style="s2">star on an India Pakistan match is going</p>
<p begin="00:10:00.640" end="00:10:04.800" style="s2">to be much higher than a traffic than</p>
<p begin="00:10:02.480" end="00:10:08.160" style="s2">the traffic on hot star when there is no</p>
<p begin="00:10:04.800" end="00:10:12.320" style="s2">live cricket match happening right uh so</p>
<p begin="00:10:08.160" end="00:10:14.800" style="s2">the the the the scale or the traffic at</p>
<p begin="00:10:12.320" end="00:10:17.839" style="s2">which needs to be suburbed by the system</p>
<p begin="00:10:14.800" end="00:10:20.560" style="s2">does not follow a very static</p>
<p begin="00:10:17.839" end="00:10:23.040" style="s2">trajectory. The traffic keeps on going</p>
<p begin="00:10:20.560" end="00:10:24.800" style="s2">up and down with respect to seasons,</p>
<p begin="00:10:23.040" end="00:10:27.839" style="s2">with respect to times of the day, with</p>
<p begin="00:10:24.800" end="00:10:30.640" style="s2">respect to events. That is why you</p>
<p begin="00:10:27.839" end="00:10:32.000" style="s2">should have the flexibility or the</p>
<p begin="00:10:30.640" end="00:10:35.200" style="s2">correct system design word is the</p>
<p begin="00:10:32.000" end="00:10:37.519" style="s2">elasticity in order to scale up your</p>
<p begin="00:10:35.200" end="00:10:40.000" style="s2">compute and scale down your compute</p>
<p begin="00:10:37.519" end="00:10:42.000" style="s2">accordingly. Am I making sense? On the</p>
<p begin="00:10:40.000" end="00:10:43.839" style="s2">days or at the times when the traffic is</p>
<p begin="00:10:42.000" end="00:10:45.839" style="s2">high, you might want to have a lot more</p>
<p begin="00:10:43.839" end="00:10:47.440" style="s2">compute resources. On the day or the</p>
<p begin="00:10:45.839" end="00:10:48.560" style="s2">time when the traffic is low, you would</p>
<p begin="00:10:47.440" end="00:10:50.959" style="s2">not want to have a lot of compute</p>
<p begin="00:10:48.560" end="00:10:53.279" style="s2">resources, right? So that&#39;s the reason</p>
<p begin="00:10:50.959" end="00:10:55.839" style="s2">that&#39;s elasticity and that&#39;s that&#39;s what</p>
<p begin="00:10:53.279" end="00:10:58.399" style="s2">your multiple app servers also support.</p>
<p begin="00:10:55.839" end="00:11:00.959" style="s2">I hope I have made myself clear. Cool.</p>
<p begin="00:10:58.399" end="00:11:03.360" style="s2">Beyond this, we have discussed the</p>
<p begin="00:11:00.959" end="00:11:05.760" style="s2">storage layer where the data actually</p>
<p begin="00:11:03.360" end="00:11:07.839" style="s2">gets stored, right? This is where the</p>
<p begin="00:11:05.760" end="00:11:10.880" style="s2">data gets persisted forever. this is</p>
<p begin="00:11:07.839" end="00:11:12.160" style="s2">your ultimate source of truth. Uh so</p>
<p begin="00:11:10.880" end="00:11:13.839" style="s2">would have discussed this kind of a</p>
<p begin="00:11:12.160" end="00:11:16.160" style="s2">architecture with you. He might have</p>
<p begin="00:11:13.839" end="00:11:17.920" style="s2">also told that okay for a global cache</p>
<p begin="00:11:16.160" end="00:11:20.480" style="s2">you might have a parallel layer where</p>
<p begin="00:11:17.920" end="00:11:22.480" style="s2">you store something globally as a cache</p>
<p begin="00:11:20.480" end="00:11:24.640" style="s2">and you can access that from your app</p>
<p begin="00:11:22.480" end="00:11:26.880" style="s2">servers rather quickly as compared to</p>
<p begin="00:11:24.640" end="00:11:29.279" style="s2">the database boxes. Great. All of this</p>
<p begin="00:11:26.880" end="00:11:30.720" style="s2">makes sense. Uh this is all hunky dory.</p>
<p begin="00:11:29.279" end="00:11:33.360" style="s2">We all appreciate it. We are all happy</p>
<p begin="00:11:30.720" end="00:11:35.920" style="s2">about it. In today&#39;s class, what is</p>
<p begin="00:11:33.360" end="00:11:39.440" style="s2">serverless? Uh Rahul. So Rahul we will</p>
<p begin="00:11:35.920" end="00:11:40.880" style="s2">discuss about uh this maybe later not in</p>
<p begin="00:11:39.440" end="00:11:42.079" style="s2">today&#39;s class because I have a bunch of</p>
<p begin="00:11:40.880" end="00:11:43.519" style="s2">things to cover and this is not the</p>
<p begin="00:11:42.079" end="00:11:45.440" style="s2">right time to cover serverless but</p>
<p begin="00:11:43.519" end="00:11:47.200" style="s2">serless architecture is a an</p>
<p begin="00:11:45.440" end="00:11:49.519" style="s2">architecture which which I will maybe</p>
<p begin="00:11:47.200" end="00:11:52.320" style="s2">talk about slightly later okay so we are</p>
<p begin="00:11:49.519" end="00:11:54.880" style="s2">going to maybe build towards</p>
<p begin="00:11:52.320" end="00:11:57.839" style="s2">a place where understanding serless</p>
<p begin="00:11:54.880" end="00:11:59.440" style="s2">becomes becomes easier but discussing</p>
<p begin="00:11:57.839" end="00:12:01.839" style="s2">serless right now is not the right time</p>
<p begin="00:11:59.440" end="00:12:05.120" style="s2">because we need a lot of other blocks to</p>
<p begin="00:12:01.839" end="00:12:07.600" style="s2">fall into place. Cool. So now I&#39;m going</p>
<p begin="00:12:05.120" end="00:12:10.399" style="s2">to discuss in today&#39;s class the idea of</p>
<p begin="00:12:07.600" end="00:12:12.240" style="s2">cap theorem. Uh and we&#39;ll also discuss</p>
<p begin="00:12:10.399" end="00:12:14.480" style="s2">another extension of that theorem called</p>
<p begin="00:12:12.240" end="00:12:16.000" style="s2">base LC and then I will talk about</p>
<p begin="00:12:14.480" end="00:12:18.320" style="s2">master slave architecture. I will talk</p>
<p begin="00:12:16.000" end="00:12:22.079" style="s2">about replication as in general I will</p>
<p begin="00:12:18.320" end="00:12:24.160" style="s2">talk about uh all of these concepts in</p>
<p begin="00:12:22.079" end="00:12:25.519" style="s2">as much detail as possible. Whatever</p>
<p begin="00:12:24.160" end="00:12:28.160" style="s2">questions you have would love to answer</p>
<p begin="00:12:25.519" end="00:12:30.079" style="s2">all of them for you. Okay cool. So I</p>
<p begin="00:12:28.160" end="00:12:33.760" style="s2">want everybody&#39;s attention. We are going</p>
<p begin="00:12:30.079" end="00:12:36.480" style="s2">to discuss gap theorem.</p>
<p begin="00:12:33.760" end="00:12:38.639" style="s2">to begin with.</p>
<p begin="00:12:36.480" end="00:12:41.760" style="s2">Uh okay, sharding is also discussed. So</p>
<p begin="00:12:38.639" end="00:12:43.680" style="s2">let&#39;s actually let&#39;s actually do what</p>
<p begin="00:12:41.760" end="00:12:46.560" style="s2">Vas</p>
<p begin="00:12:43.680" end="00:12:47.839" style="s2">Prasad is trying us to take into. They</p>
<p begin="00:12:46.560" end="00:12:49.760" style="s2">say that okay sharding is also</p>
<p begin="00:12:47.839" end="00:12:52.480" style="s2">discussed. So let&#39;s start with sharding</p>
<p begin="00:12:49.760" end="00:12:54.639" style="s2">and build towards partitioning and then</p>
<p begin="00:12:52.480" end="00:12:56.480" style="s2">come to cap theorem. Okay. So what is</p>
<p begin="00:12:54.639" end="00:12:59.120" style="s2">sharding? First of all, can anybody in</p>
<p begin="00:12:56.480" end="00:13:01.040" style="s2">the class appreciate for me help me</p>
<p begin="00:12:59.120" end="00:13:02.639" style="s2">appreciate what sharding is? Okay,</p>
<p begin="00:13:01.040" end="00:13:05.279" style="s2">sharding was not discussed in detail.</p>
<p begin="00:13:02.639" end="00:13:06.800" style="s2">So, Ashit, your complaint about sharding</p>
<p begin="00:13:05.279" end="00:13:10.000" style="s2">not being discussed in detail will be</p>
<p begin="00:13:06.800" end="00:13:12.079" style="s2">discussed today. Okay. Uh let&#39;s uh let&#39;s</p>
<p begin="00:13:10.000" end="00:13:13.920" style="s2">resolve that complaint. Cool. So, what</p>
<p begin="00:13:12.079" end="00:13:16.880" style="s2">is sharding? Sharding essentially is the</p>
<p begin="00:13:13.920" end="00:13:19.920" style="s2">idea that there might be a lot of data</p>
<p begin="00:13:16.880" end="00:13:22.079" style="s2">that you have to store which cannot sit</p>
<p begin="00:13:19.920" end="00:13:24.880" style="s2">on a single machine. How many of you</p>
<p begin="00:13:22.079" end="00:13:28.720" style="s2">appreciate it that let&#39;s assume uh you</p>
<p begin="00:13:24.880" end="00:13:32.160" style="s2">have to store uh you have to store user</p>
<p begin="00:13:28.720" end="00:13:35.040" style="s2">DBs for Facebook. Okay. So let&#39;s discuss</p>
<p begin="00:13:32.160" end="00:13:38.240" style="s2">that. Let&#39;s say you want to store the</p>
<p begin="00:13:35.040" end="00:13:40.320" style="s2">user database</p>
<p begin="00:13:38.240" end="00:13:42.399" style="s2">of Facebook.</p>
<p begin="00:13:40.320" end="00:13:45.040" style="s2">I&#39;m sure Prague would have discussed uh</p>
<p begin="00:13:42.399" end="00:13:46.959" style="s2">Facebook news feed. Do you remember what</p>
<p begin="00:13:45.040" end="00:13:49.440" style="s2">was the ballpark number that he that he</p>
<p begin="00:13:46.959" end="00:13:51.440" style="s2">gave you for the number of users</p>
<p begin="00:13:49.440" end="00:13:52.880" style="s2">Facebook has? What was the ballpark</p>
<p begin="00:13:51.440" end="00:13:54.959" style="s2">number? Or even if you don&#39;t remember</p>
<p begin="00:13:52.880" end="00:13:58.079" style="s2">it, just just help me understand. What&#39;s</p>
<p begin="00:13:54.959" end="00:14:00.240" style="s2">the ballpark number that you think uh 8</p>
<p begin="00:13:58.079" end="00:14:02.160" style="s2">billion?</p>
<p begin="00:14:00.240" end="00:14:04.399" style="s2">How many people are there in this world?</p>
<p begin="00:14:02.160" end="00:14:07.519" style="s2">How many people are there in this world?</p>
<p begin="00:14:04.399" end="00:14:09.279" style="s2">7 billion if I&#39;m not wrong. Right. So uh</p>
<p begin="00:14:07.519" end="00:14:12.079" style="s2">somebody just mentioned that there are 8</p>
<p begin="00:14:09.279" end="00:14:15.279" style="s2">billion Facebook users, which means that</p>
<p begin="00:14:12.079" end="00:14:16.959" style="s2">Facebook has users beyond the world.</p>
<p begin="00:14:15.279" end="00:14:19.760" style="s2">That&#39;s that&#39;s a that&#39;s a new thing to</p>
<p begin="00:14:16.959" end="00:14:21.120" style="s2">understand. Okay. Fake accounts. Okay.</p>
<p begin="00:14:19.760" end="00:14:22.959" style="s2">Makes sense. Makes sense. So, Facebook,</p>
<p begin="00:14:21.120" end="00:14:25.839" style="s2">in my opinion, would have a few billion</p>
<p begin="00:14:22.959" end="00:14:28.079" style="s2">users. Overall users might have a few</p>
<p begin="00:14:25.839" end="00:14:30.480" style="s2">billion overall users. Okay. Let&#39;s</p>
<p begin="00:14:28.079" end="00:14:32.639" style="s2">assume maybe 3 billion users, right?</p>
<p begin="00:14:30.480" end="00:14:35.040" style="s2">Your daily active users, monthly active</p>
<p begin="00:14:32.639" end="00:14:37.040" style="s2">users is maybe 1 billion. Uh from the</p>
<p begin="00:14:35.040" end="00:14:39.279" style="s2">data that I remember, monthly active</p>
<p begin="00:14:37.040" end="00:14:41.279" style="s2">users at Facebook is roughly 1 billion</p>
<p begin="00:14:39.279" end="00:14:44.480" style="s2">and daily active users if I&#39;m not wrong</p>
<p begin="00:14:41.279" end="00:14:47.760" style="s2">is roughly around.5 billion. Uh so this</p>
<p begin="00:14:44.480" end="00:14:50.959" style="s2">is the usual number of uh users that</p>
<p begin="00:14:47.760" end="00:14:54.959" style="s2">Facebook has. Now if you want to store</p>
<p begin="00:14:50.959" end="00:14:59.279" style="s2">the user database for 3 billion users do</p>
<p begin="00:14:54.959" end="00:15:02.160" style="s2">you think one box one storage machine is</p>
<p begin="00:14:59.279" end="00:15:03.920" style="s2">able will will be able to maybe store</p>
<p begin="00:15:02.160" end="00:15:06.720" style="s2">three billion entries three billion data</p>
<p begin="00:15:03.920" end="00:15:08.800" style="s2">points maybe not right because let&#39;s try</p>
<p begin="00:15:06.720" end="00:15:12.480" style="s2">to understand what all Facebook have</p>
<p begin="00:15:08.800" end="00:15:14.639" style="s2">right so Facebook might have a users</p>
<p begin="00:15:12.480" end="00:15:16.480" style="s2">table what all will the users table</p>
<p begin="00:15:14.639" end="00:15:18.639" style="s2">contain my dear friends it will contain</p>
<p begin="00:15:16.480" end="00:15:20.880" style="s2">things like user ID</p>
<p begin="00:15:18.639" end="00:15:24.399" style="s2">It will then maybe contain the name of</p>
<p begin="00:15:20.880" end="00:15:27.279" style="s2">the user. Might also contain the gender</p>
<p begin="00:15:24.399" end="00:15:30.240" style="s2">of the user. Might also contain the</p>
<p begin="00:15:27.279" end="00:15:31.519" style="s2">relationship status of the user. Might</p>
<p begin="00:15:30.240" end="00:15:32.959" style="s2">also contain a bunch of other</p>
<p begin="00:15:31.519" end="00:15:37.040" style="s2">information about the user and might</p>
<p begin="00:15:32.959" end="00:15:39.120" style="s2">also contain last updated created etc.</p>
<p begin="00:15:37.040" end="00:15:40.959" style="s2">Am I making sense to everybody? There</p>
<p begin="00:15:39.120" end="00:15:43.199" style="s2">would be a bunch of metadata about every</p>
<p begin="00:15:40.959" end="00:15:45.760" style="s2">user. Right? This is one table that we</p>
<p begin="00:15:43.199" end="00:15:48.240" style="s2">can imagine in the user DB of Facebook.</p>
<p begin="00:15:45.760" end="00:15:51.040" style="s2">Let&#39;s understand some more. Uh, of</p>
<p begin="00:15:48.240" end="00:15:54.160" style="s2">course, there will be uh maybe a link to</p>
<p begin="00:15:51.040" end="00:15:57.120" style="s2">the display picture, maybe a link to the</p>
<p begin="00:15:54.160" end="00:16:00.000" style="s2">cover picture, etc. What else does</p>
<p begin="00:15:57.120" end="00:16:02.399" style="s2">Facebook will Facebook have about users?</p>
<p begin="00:16:00.000" end="00:16:04.320" style="s2">If I am not wrong, uh, all of you will</p>
<p begin="00:16:02.399" end="00:16:06.079" style="s2">be able to appreciate that Facebook</p>
<p begin="00:16:04.320" end="00:16:10.560" style="s2">should also store the information about</p>
<p begin="00:16:06.079" end="00:16:12.480" style="s2">the user friends, right? Because friends</p>
<p begin="00:16:10.560" end="00:16:14.399" style="s2">are the connections form the bedrock of</p>
<p begin="00:16:12.480" end="00:16:17.519" style="s2">Facebook. So you would want to also have</p>
<p begin="00:16:14.399" end="00:16:21.839" style="s2">a table where you have user friends</p>
<p begin="00:16:17.519" end="00:16:23.519" style="s2">table right. Uh now user friends table</p>
<p begin="00:16:21.839" end="00:16:27.199" style="s2">will have something like this that you</p>
<p begin="00:16:23.519" end="00:16:30.800" style="s2">will have a user ID and then you will</p>
<p begin="00:16:27.199" end="00:16:34.240" style="s2">have a friend ID right. So for example</p>
<p begin="00:16:30.800" end="00:16:37.040" style="s2">if there is a user 107 whose name is</p>
<p begin="00:16:34.240" end="00:16:41.120" style="s2">Raju. So let&#39;s assume you have user ID</p>
<p begin="00:16:37.040" end="00:16:43.759" style="s2">107 with the name Raju. Raju happens to</p>
<p begin="00:16:41.120" end="00:16:46.160" style="s2">be a male. their relationship status is</p>
<p begin="00:16:43.759" end="00:16:48.480" style="s2">that they are uh let&#39;s say they are</p>
<p begin="00:16:46.160" end="00:16:50.639" style="s2">married</p>
<p begin="00:16:48.480" end="00:16:52.320" style="s2">and we have some last last updated</p>
<p begin="00:16:50.639" end="00:16:53.680" style="s2">information we have the date of birth we</p>
<p begin="00:16:52.320" end="00:16:56.320" style="s2">have a bunch of other metadata about</p>
<p begin="00:16:53.680" end="00:16:58.639" style="s2">them similarly Raju has a bunch of other</p>
<p begin="00:16:56.320" end="00:17:02.000" style="s2">friends as well so let&#39;s say Raju with</p>
<p begin="00:16:58.639" end="00:17:04.559" style="s2">the user ID 107 has a friend with the</p>
<p begin="00:17:02.000" end="00:17:07.120" style="s2">user ID 998 so of course there would be</p>
<p begin="00:17:04.559" end="00:17:11.120" style="s2">an entry for 998 also in this in this</p>
<p begin="00:17:07.120" end="00:17:13.679" style="s2">table so 998 happens to be another user</p>
<p begin="00:17:11.120" end="00:17:16.079" style="s2">who Raj Raju is friends with similarly</p>
<p begin="00:17:13.679" end="00:17:19.039" style="s2">Raju might also be friends with let&#39;s</p>
<p begin="00:17:16.079" end="00:17:21.760" style="s2">say Kiriti and Kiri might have another</p>
<p begin="00:17:19.039" end="00:17:23.520" style="s2">user ID let&#39;s say 1070 let&#39;s say yeah</p>
<p begin="00:17:21.760" end="00:17:26.079" style="s2">Raju might also be friends with another</p>
<p begin="00:17:23.520" end="00:17:28.559" style="s2">person whose uh friend whose user ID</p>
<p begin="00:17:26.079" end="00:17:30.559" style="s2">might be 66 guys am I making sense so</p>
<p begin="00:17:28.559" end="00:17:32.880" style="s2">you will want to have information about</p>
<p begin="00:17:30.559" end="00:17:34.160" style="s2">the user and their meta information and</p>
<p begin="00:17:32.880" end="00:17:36.799" style="s2">you would also want to have information</p>
<p begin="00:17:34.160" end="00:17:38.799" style="s2">about user and their friends now let&#39;s</p>
<p begin="00:17:36.799" end="00:17:40.960" style="s2">assume that these two are the primary</p>
<p begin="00:17:38.799" end="00:17:43.919" style="s2">tables that right now we want to</p>
<p begin="00:17:40.960" end="00:17:46.480" style="s2">consider while thinking about a user DB</p>
<p begin="00:17:43.919" end="00:17:48.880" style="s2">a user database. Now my dear friends</p>
<p begin="00:17:46.480" end="00:17:51.280" style="s2">with three billion entries in the users</p>
<p begin="00:17:48.880" end="00:17:53.600" style="s2">table and many many more billion entries</p>
<p begin="00:17:51.280" end="00:17:55.200" style="s2">in the user friends table. Do you</p>
<p begin="00:17:53.600" end="00:17:57.440" style="s2">understand that a single machine will</p>
<p begin="00:17:55.200" end="00:17:58.960" style="s2">not be able to support all of that? You</p>
<p begin="00:17:57.440" end="00:18:01.280" style="s2">cannot potentially store all of that in</p>
<p begin="00:17:58.960" end="00:18:04.559" style="s2">a single machine. Why? Because the</p>
<p begin="00:18:01.280" end="00:18:06.400" style="s2">machine needs to be a super machine</p>
<p begin="00:18:04.559" end="00:18:09.200" style="s2">which needs to handle maybe 100 TB of</p>
<p begin="00:18:06.400" end="00:18:11.919" style="s2">data. uh just assuming this sums up to</p>
<p begin="00:18:09.200" end="00:18:13.679" style="s2">100 TB or or you or you al also might</p>
<p begin="00:18:11.919" end="00:18:15.039" style="s2">have a scenario where a single machine</p>
<p begin="00:18:13.679" end="00:18:16.960" style="s2">might not be able to handle all that</p>
<p begin="00:18:15.039" end="00:18:20.160" style="s2">load, right? Storing data about every</p>
<p begin="00:18:16.960" end="00:18:22.640" style="s2">single person on Facebook and then</p>
<p begin="00:18:20.160" end="00:18:25.440" style="s2">responding to requests that come with</p>
<p begin="00:18:22.640" end="00:18:27.200" style="s2">respect to that uh data is not going to</p>
<p begin="00:18:25.440" end="00:18:28.480" style="s2">be simple. How many of you are convinced</p>
<p begin="00:18:27.200" end="00:18:30.960" style="s2">that storing all of this in a single</p>
<p begin="00:18:28.480" end="00:18:33.919" style="s2">machine is not possible?</p>
<p begin="00:18:30.960" end="00:18:36.400" style="s2">uh I want more people to uh tarun of</p>
<p begin="00:18:33.919" end="00:18:38.480" style="s2">course we can calculate the rough amount</p>
<p begin="00:18:36.400" end="00:18:40.559" style="s2">of data storage required for all of this</p>
<p begin="00:18:38.480" end="00:18:42.720" style="s2">I&#39;m not doing that right now because I</p>
<p begin="00:18:40.559" end="00:18:44.799" style="s2">want to save on time we will be doing</p>
<p begin="00:18:42.720" end="00:18:46.880" style="s2">this in a lot of other use cases that we</p>
<p begin="00:18:44.799" end="00:18:48.960" style="s2">will do where the class is entirely</p>
<p begin="00:18:46.880" end="00:18:51.120" style="s2">going to be about a use case we will do</p>
<p begin="00:18:48.960" end="00:18:52.799" style="s2">all the calculation together do all the</p>
<p begin="00:18:51.120" end="00:18:54.799" style="s2">back of the envelope calculations but</p>
<p begin="00:18:52.799" end="00:18:57.440" style="s2">right now I am just trying to save some</p>
<p begin="00:18:54.799" end="00:18:59.360" style="s2">time and not do it okay but it&#39;s uh you</p>
<p begin="00:18:57.440" end="00:19:00.799" style="s2">are going to learn how to do it in the</p>
<p begin="00:18:59.360" end="00:19:02.559" style="s2">further classes is we are going to in</p>
<p begin="00:19:00.799" end="00:19:04.240" style="s2">all the case studies that we discussed</p>
<p begin="00:19:02.559" end="00:19:06.400" style="s2">we are going to spend the first 15 20</p>
<p begin="00:19:04.240" end="00:19:08.080" style="s2">minutes doing estimation of scale and</p>
<p begin="00:19:06.400" end="00:19:12.559" style="s2">there all these calculations will come.</p>
<p begin="00:19:08.080" end="00:19:15.360" style="s2">Okay cool. So now we have understood</p>
<p begin="00:19:12.559" end="00:19:17.360" style="s2">that a single machine will not be not be</p>
<p begin="00:19:15.360" end="00:19:21.440" style="s2">enough</p>
<p begin="00:19:17.360" end="00:19:24.640" style="s2">to overcome this problem. Two concepts</p>
<p begin="00:19:21.440" end="00:19:28.640" style="s2">the concept of sharding and the concept</p>
<p begin="00:19:24.640" end="00:19:31.120" style="s2">of partitioning or replication.</p>
<p begin="00:19:28.640" end="00:19:34.000" style="s2">Let&#39;s say sharding and replication.</p>
<p begin="00:19:31.120" end="00:19:36.559" style="s2">These two concepts become very very</p>
<p begin="00:19:34.000" end="00:19:38.720" style="s2">important and we are going to discuss</p>
<p begin="00:19:36.559" end="00:19:39.760" style="s2">them. uh sharding should already have</p>
<p begin="00:19:38.720" end="00:19:41.840" style="s2">been discussed but we are going to</p>
<p begin="00:19:39.760" end="00:19:45.039" style="s2">discuss sharding and replication and</p>
<p begin="00:19:41.840" end="00:19:46.640" style="s2">give you some sense of that today and</p>
<p begin="00:19:45.039" end="00:19:50.080" style="s2">then we will discuss cap theorem pile</p>
<p begin="00:19:46.640" end="00:19:54.000" style="s2">etherum etc right so understand what is</p>
<p begin="00:19:50.080" end="00:19:57.679" style="s2">sharding sharding is the idea of</p>
<p begin="00:19:54.000" end="00:20:00.559" style="s2">distributing or dividing this data into</p>
<p begin="00:19:57.679" end="00:20:02.720" style="s2">multiple machines because a single</p>
<p begin="00:20:00.559" end="00:20:05.440" style="s2">machine cannot store all that data okay</p>
<p begin="00:20:02.720" end="00:20:05.440" style="s2">so what is sharding</p>
<p begin="00:20:07.280" end="00:20:14.480" style="s2">Sharding is</p>
<p begin="00:20:10.400" end="00:20:17.480" style="s2">distributing data</p>
<p begin="00:20:14.480" end="00:20:17.480" style="s2">across</p>
<p begin="00:20:17.840" end="00:20:22.640" style="s2">multiple</p>
<p begin="00:20:19.679" end="00:20:24.320" style="s2">machines. Uh let me draw a diagram so</p>
<p begin="00:20:22.640" end="00:20:26.559" style="s2">that this becomes important. This</p>
<p begin="00:20:24.320" end="00:20:28.240" style="s2">becomes this becomes more clear. Let&#39;s</p>
<p begin="00:20:26.559" end="00:20:30.159" style="s2">assume this is the universe of all the</p>
<p begin="00:20:28.240" end="00:20:32.159" style="s2">radar that you want to have. Okay. So</p>
<p begin="00:20:30.159" end="00:20:34.000" style="s2">you will have data about the user 107.</p>
<p begin="00:20:32.159" end="00:20:36.240" style="s2">You will have data about the user 998.</p>
<p begin="00:20:34.000" end="00:20:39.600" style="s2">You will have data about the user 107</p>
<p begin="00:20:36.240" end="00:20:41.360" style="s2">1070 etc. Sharding basically means that</p>
<p begin="00:20:39.600" end="00:20:44.400" style="s2">you cannot store all this universe of</p>
<p begin="00:20:41.360" end="00:20:47.520" style="s2">data in a single machine. You use a</p>
<p begin="00:20:44.400" end="00:20:49.919" style="s2">bunch of machines to get this done. So</p>
<p begin="00:20:47.520" end="00:20:53.919" style="s2">all the data points in this segment of</p>
<p begin="00:20:49.919" end="00:20:57.520" style="s2">the universe I will put in shard A or</p>
<p begin="00:20:53.919" end="00:20:59.520" style="s2">the first shard. All the data on this</p>
<p begin="00:20:57.520" end="00:21:03.280" style="s2">segment of the universe I will let&#39;s say</p>
<p begin="00:20:59.520" end="00:21:05.360" style="s2">put on shard B. All the data on this</p>
<p begin="00:21:03.280" end="00:21:08.159" style="s2">segment of the universe I will put in</p>
<p begin="00:21:05.360" end="00:21:10.720" style="s2">shard C. All the data in this part of</p>
<p begin="00:21:08.159" end="00:21:12.400" style="s2">the universe I will put in shard D. All</p>
<p begin="00:21:10.720" end="00:21:14.240" style="s2">the data in this part of the universe I</p>
<p begin="00:21:12.400" end="00:21:16.960" style="s2">will put in shard Eyee. How many of you</p>
<p begin="00:21:14.240" end="00:21:19.120" style="s2">understand this? that in a way I will</p>
<p begin="00:21:16.960" end="00:21:23.600" style="s2">distribute my data universe into</p>
<p begin="00:21:19.120" end="00:21:27.200" style="s2">mutually exclusive and together</p>
<p begin="00:21:23.600" end="00:21:30.000" style="s2">exhaustive way so that all the shards</p>
<p begin="00:21:27.200" end="00:21:32.720" style="s2">together have all the data together and</p>
<p begin="00:21:30.000" end="00:21:34.720" style="s2">no two shards have the same data guys am</p>
<p begin="00:21:32.720" end="00:21:36.880" style="s2">I making some sense sharding basically</p>
<p begin="00:21:34.720" end="00:21:38.799" style="s2">means partitioning the data guys am I</p>
<p begin="00:21:36.880" end="00:21:41.440" style="s2">making sense</p>
<p begin="00:21:38.799" end="00:21:43.280" style="s2">right you can distribute uh you can</p>
<p begin="00:21:41.440" end="00:21:45.360" style="s2">distribute equally you can distribute</p>
<p begin="00:21:43.280" end="00:21:49.039" style="s2">based on geography etc etc</p>
<p begin="00:21:45.360" end="00:21:51.679" style="s2">All of that is going to be decided based</p>
<p begin="00:21:49.039" end="00:21:54.640" style="s2">on the use case that you have. Guys, am</p>
<p begin="00:21:51.679" end="00:21:57.120" style="s2">I making sense? This can be a random</p>
<p begin="00:21:54.640" end="00:21:59.360" style="s2">allocation. This can be a geographical</p>
<p begin="00:21:57.120" end="00:22:02.000" style="s2">allocation. This can be a time based</p>
<p begin="00:21:59.360" end="00:22:03.120" style="s2">allocation etc etc. There can be</p>
<p begin="00:22:02.000" end="00:22:05.200" style="s2">different ways in which you would want</p>
<p begin="00:22:03.120" end="00:22:07.679" style="s2">to do this allocation. But that&#39;s a you</p>
<p begin="00:22:05.200" end="00:22:09.600" style="s2">that&#39;s a use case specific thing. But</p>
<p begin="00:22:07.679" end="00:22:11.679" style="s2">all of you appreciate what sharding is,</p>
<p begin="00:22:09.600" end="00:22:13.039" style="s2">right? Sharding is distribute your data</p>
<p begin="00:22:11.679" end="00:22:14.400" style="s2">across multiple machines because a</p>
<p begin="00:22:13.039" end="00:22:16.640" style="s2">single machine cannot potentially store</p>
<p begin="00:22:14.400" end="00:22:18.080" style="s2">it. Now if you remember Pra would have</p>
<p begin="00:22:16.640" end="00:22:20.080" style="s2">discussed consistent hashing with you.</p>
<p begin="00:22:18.080" end="00:22:22.880" style="s2">You remember that inconsistent hashing</p>
<p begin="00:22:20.080" end="00:22:24.960" style="s2">pra would have drawn a logical circle</p>
<p begin="00:22:22.880" end="00:22:27.679" style="s2">and he would have shared that okay this</p>
<p begin="00:22:24.960" end="00:22:30.240" style="s2">is shard A this is shard B this is shard</p>
<p begin="00:22:27.679" end="00:22:32.960" style="s2">C this is shard D.</p>
<p begin="00:22:30.240" end="00:22:35.120" style="s2">All the different A B C D or 1 2 3 4</p>
<p begin="00:22:32.960" end="00:22:38.400" style="s2">servers that you would have written here</p>
<p begin="00:22:35.120" end="00:22:39.840" style="s2">all of them are distinct shards. Am I</p>
<p begin="00:22:38.400" end="00:22:42.640" style="s2">making sense?</p>
<p begin="00:22:39.840" end="00:22:45.679" style="s2">Am I making sense? So all of these were</p>
<p begin="00:22:42.640" end="00:22:48.080" style="s2">shards. Okay, this is sh these are</p>
<p begin="00:22:45.679" end="00:22:49.919" style="s2">shards.</p>
<p begin="00:22:48.080" end="00:22:51.919" style="s2">Cool. So sharding is a concept clear to</p>
<p begin="00:22:49.919" end="00:22:54.320" style="s2">everybody that if you cannot store all</p>
<p begin="00:22:51.919" end="00:22:56.159" style="s2">the data in a single machine, you shard.</p>
<p begin="00:22:54.320" end="00:22:58.159" style="s2">Okay, Rohit, it&#39;s not clear to Rohit.</p>
<p begin="00:22:56.159" end="00:23:00.880" style="s2">Rohit, would you want to be unmuted? I</p>
<p begin="00:22:58.159" end="00:23:02.400" style="s2">can unmute you and I can answer your</p>
<p begin="00:23:00.880" end="00:23:05.919" style="s2">question. Rohit, do you want me to</p>
<p begin="00:23:02.400" end="00:23:08.559" style="s2">unmute it? Okay, let me unmute Rohit.</p>
<p begin="00:23:05.919" end="00:23:10.480" style="s2">Hey Rohit.</p>
<p begin="00:23:08.559" end="00:23:13.280" style="s2">Hi Ajit I will answer this question for</p>
<p begin="00:23:10.480" end="00:23:15.440" style="s2">you in a just short h. Yeah. So my</p>
<p begin="00:23:13.280" end="00:23:17.520" style="s2">question is whatever the sharing we are</p>
<p begin="00:23:15.440" end="00:23:19.760" style="s2">making for the all the database in</p>
<p begin="00:23:17.520" end="00:23:22.720" style="s2">multiple machine. So we are following</p>
<p begin="00:23:19.760" end="00:23:25.600" style="s2">any specific pattern or equal data we</p>
<p begin="00:23:22.720" end="00:23:30.559" style="s2">are uh pushing into another machine or</p>
<p begin="00:23:25.600" end="00:23:31.200" style="s2">how it uh works. So like replica kind of</p>
<p begin="00:23:30.559" end="00:23:33.039" style="s2">data</p>
<p begin="00:23:31.200" end="00:23:34.640" style="s2">&gt;&gt; okay replication is totally different. I</p>
<p begin="00:23:33.039" end="00:23:36.640" style="s2">will come to replication in a while.</p>
<p begin="00:23:34.640" end="00:23:38.559" style="s2">Sharding is you distributing the radar</p>
<p begin="00:23:36.640" end="00:23:40.240" style="s2">across multiple machines. So uh let&#39;s</p>
<p begin="00:23:38.559" end="00:23:42.559" style="s2">let&#39;s go back to the Facebook example,</p>
<p begin="00:23:40.240" end="00:23:44.080" style="s2">right? And uh Ajit&#39;s question will also</p>
<p begin="00:23:42.559" end="00:23:45.919" style="s2">get answered with this explanation.</p>
<p begin="00:23:44.080" end="00:23:48.960" style="s2">Okay. So I want everybody&#39;s complete</p>
<p begin="00:23:45.919" end="00:23:50.640" style="s2">attention here. Uh I have told you that</p>
<p begin="00:23:48.960" end="00:23:52.720" style="s2">there are going to be uh let&#39;s say three</p>
<p begin="00:23:50.640" end="00:23:54.000" style="s2">billion users of Facebook. So how many</p>
<p begin="00:23:52.720" end="00:23:56.400" style="s2">entries are there going to be in this</p>
<p begin="00:23:54.000" end="00:23:58.799" style="s2">user table, right? My dear friends, if</p>
<p begin="00:23:56.400" end="00:24:00.000" style="s2">for every user I have one entry and</p>
<p begin="00:23:58.799" end="00:24:01.280" style="s2">there are three billion users, how many</p>
<p begin="00:24:00.000" end="00:24:02.559" style="s2">entries will I have? Three billion.</p>
<p begin="00:24:01.280" end="00:24:06.000" style="s2">&gt;&gt; Three billion.</p>
<p begin="00:24:02.559" end="00:24:08.320" style="s2">Now what I want to uh tell you and Ajit</p>
<p begin="00:24:06.000" end="00:24:09.760" style="s2">I want your attention as well is that</p>
<p begin="00:24:08.320" end="00:24:11.840" style="s2">rather than storing all three billion</p>
<p begin="00:24:09.760" end="00:24:13.360" style="s2">entries in the same machine I can do</p>
<p begin="00:24:11.840" end="00:24:16.400" style="s2">sharding. What does that mean? That</p>
<p begin="00:24:13.360" end="00:24:19.360" style="s2">means that okay a bunch of these entries</p>
<p begin="00:24:16.400" end="00:24:21.279" style="s2">or a bunch of I I am taking an example</p>
<p begin="00:24:19.360" end="00:24:24.559" style="s2">where I&#39;m going to do sharding based on</p>
<p begin="00:24:21.279" end="00:24:26.880" style="s2">user ID. So I will be taking a bunch of</p>
<p begin="00:24:24.559" end="00:24:29.520" style="s2">user ids and say that these user ids</p>
<p begin="00:24:26.880" end="00:24:31.520" style="s2">belong to shard A.</p>
<p begin="00:24:29.520" end="00:24:34.960" style="s2">I will take a bunch of other user ids</p>
<p begin="00:24:31.520" end="00:24:36.799" style="s2">and say these user ids belong in shard B</p>
<p begin="00:24:34.960" end="00:24:38.640" style="s2">because a single machine cannot save it.</p>
<p begin="00:24:36.799" end="00:24:41.200" style="s2">I am distributing them in different</p>
<p begin="00:24:38.640" end="00:24:43.360" style="s2">shards. I will take a bunch of other uh</p>
<p begin="00:24:41.200" end="00:24:46.159" style="s2">user ids and say these should be present</p>
<p begin="00:24:43.360" end="00:24:48.400" style="s2">in shard C and so on and so forth. This</p>
<p begin="00:24:46.159" end="00:24:50.960" style="s2">is one thing. The second thing is that</p>
<p begin="00:24:48.400" end="00:24:52.960" style="s2">for the user ids that I selected in</p>
<p begin="00:24:50.960" end="00:24:55.679" style="s2">shard A,</p>
<p begin="00:24:52.960" end="00:24:59.919" style="s2">all the entries in the user friends</p>
<p begin="00:24:55.679" end="00:25:02.400" style="s2">table with that user ID, I will also be</p>
<p begin="00:24:59.919" end="00:25:05.919" style="s2">picking all those entries and ensuring</p>
<p begin="00:25:02.400" end="00:25:09.679" style="s2">they also go in shard A. In a way, in a</p>
<p begin="00:25:05.919" end="00:25:11.600" style="s2">way I have used the user ID as a key to</p>
<p begin="00:25:09.679" end="00:25:14.960" style="s2">determine which shard do they belong</p>
<p begin="00:25:11.600" end="00:25:17.679" style="s2">into. Imagine this to be a collection of</p>
<p begin="00:25:14.960" end="00:25:20.480" style="s2">databases where a subsegment of users</p>
<p begin="00:25:17.679" end="00:25:22.799" style="s2">sit in database A. A subsegment of users</p>
<p begin="00:25:20.480" end="00:25:25.279" style="s2">sit in database B. A subsegment of users</p>
<p begin="00:25:22.799" end="00:25:26.880" style="s2">sit in database C. But calling it a</p>
<p begin="00:25:25.279" end="00:25:28.159" style="s2">individual database might not be the</p>
<p begin="00:25:26.880" end="00:25:30.240" style="s2">right way to call it because it&#39;s</p>
<p begin="00:25:28.159" end="00:25:31.520" style="s2">basically one database but given one</p>
<p begin="00:25:30.240" end="00:25:33.360" style="s2">machine could not potentially store all</p>
<p begin="00:25:31.520" end="00:25:34.799" style="s2">the data. I have distributed that data</p>
<p begin="00:25:33.360" end="00:25:38.080" style="s2">across multiple machines. I&#39;m calling</p>
<p begin="00:25:34.799" end="00:25:40.640" style="s2">every machine, every database instance a</p>
<p begin="00:25:38.080" end="00:25:42.720" style="s2">shard. Does it make sense to everybody?</p>
<p begin="00:25:40.640" end="00:25:44.799" style="s2">Roit. Does it make sense to you? Yeah.</p>
<p begin="00:25:42.720" end="00:25:47.279" style="s2">So only the thing like so whatever the</p>
<p begin="00:25:44.799" end="00:25:49.440" style="s2">data you are sharding that you&#39;re</p>
<p begin="00:25:47.279" end="00:25:52.000" style="s2">sharding the size of data will be the</p>
<p begin="00:25:49.440" end="00:25:53.679" style="s2">random correct</p>
<p begin="00:25:52.000" end="00:25:55.440" style="s2">that that&#39;s totally dependent on a use</p>
<p begin="00:25:53.679" end="00:25:57.919" style="s2">case right now I am saying I&#39;m going to</p>
<p begin="00:25:55.440" end="00:26:00.000" style="s2">sh based on a user ID if you remember if</p>
<p begin="00:25:57.919" end="00:26:03.360" style="s2">you remember consistent hashing how did</p>
<p begin="00:26:00.000" end="00:26:04.960" style="s2">that happen you had a h for server or</p>
<p begin="00:26:03.360" end="00:26:07.039" style="s2">you had multiple hash functions for</p>
<p begin="00:26:04.960" end="00:26:08.880" style="s2">servers because you don&#39;t want cascading</p>
<p begin="00:26:07.039" end="00:26:10.320" style="s2">failure but forget cascading failure for</p>
<p begin="00:26:08.880" end="00:26:12.480" style="s2">a while and just understand that there</p>
<p begin="00:26:10.320" end="00:26:14.480" style="s2">was a hash server which sort of helped</p>
<p begin="00:26:12.480" end="00:26:16.480" style="s2">you mark different servers on different</p>
<p begin="00:26:14.480" end="00:26:18.480" style="s2">parts of the circle. Then there was a</p>
<p begin="00:26:16.480" end="00:26:21.039" style="s2">edge request or they would have called</p>
<p begin="00:26:18.480" end="00:26:23.919" style="s2">it edge user or something else where you</p>
<p begin="00:26:21.039" end="00:26:26.159" style="s2">pass the user ID to determine where does</p>
<p begin="00:26:23.919" end="00:26:28.000" style="s2">this user sit into or you pass the</p>
<p begin="00:26:26.159" end="00:26:30.400" style="s2">request ID to figure out where does this</p>
<p begin="00:26:28.000" end="00:26:32.720" style="s2">request go to. So you mark that request</p>
<p begin="00:26:30.400" end="00:26:34.080" style="s2">and then you move in the in the</p>
<p begin="00:26:32.720" end="00:26:35.919" style="s2">clockwise direction to find which server</p>
<p begin="00:26:34.080" end="00:26:38.480" style="s2">does it belong to. So there can be</p>
<p begin="00:26:35.919" end="00:26:40.480" style="s2">multiple ways in which you can shard.</p>
<p begin="00:26:38.480" end="00:26:42.880" style="s2">One of the ways can be that you use user</p>
<p begin="00:26:40.480" end="00:26:45.200" style="s2">ID as the starting key to determine this</p>
<p begin="00:26:42.880" end="00:26:46.880" style="s2">user ID will go in this box. You can use</p>
<p begin="00:26:45.200" end="00:26:48.000" style="s2">the request ID as a sharding key. You</p>
<p begin="00:26:46.880" end="00:26:50.640" style="s2">can use something else as a sharding</p>
<p begin="00:26:48.000" end="00:26:52.320" style="s2">key. But for now just imagine user ID as</p>
<p begin="00:26:50.640" end="00:26:54.159" style="s2">the sharding key which will help you</p>
<p begin="00:26:52.320" end="00:26:56.559" style="s2">determine which box this user is going</p>
<p begin="00:26:54.159" end="00:26:58.799" style="s2">to be in. Am I making sense?</p>
<p begin="00:26:56.559" end="00:27:01.039" style="s2">&gt;&gt; Yeah, that&#39;s correct. So only one thing</p>
<p begin="00:26:58.799" end="00:27:02.799" style="s2">is pending. So whatever like in Facebook</p>
<p begin="00:27:01.039" end="00:27:05.360" style="s2">example we are taking. So whatever the</p>
<p begin="00:27:02.799" end="00:27:08.080" style="s2">user id we are storing into the uh</p>
<p begin="00:27:05.360" end="00:27:10.240" style="s2">specific shard we are storing the uh</p>
<p begin="00:27:08.080" end="00:27:10.720" style="s2">correspondence friend also. So that</p>
<p begin="00:27:10.240" end="00:27:12.960" style="s2">means</p>
<p begin="00:27:10.720" end="00:27:15.279" style="s2">&gt;&gt; right we are storing the corresponding</p>
<p begin="00:27:12.960" end="00:27:17.200" style="s2">friends also and there is a reason for</p>
<p begin="00:27:15.279" end="00:27:18.559" style="s2">that. uh you might not be able to</p>
<p begin="00:27:17.200" end="00:27:20.320" style="s2">appreciate the reason right now but in</p>
<p begin="00:27:18.559" end="00:27:21.520" style="s2">the storage classes I will be able to</p>
<p begin="00:27:20.320" end="00:27:23.679" style="s2">make that make you appreciate the reason</p>
<p begin="00:27:21.520" end="00:27:25.440" style="s2">but I will just give you a small piece</p>
<p begin="00:27:23.679" end="00:27:27.760" style="s2">of information so that you are intrigued</p>
<p begin="00:27:25.440" end="00:27:29.360" style="s2">and you are interested to know more but</p>
<p begin="00:27:27.760" end="00:27:30.799" style="s2">I will not fulfill your interest and</p>
<p begin="00:27:29.360" end="00:27:33.520" style="s2">answer all of that today because I have</p>
<p begin="00:27:30.799" end="00:27:36.799" style="s2">a topic to complete but just to tickle</p>
<p begin="00:27:33.520" end="00:27:40.240" style="s2">your interest try to understand it&#39;s a</p>
<p begin="00:27:36.799" end="00:27:42.640" style="s2">very common query for people to know who</p>
<p begin="00:27:40.240" end="00:27:42.960" style="s2">all my friends are Rohit is that correct</p>
<p begin="00:27:42.640" end="00:27:44.559" style="s2">&gt;&gt; correct</p>
<p begin="00:27:42.960" end="00:27:46.480" style="s2">&gt;&gt; it&#39;s very common for people to know who</p>
<p begin="00:27:44.559" end="00:27:48.240" style="s2">all my friends are or I am an avid</p>
<p begin="00:27:46.480" end="00:27:49.760" style="s2">Facebook user. I might want to go to</p>
<p begin="00:27:48.240" end="00:27:51.919" style="s2">your profile. I&#39;m not that kind of a</p>
<p begin="00:27:49.760" end="00:27:53.279" style="s2">person but just assume that I might want</p>
<p begin="00:27:51.919" end="00:27:54.399" style="s2">to go to your profile and know who all</p>
<p begin="00:27:53.279" end="00:27:56.720" style="s2">your friends are. Right?</p>
<p begin="00:27:54.399" end="00:28:00.320" style="s2">&gt;&gt; So this is a very common query.</p>
<p begin="00:27:56.720" end="00:28:03.679" style="s2">&gt;&gt; Now understand if I don&#39;t put all the</p>
<p begin="00:28:00.320" end="00:28:06.799" style="s2">rows where I can know 107&#39;s friend in</p>
<p begin="00:28:03.679" end="00:28:10.480" style="s2">the same database as 107 exists then</p>
<p begin="00:28:06.799" end="00:28:13.120" style="s2">knowing which all friends I have will</p>
<p begin="00:28:10.480" end="00:28:14.320" style="s2">require me to go to different shards and</p>
<p begin="00:28:13.120" end="00:28:16.320" style="s2">collect the data.</p>
<p begin="00:28:14.320" end="00:28:17.760" style="s2">&gt;&gt; Okay. Which all friends are mine which</p>
<p begin="00:28:16.320" end="00:28:19.039" style="s2">are in this shard? Which all friends are</p>
<p begin="00:28:17.760" end="00:28:20.880" style="s2">mine in this shard? Which all friends</p>
<p begin="00:28:19.039" end="00:28:22.880" style="s2">are mine in this shard? The join will</p>
<p begin="00:28:20.880" end="00:28:24.480" style="s2">become very different difficult. On the</p>
<p begin="00:28:22.880" end="00:28:26.960" style="s2">other hand, if I ensure that all the</p>
<p begin="00:28:24.480" end="00:28:29.919" style="s2">entries related to 107 sit in the same</p>
<p begin="00:28:26.960" end="00:28:31.440" style="s2">shard, the join becomes in easy because</p>
<p begin="00:28:29.919" end="00:28:32.960" style="s2">you are in the same box and you just</p>
<p begin="00:28:31.440" end="00:28:35.039" style="s2">have to run a simple query in the same</p>
<p begin="00:28:32.960" end="00:28:36.480" style="s2">box and get the answer. So that is the</p>
<p begin="00:28:35.039" end="00:28:39.919" style="s2">reason why you would want to put the</p>
<p begin="00:28:36.480" end="00:28:41.840" style="s2">friend entries also in the same chart.</p>
<p begin="00:28:39.919" end="00:28:43.600" style="s2">But this is just a small piece of notion</p>
<p begin="00:28:41.840" end="00:28:45.279" style="s2">that I gave to tickle your interest.</p>
<p begin="00:28:43.600" end="00:28:46.640" style="s2">We&#39;ll discuss this in more details in</p>
<p begin="00:28:45.279" end="00:28:48.159" style="s2">the storage classes. Yeah.</p>
<p begin="00:28:46.640" end="00:28:50.159" style="s2">&gt;&gt; Does that make sense to you Rohit?</p>
<p begin="00:28:48.159" end="00:28:52.000" style="s2">&gt;&gt; Yeah. Yeah, that got it. Thanks.</p>
<p begin="00:28:50.159" end="00:28:54.399" style="s2">&gt;&gt; Okay. Thanks a lot, man. Thanks a lot.</p>
<p begin="00:28:52.000" end="00:28:56.159" style="s2">Uh Adit Ajit also asked similar</p>
<p begin="00:28:54.399" end="00:28:57.840" style="s2">questions. Ajit, is that clear to you as</p>
<p begin="00:28:56.159" end="00:29:00.240" style="s2">well, my dear friend? Ajit, is it clear</p>
<p begin="00:28:57.840" end="00:29:01.600" style="s2">to you as well? Uh I am not sure if Ajit</p>
<p begin="00:29:00.240" end="00:29:03.760" style="s2">is there in the class or not, but he has</p>
<p begin="00:29:01.600" end="00:29:06.399" style="s2">a simple similar question and I hope</p>
<p begin="00:29:03.760" end="00:29:08.240" style="s2">it&#39;s clear to him as well. It is that&#39;s</p>
<p begin="00:29:06.399" end="00:29:09.600" style="s2">great. Cool. So I am seeing a bunch of</p>
<p begin="00:29:08.240" end="00:29:12.559" style="s2">other questions that I will pick a bit</p>
<p begin="00:29:09.600" end="00:29:14.240" style="s2">later but just to get a brief sense how</p>
<p begin="00:29:12.559" end="00:29:16.080" style="s2">many people of how many people in the</p>
<p begin="00:29:14.240" end="00:29:17.840" style="s2">class are with me. How many of you</p>
<p begin="00:29:16.080" end="00:29:20.000" style="s2">understand what sharding is? How many</p>
<p begin="00:29:17.840" end="00:29:22.080" style="s2">feel interested that hey this is a great</p>
<p begin="00:29:20.000" end="00:29:23.840" style="s2">concept sharding we now understand it</p>
<p begin="00:29:22.080" end="00:29:26.320" style="s2">when data is very big. How do you</p>
<p begin="00:29:23.840" end="00:29:29.279" style="s2">distribute it in multiple machines uh in</p>
<p begin="00:29:26.320" end="00:29:31.600" style="s2">a mutually exclusive and collectively</p>
<p begin="00:29:29.279" end="00:29:33.600" style="s2">exhaustive way? This is what is called</p>
<p begin="00:29:31.600" end="00:29:35.679" style="s2">as sharding. So I will write this</p>
<p begin="00:29:33.600" end="00:29:37.760" style="s2">beautiful phrase also. You would have</p>
<p begin="00:29:35.679" end="00:29:43.880" style="s2">heard this in your DS algo classes most</p>
<p begin="00:29:37.760" end="00:29:43.880" style="s2">likely. It&#39;s called uh mutually</p>
<p begin="00:29:44.080" end="00:29:47.080" style="s2">exhaustive.</p>
<p begin="00:29:51.039" end="00:29:57.600" style="s2">So sorry mutually exclusive collectively</p>
<p begin="00:29:53.360" end="00:30:00.720" style="s2">exhaustive. Mutually exclusive</p>
<p begin="00:29:57.600" end="00:30:03.760" style="s2">collectively exhausted.</p>
<p begin="00:30:00.720" end="00:30:08.720" style="s2">So everybody here understands</p>
<p begin="00:30:03.760" end="00:30:12.080" style="s2">uh what is sharding. Okay. Now I want</p>
<p begin="00:30:08.720" end="00:30:14.640" style="s2">everybody to focus on the different</p>
<p begin="00:30:12.080" end="00:30:16.399" style="s2">concept. I have taught maybe thousands</p>
<p begin="00:30:14.640" end="00:30:19.120" style="s2">of people and I&#39;ve interacted with maybe</p>
<p begin="00:30:16.399" end="00:30:21.200" style="s2">a lot more people about about HLD or</p>
<p begin="00:30:19.120" end="00:30:23.200" style="s2">designing systems at scale. One thing</p>
<p begin="00:30:21.200" end="00:30:27.360" style="s2">that I see again and again is people</p>
<p begin="00:30:23.200" end="00:30:29.279" style="s2">confusing between sharding and</p>
<p begin="00:30:27.360" end="00:30:31.679" style="s2">replication.</p>
<p begin="00:30:29.279" end="00:30:34.559" style="s2">I want to ensure that after today&#39;s</p>
<p begin="00:30:31.679" end="00:30:35.600" style="s2">class, none of you are ever going to be</p>
<p begin="00:30:34.559" end="00:30:37.600" style="s2">confused between sharding and</p>
<p begin="00:30:35.600" end="00:30:39.600" style="s2">replication. Okay, these are two</p>
<p begin="00:30:37.600" end="00:30:41.520" style="s2">different concepts. They mean different</p>
<p begin="00:30:39.600" end="00:30:43.440" style="s2">things and we have to ensure that we</p>
<p begin="00:30:41.520" end="00:30:45.200" style="s2">understand what difference they are, how</p>
<p begin="00:30:43.440" end="00:30:46.640" style="s2">different they are. Okay, so sharding is</p>
<p begin="00:30:45.200" end="00:30:47.919" style="s2">clear to everyone. You have a lot of</p>
<p begin="00:30:46.640" end="00:30:51.440" style="s2">data you distributed in multiple</p>
<p begin="00:30:47.919" end="00:30:52.559" style="s2">machines, right? Uh yeah. Yeah, Basia,</p>
<p begin="00:30:51.440" end="00:30:54.640" style="s2">you are right. So I will take the</p>
<p begin="00:30:52.559" end="00:30:58.320" style="s2">questions later and now I will continue</p>
<p begin="00:30:54.640" end="00:31:01.120" style="s2">with what I have to teach. Right. Uh</p>
<p begin="00:30:58.320" end="00:31:04.240" style="s2">okay lalit I understand that uh I</p>
<p begin="00:31:01.120" end="00:31:06.000" style="s2">understand that uh now what is the idea</p>
<p begin="00:31:04.240" end="00:31:08.559" style="s2">of replication</p>
<p begin="00:31:06.000" end="00:31:12.080" style="s2">I want everybody&#39;s attention complete</p>
<p begin="00:31:08.559" end="00:31:14.320" style="s2">attention here let&#39;s say let&#39;s say there</p>
<p begin="00:31:12.080" end="00:31:18.559" style="s2">is a single machine</p>
<p begin="00:31:14.320" end="00:31:21.520" style="s2">okay and a lot of people want to read</p>
<p begin="00:31:18.559" end="00:31:25.520" style="s2">data from this machine so let&#39;s say this</p>
<p begin="00:31:21.520" end="00:31:28.640" style="s2">machine stores all the post that that</p>
<p begin="00:31:25.520" end="00:31:30.880" style="s2">Justin Bieber has made. Now,</p>
<p begin="00:31:28.640" end="00:31:32.640" style="s2">unfortunately or fortunately, we live in</p>
<p begin="00:31:30.880" end="00:31:34.320" style="s2">a world where people are going to be</p>
<p begin="00:31:32.640" end="00:31:37.200" style="s2">super interested in knowing what Justin</p>
<p begin="00:31:34.320" end="00:31:40.399" style="s2">Bieber has posted. So, everybody is</p>
<p begin="00:31:37.200" end="00:31:42.640" style="s2">rushing to know uh see a copy of Justin</p>
<p begin="00:31:40.399" end="00:31:45.919" style="s2">Bieber&#39;s post and everybody wants to see</p>
<p begin="00:31:42.640" end="00:31:48.080" style="s2">it. So, this machine given it maintains</p>
<p begin="00:31:45.919" end="00:31:50.399" style="s2">the copies or it maintains the post of</p>
<p begin="00:31:48.080" end="00:31:53.440" style="s2">Justin Bieber, this machine is going to</p>
<p begin="00:31:50.399" end="00:31:55.760" style="s2">have a lot of read requests. Am I making</p>
<p begin="00:31:53.440" end="00:31:57.919" style="s2">sense to everybody that the read</p>
<p begin="00:31:55.760" end="00:32:00.000" style="s2">requests here are going to be a lot</p>
<p begin="00:31:57.919" end="00:32:01.919" style="s2">higher?</p>
<p begin="00:32:00.000" end="00:32:05.120" style="s2">Now try to understand every single</p>
<p begin="00:32:01.919" end="00:32:08.559" style="s2">machine has its own limitations. You</p>
<p begin="00:32:05.120" end="00:32:11.120" style="s2">cannot handle beyond a threshold read</p>
<p begin="00:32:08.559" end="00:32:12.960" style="s2">request parallelly. You cannot handle</p>
<p begin="00:32:11.120" end="00:32:15.120" style="s2">beyond a threshold write requests</p>
<p begin="00:32:12.960" end="00:32:19.279" style="s2">parallelly. There&#39;s a limit to how many</p>
<p begin="00:32:15.120" end="00:32:22.720" style="s2">requests you can handle every minute. So</p>
<p begin="00:32:19.279" end="00:32:25.600" style="s2">this is where the idea of replication</p>
<p begin="00:32:22.720" end="00:32:28.640" style="s2">comes in.</p>
<p begin="00:32:25.600" end="00:32:32.960" style="s2">Now what is replication? Replication</p>
<p begin="00:32:28.640" end="00:32:36.640" style="s2">basically means that a single copy of</p>
<p begin="00:32:32.960" end="00:32:39.600" style="s2">the data is getting overwhelmed because</p>
<p begin="00:32:36.640" end="00:32:42.000" style="s2">of the high number of requests. Hence</p>
<p begin="00:32:39.600" end="00:32:47.200" style="s2">you create multiple copies of the same</p>
<p begin="00:32:42.000" end="00:32:49.760" style="s2">data so that people can read from</p>
<p begin="00:32:47.200" end="00:32:51.440" style="s2">different copies of the same data. So</p>
<p begin="00:32:49.760" end="00:32:54.000" style="s2">you have one let&#39;s say rather than</p>
<p begin="00:32:51.440" end="00:32:57.679" style="s2">having just one copy of the same data</p>
<p begin="00:32:54.000" end="00:32:59.039" style="s2">you have a bunch of replicas right we</p>
<p begin="00:32:57.679" end="00:33:01.039" style="s2">are going to discuss this in a lot more</p>
<p begin="00:32:59.039" end="00:33:03.200" style="s2">detail at the end of the lecture but you</p>
<p begin="00:33:01.039" end="00:33:05.679" style="s2">have a bunch of replicas where you</p>
<p begin="00:33:03.200" end="00:33:09.039" style="s2">replicate the entries</p>
<p begin="00:33:05.679" end="00:33:11.360" style="s2">and now some people can go and read from</p>
<p begin="00:33:09.039" end="00:33:13.440" style="s2">this box some people can go and read</p>
<p begin="00:33:11.360" end="00:33:15.519" style="s2">from this box some people can go and</p>
<p begin="00:33:13.440" end="00:33:18.240" style="s2">read from this box and so on and so</p>
<p begin="00:33:15.519" end="00:33:20.720" style="s2">forth. So do you understand that you</p>
<p begin="00:33:18.240" end="00:33:24.240" style="s2">might want to have copies of the same</p>
<p begin="00:33:20.720" end="00:33:25.840" style="s2">data? This is called as replication. Is</p>
<p begin="00:33:24.240" end="00:33:28.399" style="s2">everybody in the class with me? What is</p>
<p begin="00:33:25.840" end="00:33:31.840" style="s2">replication? You maintaining copies of</p>
<p begin="00:33:28.399" end="00:33:32.880" style="s2">the same data. Right? Now of course</p>
<p begin="00:33:31.840" end="00:33:34.960" style="s2">there are going to be lot of questions</p>
<p begin="00:33:32.880" end="00:33:37.600" style="s2">that hey what kind of a copies are</p>
<p begin="00:33:34.960" end="00:33:39.519" style="s2">these? Do we call this master slave? Uh</p>
<p begin="00:33:37.600" end="00:33:42.720" style="s2">how does read happen? How do right</p>
<p begin="00:33:39.519" end="00:33:44.080" style="s2">happen? E etc etc. I&#39;m going to I&#39;m</p>
<p begin="00:33:42.720" end="00:33:46.880" style="s2">going to cover all these questions at</p>
<p begin="00:33:44.080" end="00:33:49.120" style="s2">the end of the lecture. But guys, do you</p>
<p begin="00:33:46.880" end="00:33:51.200" style="s2">appreciate what replication is?</p>
<p begin="00:33:49.120" end="00:33:53.279" style="s2">Replication is you creating copies of</p>
<p begin="00:33:51.200" end="00:33:56.320" style="s2">the same data so that more people can</p>
<p begin="00:33:53.279" end="00:33:58.320" style="s2">interact with the copies together.</p>
<p begin="00:33:56.320" end="00:34:00.640" style="s2">How many of you appreciate that this is</p>
<p begin="00:33:58.320" end="00:34:01.760" style="s2">completely different from sharding? How</p>
<p begin="00:34:00.640" end="00:34:03.360" style="s2">many of you appreciate this is</p>
<p begin="00:34:01.760" end="00:34:04.960" style="s2">completely different from sharding?</p>
<p begin="00:34:03.360" end="00:34:06.960" style="s2">Sharding was you distributing the data</p>
<p begin="00:34:04.960" end="00:34:08.639" style="s2">in different machines. Replication is</p>
<p begin="00:34:06.960" end="00:34:11.359" style="s2">you copying the same data in different</p>
<p begin="00:34:08.639" end="00:34:14.320" style="s2">machines. So replication is not mutually</p>
<p begin="00:34:11.359" end="00:34:17.200" style="s2">exclusive, right? Replication is you</p>
<p begin="00:34:14.320" end="00:34:19.200" style="s2">copying the same data. Sharding is you</p>
<p begin="00:34:17.200" end="00:34:21.839" style="s2">distributing the data. So if somebody</p>
<p begin="00:34:19.200" end="00:34:25.919" style="s2">calls partitioning, partitioning is what</p>
<p begin="00:34:21.839" end="00:34:28.240" style="s2">you can call as uh a kind of sharding.</p>
<p begin="00:34:25.919" end="00:34:30.399" style="s2">Guys, am I making sense? Partitioning</p>
<p begin="00:34:28.240" end="00:34:32.720" style="s2">creating partitions creating. Okay. So</p>
<p begin="00:34:30.399" end="00:34:34.480" style="s2">Nikl says no. So I understand why do you</p>
<p begin="00:34:32.720" end="00:34:36.159" style="s2">say no to calling partitioning</p>
<p begin="00:34:34.480" end="00:34:38.960" style="s2">equivalent to sharding? I will come back</p>
<p begin="00:34:36.159" end="00:34:41.200" style="s2">to it later. Partitioning is different.</p>
<p begin="00:34:38.960" end="00:34:43.599" style="s2">But partitioning uh maybe you are</p>
<p begin="00:34:41.200" end="00:34:45.280" style="s2">confusing Nikl this with with network</p>
<p begin="00:34:43.599" end="00:34:47.679" style="s2">partitioning you&#39;re confusing this with</p>
<p begin="00:34:45.280" end="00:34:50.879" style="s2">partition tolerance right so that&#39;s also</p>
<p begin="00:34:47.679" end="00:34:52.720" style="s2">what I&#39;m going to discuss today but for</p>
<p begin="00:34:50.879" end="00:34:55.119" style="s2">now given that we are going to discuss</p>
<p begin="00:34:52.720" end="00:34:57.680" style="s2">another topic with the similar name</p>
<p begin="00:34:55.119" end="00:35:01.040" style="s2">right I would want to maybe remove this</p>
<p begin="00:34:57.680" end="00:35:03.119" style="s2">partitioning for now but later once I</p>
<p begin="00:35:01.040" end="00:35:04.800" style="s2">cover network partitioning I will maybe</p>
<p begin="00:35:03.119" end="00:35:06.960" style="s2">come back and discuss what is data</p>
<p begin="00:35:04.800" end="00:35:08.000" style="s2">partitioning okay guys so I will come</p>
<p begin="00:35:06.960" end="00:35:09.920" style="s2">back and discuss what is data</p>
<p begin="00:35:08.000" end="00:35:12.400" style="s2">partitioning but For now, I want</p>
<p begin="00:35:09.920" end="00:35:14.880" style="s2">everybody&#39;s agreement that what is</p>
<p begin="00:35:12.400" end="00:35:16.240" style="s2">sharding and what is replication? These</p>
<p begin="00:35:14.880" end="00:35:18.240" style="s2">are two different things. Is everybody</p>
<p begin="00:35:16.240" end="00:35:19.440" style="s2">in the class with me? Is everybody in</p>
<p begin="00:35:18.240" end="00:35:21.280" style="s2">the class with me? I want everybody in</p>
<p begin="00:35:19.440" end="00:35:23.760" style="s2">the class to answer. Uh nobody should be</p>
<p begin="00:35:21.280" end="00:35:25.520" style="s2">so lazy that they can&#39;t use their mouse</p>
<p begin="00:35:23.760" end="00:35:27.839" style="s2">and let me know that hey, they are with</p>
<p begin="00:35:25.520" end="00:35:29.599" style="s2">me. Everybody should be able to tell me</p>
<p begin="00:35:27.839" end="00:35:31.280" style="s2">that they are with me. Right? Good. So,</p>
<p begin="00:35:29.599" end="00:35:34.320" style="s2">we understand what is sharding, what is</p>
<p begin="00:35:31.280" end="00:35:36.560" style="s2">replication. Uh Anurag, I will come to</p>
<p begin="00:35:34.320" end="00:35:38.320" style="s2">that. Replication is you copying the</p>
<p begin="00:35:36.560" end="00:35:41.359" style="s2">same data</p>
<p begin="00:35:38.320" end="00:35:43.920" style="s2">on different machines. Sharding is you</p>
<p begin="00:35:41.359" end="00:35:46.240" style="s2">distributing the data dividing it into</p>
<p begin="00:35:43.920" end="00:35:48.560" style="s2">multiple machines. Am I making sense to</p>
<p begin="00:35:46.240" end="00:35:50.800" style="s2">everybody in the class?</p>
<p begin="00:35:48.560" end="00:35:53.920" style="s2">Right now</p>
<p begin="00:35:50.800" end="00:35:56.240" style="s2">sharding and replication can exist</p>
<p begin="00:35:53.920" end="00:35:58.880" style="s2">together</p>
<p begin="00:35:56.240" end="00:36:02.640" style="s2">and I will help you understand that as</p>
<p begin="00:35:58.880" end="00:36:05.839" style="s2">well. Okay. So let&#39;s say there are 3</p>
<p begin="00:36:02.640" end="00:36:11.280" style="s2">billion users of Facebook. There are 3</p>
<p begin="00:36:05.839" end="00:36:14.240" style="s2">billion users at Facebook.</p>
<p begin="00:36:11.280" end="00:36:17.599" style="s2">I cannot store them in the same machine.</p>
<p begin="00:36:14.240" end="00:36:21.680" style="s2">So what do I do? I shard.</p>
<p begin="00:36:17.599" end="00:36:23.599" style="s2">So I create shards, right? There are</p>
<p begin="00:36:21.680" end="00:36:25.599" style="s2">going to be maybe a few hundred or a few</p>
<p begin="00:36:23.599" end="00:36:28.079" style="s2">thousand shards or maybe a few hundred</p>
<p begin="00:36:25.599" end="00:36:32.640" style="s2">shards. So I create shards. Maybe data</p>
<p begin="00:36:28.079" end="00:36:38.240" style="s2">for 107 is present here. 9070 is present</p>
<p begin="00:36:32.640" end="00:36:39.839" style="s2">here. 1070 is here, 66 is here, 442 is</p>
<p begin="00:36:38.240" end="00:36:41.920" style="s2">here, and so on and so forth. So you</p>
<p begin="00:36:39.839" end="00:36:45.119" style="s2">have different user ids in different</p>
<p begin="00:36:41.920" end="00:36:47.280" style="s2">charts. Does everybody understand this?</p>
<p begin="00:36:45.119" end="00:36:51.520" style="s2">Does everybody understand this that you</p>
<p begin="00:36:47.280" end="00:36:54.240" style="s2">have a bunch of shards? Now let&#39;s assume</p>
<p begin="00:36:51.520" end="00:36:56.800" style="s2">even for the you even for the people who</p>
<p begin="00:36:54.240" end="00:36:59.839" style="s2">are in the same shard, the number of</p>
<p begin="00:36:56.800" end="00:37:02.640" style="s2">requests are so high that a single</p>
<p begin="00:36:59.839" end="00:37:05.200" style="s2">machine cannot handle them. a single</p>
<p begin="00:37:02.640" end="00:37:07.359" style="s2">machine. So try to understand sharding</p>
<p begin="00:37:05.200" end="00:37:08.800" style="s2">was based on the storage requirements.</p>
<p begin="00:37:07.359" end="00:37:11.200" style="s2">How many of you understand that that</p>
<p begin="00:37:08.800" end="00:37:13.599" style="s2">there are tbs and tbs of data you can&#39;t</p>
<p begin="00:37:11.200" end="00:37:16.000" style="s2">put it in the same machine?</p>
<p begin="00:37:13.599" end="00:37:18.079" style="s2">Your replication is primarily driven by</p>
<p begin="00:37:16.000" end="00:37:19.440" style="s2">the number of requests that are coming.</p>
<p begin="00:37:18.079" end="00:37:21.200" style="s2">So the number of requests that you are</p>
<p begin="00:37:19.440" end="00:37:23.440" style="s2">seeing are so huge that a single machine</p>
<p begin="00:37:21.200" end="00:37:27.200" style="s2">cannot handle them. So what do you do?</p>
<p begin="00:37:23.440" end="00:37:31.680" style="s2">You now treat every shard</p>
<p begin="00:37:27.200" end="00:37:33.680" style="s2">and create replicas of that shard. Okay.</p>
<p begin="00:37:31.680" end="00:37:38.800" style="s2">Yeah, Raju, I&#39;m trying to write as much</p>
<p begin="00:37:33.680" end="00:37:40.880" style="s2">as I can. So, you can have</p>
<p begin="00:37:38.800" end="00:37:45.359" style="s2">replica. So, let me call this as shard</p>
<p begin="00:37:40.880" end="00:37:49.760" style="s2">one, shard two, shard three.</p>
<p begin="00:37:45.359" end="00:37:52.720" style="s2">And now I will have a replica of this</p>
<p begin="00:37:49.760" end="00:37:55.839" style="s2">shard one. I will have another replica</p>
<p begin="00:37:52.720" end="00:37:58.400" style="s2">of this shard one. Similarly, I will</p>
<p begin="00:37:55.839" end="00:38:01.599" style="s2">have a rep I will have replicas for</p>
<p begin="00:37:58.400" end="00:38:04.400" style="s2">shard two.</p>
<p begin="00:38:01.599" end="00:38:08.200" style="s2">Similarly, I will have replicas for</p>
<p begin="00:38:04.400" end="00:38:08.200" style="s2">shard 3.</p>
<p begin="00:38:10.400" end="00:38:17.599" style="s2">So you can say that okay</p>
<p begin="00:38:13.119" end="00:38:20.640" style="s2">this is replica one for shard one. This</p>
<p begin="00:38:17.599" end="00:38:23.359" style="s2">is replica two for shard two. This is</p>
<p begin="00:38:20.640" end="00:38:24.880" style="s2">replica one for shard two. Sorry this is</p>
<p begin="00:38:23.359" end="00:38:28.320" style="s2">replica. Okay. So this was replica one</p>
<p begin="00:38:24.880" end="00:38:31.440" style="s2">for shard one. This was replica one for</p>
<p begin="00:38:28.320" end="00:38:34.240" style="s2">shard replica two for shard one guys. I</p>
<p begin="00:38:31.440" end="00:38:37.359" style="s2">hope I&#39;m making sense. I hope I&#39;m making</p>
<p begin="00:38:34.240" end="00:38:39.599" style="s2">sense. This is replica one of shard two.</p>
<p begin="00:38:37.359" end="00:38:42.240" style="s2">This is replica two of shard two. This</p>
<p begin="00:38:39.599" end="00:38:44.560" style="s2">is replica one of shard three. This is</p>
<p begin="00:38:42.240" end="00:38:47.520" style="s2">replica two of shard three. Am I making</p>
<p begin="00:38:44.560" end="00:38:49.520" style="s2">sense to everybody in the class? Replica</p>
<p begin="00:38:47.520" end="00:38:52.720" style="s2">is where the same piece of information</p>
<p begin="00:38:49.520" end="00:38:54.079" style="s2">is stored as a replica. Sharding is you</p>
<p begin="00:38:52.720" end="00:38:56.000" style="s2">dividing data amongst different</p>
<p begin="00:38:54.079" end="00:38:58.480" style="s2">machines. So sharding and replication</p>
<p begin="00:38:56.000" end="00:39:00.560" style="s2">can exist simultaneously</p>
<p begin="00:38:58.480" end="00:39:03.040" style="s2">which I have taken an example to explain</p>
<p begin="00:39:00.560" end="00:39:05.520" style="s2">to all of you. Replication is basically</p>
<p begin="00:39:03.040" end="00:39:06.960" style="s2">clones you maintaining clones. Is</p>
<p begin="00:39:05.520" end="00:39:09.599" style="s2">everybody in the class with me? Is this</p>
<p begin="00:39:06.960" end="00:39:11.680" style="s2">clear? Sharding replication. All clear.</p>
<p begin="00:39:09.599" end="00:39:13.520" style="s2">All clear. There is one down vote. I can</p>
<p begin="00:39:11.680" end="00:39:16.560" style="s2">maybe Anybody wants to be unmuted?</p>
<p begin="00:39:13.520" end="00:39:18.480" style="s2">Anybody wants to be unmuted?</p>
<p begin="00:39:16.560" end="00:39:21.200" style="s2">Anybody wants to be unmuted? Okay. Arun</p>
<p begin="00:39:18.480" end="00:39:23.200" style="s2">doesn&#39;t want to be unmuted. Uh okay,</p>
<p begin="00:39:21.200" end="00:39:25.760" style="s2">cool. Nobody wants to be unmuted. Maybe</p>
<p begin="00:39:23.200" end="00:39:28.320" style="s2">everybody is scared that if I get</p>
<p begin="00:39:25.760" end="00:39:30.800" style="s2">unmuted and I eat up class&#39;s time, then</p>
<p begin="00:39:28.320" end="00:39:32.560" style="s2">everybody is going to come after me.</p>
<p begin="00:39:30.800" end="00:39:34.400" style="s2">Maybe this is the worry that people</p>
<p begin="00:39:32.560" end="00:39:35.599" style="s2">have. Uh but yeah, don&#39;t be worried. If</p>
<p begin="00:39:34.400" end="00:39:37.440" style="s2">you have something to ask, you can of</p>
<p begin="00:39:35.599" end="00:39:38.880" style="s2">course ask. Uh or you can of course ask</p>
<p begin="00:39:37.440" end="00:39:40.079" style="s2">at the end of the lecture as well. I</p>
<p begin="00:39:38.880" end="00:39:42.480" style="s2">hope everybody&#39;s with me till this point</p>
<p begin="00:39:40.079" end="00:39:44.880" style="s2">in time. Uh</p>
<p begin="00:39:42.480" end="00:39:48.400" style="s2">yeah, I can unmute you my dear friend.</p>
<p begin="00:39:44.880" end="00:39:49.839" style="s2">Hey Akil, please go on. Karuma Karumi</p>
<p begin="00:39:48.400" end="00:39:51.520" style="s2">asks, &quot;What if we don&#39;t want all the</p>
<p begin="00:39:49.839" end="00:39:54.079" style="s2">records in the shark to have a replica?&quot;</p>
<p begin="00:39:51.520" end="00:39:55.680" style="s2">Uh Karumi, why would you not want to</p>
<p begin="00:39:54.079" end="00:39:57.680" style="s2">have that? Why would you not want to</p>
<p begin="00:39:55.680" end="00:40:00.320" style="s2">replicate the entire shard but only</p>
<p begin="00:39:57.680" end="00:40:01.680" style="s2">replicate a part of the shard? Uh I</p>
<p begin="00:40:00.320" end="00:40:04.800" style="s2">don&#39;t see a reason why you would want to</p>
<p begin="00:40:01.680" end="00:40:07.359" style="s2">do that. Hey, please tell me.</p>
<p begin="00:40:04.800" end="00:40:10.800" style="s2">&gt;&gt; Yeah. Uh yeah, Taran. So the shards are</p>
<p begin="00:40:07.359" end="00:40:12.079" style="s2">nothing but a DB, right? Uh or is it a</p>
<p begin="00:40:10.800" end="00:40:14.000" style="s2">server?</p>
<p begin="00:40:12.079" end="00:40:16.960" style="s2">&gt;&gt; So shame</p>
<p begin="00:40:14.000" end="00:40:19.359" style="s2">database mean</p>
<p begin="00:40:16.960" end="00:40:22.079" style="s2">&gt;&gt; uh sorry I missed. So these are database</p>
<p begin="00:40:19.359" end="00:40:25.359" style="s2">boxes. These are database instances. By</p>
<p begin="00:40:22.079" end="00:40:27.760" style="s2">shards I mean that they are so every</p>
<p begin="00:40:25.359" end="00:40:29.920" style="s2">shard is a database instance storing</p>
<p begin="00:40:27.760" end="00:40:31.839" style="s2">some data. Another shard is database</p>
<p begin="00:40:29.920" end="00:40:33.839" style="s2">instance storing some other data. So all</p>
<p begin="00:40:31.839" end="00:40:35.920" style="s2">of them for example if you are using uh</p>
<p begin="00:40:33.839" end="00:40:38.400" style="s2">my SQL all of them are going to be MySQL</p>
<p begin="00:40:35.920" end="00:40:39.839" style="s2">boxes. If you&#39;re using uh Cassandra all</p>
<p begin="00:40:38.400" end="00:40:42.000" style="s2">of them are going to be Cassandra nodes.</p>
<p begin="00:40:39.839" end="00:40:43.680" style="s2">If you&#39;re using uh HBS all of them are</p>
<p begin="00:40:42.000" end="00:40:44.480" style="s2">going to be HBS nodes. Am I making</p>
<p begin="00:40:43.680" end="00:40:47.200" style="s2">sense?</p>
<p begin="00:40:44.480" end="00:40:49.839" style="s2">&gt;&gt; Yeah. And the replica replica also will</p>
<p begin="00:40:47.200" end="00:40:51.920" style="s2">be the same. they will also be the same.</p>
<p begin="00:40:49.839" end="00:40:53.920" style="s2">So uh if if uh all of them are SQL</p>
<p begin="00:40:51.920" end="00:40:55.440" style="s2">boxes, the replicas also are going to be</p>
<p begin="00:40:53.920" end="00:40:57.119" style="s2">SQL boxes as a picture.</p>
<p begin="00:40:55.440" end="00:40:59.520" style="s2">&gt;&gt; Okay. Yeah. And do we do this</p>
<p begin="00:40:57.119" end="00:41:01.440" style="s2">dynamically or do we have them fixed</p>
<p begin="00:40:59.520" end="00:41:03.200" style="s2">before itself based on the request? Do</p>
<p begin="00:41:01.440" end="00:41:05.200" style="s2">we do dynamically or like</p>
<p begin="00:41:03.200" end="00:41:09.040" style="s2">&gt;&gt; No, no, no. So, so you would never want</p>
<p begin="00:41:05.200" end="00:41:11.040" style="s2">to move your data dynamically. Request</p>
<p begin="00:41:09.040" end="00:41:13.040" style="s2">the compute layer is a lot more dynamic</p>
<p begin="00:41:11.040" end="00:41:14.800" style="s2">in nature, but the storage layer is a</p>
<p begin="00:41:13.040" end="00:41:16.319" style="s2">lot more static. Right? So let me ask</p>
<p begin="00:41:14.800" end="00:41:17.680" style="s2">you a question. I&#39;m not sure if you have</p>
<p begin="00:41:16.319" end="00:41:21.359" style="s2">seen that in your present organization</p>
<p begin="00:41:17.680" end="00:41:22.560" style="s2">or not but uh you and I want I I&#39;m</p>
<p begin="00:41:21.359" end="00:41:24.319" style="s2">asking this question to everybody in the</p>
<p begin="00:41:22.560" end="00:41:26.640" style="s2">class. I want everybody to comment on</p>
<p begin="00:41:24.319" end="00:41:29.440" style="s2">what I&#39;m saying right now. You have seen</p>
<p begin="00:41:26.640" end="00:41:32.319" style="s2">that your EC2 instances if you use AWS</p>
<p begin="00:41:29.440" end="00:41:34.400" style="s2">or your compute resources they kept keep</p>
<p begin="00:41:32.319" end="00:41:37.040" style="s2">getting scaled up and scaled down that</p>
<p begin="00:41:34.400" end="00:41:38.880" style="s2">you have 20 EC2 instances right now in</p>
<p begin="00:41:37.040" end="00:41:41.680" style="s2">the next hour you have 30 EC2 instance</p>
<p begin="00:41:38.880" end="00:41:44.640" style="s2">running. you scale up or scale down your</p>
<p begin="00:41:41.680" end="00:41:47.359" style="s2">compute layer very easily because they</p>
<p begin="00:41:44.640" end="00:41:50.319" style="s2">are just computing some data but you</p>
<p begin="00:41:47.359" end="00:41:53.440" style="s2">don&#39;t do that okay I have I have 10</p>
<p begin="00:41:50.319" end="00:41:55.599" style="s2">database boxes running just in the next</p>
<p begin="00:41:53.440" end="00:41:58.079" style="s2">1 hour I will have 20 database boxes</p>
<p begin="00:41:55.599" end="00:41:59.839" style="s2">running or I will just let an intern to</p>
<p begin="00:41:58.079" end="00:42:01.839" style="s2">cut my 10 database boxes to five</p>
<p begin="00:41:59.839" end="00:42:04.560" style="s2">database boxes right because your</p>
<p begin="00:42:01.839" end="00:42:07.040" style="s2">storage is a lot more static and</p>
<p begin="00:42:04.560" end="00:42:08.720" style="s2">predictable but your compute is a lot</p>
<p begin="00:42:07.040" end="00:42:11.040" style="s2">more erratic requires a lot more</p>
<p begin="00:42:08.720" end="00:42:14.240" style="s2">elasticity Am I making sense again? So</p>
<p begin="00:42:11.040" end="00:42:15.760" style="s2">you don&#39;t uh radically just keep on</p>
<p begin="00:42:14.240" end="00:42:18.000" style="s2">changing your databases. They are</p>
<p begin="00:42:15.760" end="00:42:19.359" style="s2">planned well ahead of time. Your compute</p>
<p begin="00:42:18.000" end="00:42:21.440" style="s2">can radically change.</p>
<p begin="00:42:19.359" end="00:42:23.920" style="s2">&gt;&gt; No, I mean the replicas uh which we are</p>
<p begin="00:42:21.440" end="00:42:25.200" style="s2">using. So those will be dynamic or like</p>
<p begin="00:42:23.920" end="00:42:27.520" style="s2">we&#39;ll be uh in</p>
<p begin="00:42:25.200" end="00:42:29.520" style="s2">&gt;&gt; right. So dynamic is a very dynamic is a</p>
<p begin="00:42:27.520" end="00:42:31.680" style="s2">very open-ended term, right? You can</p>
<p begin="00:42:29.520" end="00:42:34.560" style="s2">mean dynamic in a lot of different ways.</p>
<p begin="00:42:31.680" end="00:42:35.839" style="s2">Uh but but the point of the matter is</p>
<p begin="00:42:34.560" end="00:42:38.160" style="s2">that you won&#39;t have a scenario where</p>
<p begin="00:42:35.839" end="00:42:39.920" style="s2">your where your data keeps on moving</p>
<p begin="00:42:38.160" end="00:42:41.440" style="s2">between different boxes all the time.</p>
<p begin="00:42:39.920" end="00:42:43.760" style="s2">You will have a specific shard to take</p>
<p begin="00:42:41.440" end="00:42:47.280" style="s2">care of a bunch of data points. The rep</p>
<p begin="00:42:43.760" end="00:42:50.800" style="s2">if if by stat if by uh if by dynamic you</p>
<p begin="00:42:47.280" end="00:42:53.440" style="s2">mean are these slave replicas on the</p>
<p begin="00:42:50.800" end="00:42:55.280" style="s2">same box? Can they move between boxes</p>
<p begin="00:42:53.440" end="00:42:56.640" style="s2">etc. That&#39;s something that we will study</p>
<p begin="00:42:55.280" end="00:42:58.400" style="s2">in greater detail in the kind of</p>
<p begin="00:42:56.640" end="00:43:00.400" style="s2">database that we study. So this is not</p>
<p begin="00:42:58.400" end="00:43:01.599" style="s2">the right time for me to answer that</p>
<p begin="00:43:00.400" end="00:43:03.920" style="s2">question. Okay.</p>
<p begin="00:43:01.599" end="00:43:06.160" style="s2">&gt;&gt; Yeah. Okay. Sure. Thank you so much.</p>
<p begin="00:43:03.920" end="00:43:07.839" style="s2">&gt;&gt; Yeah. Thank you. Now, there is a</p>
<p begin="00:43:06.160" end="00:43:09.760" style="s2">question in the chat which says that</p>
<p begin="00:43:07.839" end="00:43:11.359" style="s2">what if I need more database. When you</p>
<p begin="00:43:09.760" end="00:43:13.200" style="s2">need more database, when you need more</p>
<p begin="00:43:11.359" end="00:43:15.119" style="s2">storage, then that&#39;s something which you</p>
<p begin="00:43:13.200" end="00:43:16.800" style="s2">pre-plan. It&#39;s not as if the case you</p>
<p begin="00:43:15.119" end="00:43:18.640" style="s2">immediately understand that you require</p>
<p begin="00:43:16.800" end="00:43:21.280" style="s2">more data. You you for example you have</p>
<p begin="00:43:18.640" end="00:43:23.040" style="s2">a 500 GB box. You see the data storage</p>
<p begin="00:43:21.280" end="00:43:26.720" style="s2">increasing. The moment it reaches let&#39;s</p>
<p begin="00:43:23.040" end="00:43:29.680" style="s2">say 350GB, 70% of your data storage is</p>
<p begin="00:43:26.720" end="00:43:32.400" style="s2">utilized. You already pre pre-plan and</p>
<p begin="00:43:29.680" end="00:43:34.800" style="s2">try to accommodate more data by adding</p>
<p begin="00:43:32.400" end="00:43:37.920" style="s2">another shard. Hassan, am I making</p>
<p begin="00:43:34.800" end="00:43:41.280" style="s2">sense? You don&#39;t quickly radically take</p>
<p begin="00:43:37.920" end="00:43:44.000" style="s2">database decisions. You pre-plan, you</p>
<p begin="00:43:41.280" end="00:43:46.240" style="s2">then make these sharding decisions, etc.</p>
<p begin="00:43:44.000" end="00:43:48.800" style="s2">Okay, I will unmute a few more people. I</p>
<p begin="00:43:46.240" end="00:43:50.160" style="s2">see Rajie&#39;s hand raised. So, Rajiv,</p>
<p begin="00:43:48.800" end="00:43:52.400" style="s2">please go on.</p>
<p begin="00:43:50.160" end="00:43:54.720" style="s2">&gt;&gt; Hi, Ton. Yeah, my question was as you</p>
<p begin="00:43:52.400" end="00:43:57.040" style="s2">see as you said like uh we will have a</p>
<p begin="00:43:54.720" end="00:43:59.599" style="s2">data segregation based on some user ID</p>
<p begin="00:43:57.040" end="00:44:01.520" style="s2">or maybe some of the parameter right</p>
<p begin="00:43:59.599" end="00:44:03.839" style="s2">which basically we will see like what is</p>
<p begin="00:44:01.520" end="00:44:05.520" style="s2">the most common pattern based on that we</p>
<p begin="00:44:03.839" end="00:44:07.119" style="s2">going to segregate the data</p>
<p begin="00:44:05.520" end="00:44:09.040" style="s2">&gt;&gt; right so for different use cases you</p>
<p begin="00:44:07.119" end="00:44:11.920" style="s2">will have different sharding keys right</p>
<p begin="00:44:09.040" end="00:44:14.240" style="s2">&gt;&gt; correct but uh uh what I&#39;m seeing the</p>
<p begin="00:44:11.920" end="00:44:16.640" style="s2">problem like how if if suppose this</p>
<p begin="00:44:14.240" end="00:44:19.680" style="s2">taking this as a example we have</p>
<p begin="00:44:16.640" end="00:44:21.760" style="s2">multiple users in S1 S2 S3 so if I have</p>
<p begin="00:44:19.680" end="00:44:24.960" style="s2">a page where I have to show all the</p>
<p begin="00:44:21.760" end="00:44:27.760" style="s2">users then how the query will basically</p>
<p begin="00:44:24.960" end="00:44:29.359" style="s2">work and how we going to optimize that</p>
<p begin="00:44:27.760" end="00:44:32.160" style="s2">thing over here because I&#39;m seeing this</p>
<p begin="00:44:29.359" end="00:44:32.960" style="s2">as a doing the sharding on multiple</p>
<p begin="00:44:32.160" end="00:44:34.480" style="s2">multiple</p>
<p begin="00:44:32.960" end="00:44:36.960" style="s2">&gt;&gt; so basically what you are what you&#39;re</p>
<p begin="00:44:34.480" end="00:44:41.040" style="s2">pointing at Rajie is called as a concept</p>
<p begin="00:44:36.960" end="00:44:42.720" style="s2">of intrashard request and intershard</p>
<p begin="00:44:41.040" end="00:44:44.880" style="s2">requests. There are going to be some</p>
<p begin="00:44:42.720" end="00:44:46.560" style="s2">requests that can be handled within a</p>
<p begin="00:44:44.880" end="00:44:48.000" style="s2">shard and there are going to be some</p>
<p begin="00:44:46.560" end="00:44:50.400" style="s2">requests that require you to go to</p>
<p begin="00:44:48.000" end="00:44:50.960" style="s2">multiple shards and then compute the</p>
<p begin="00:44:50.400" end="00:44:51.440" style="s2">answer.</p>
<p begin="00:44:50.960" end="00:44:53.680" style="s2">&gt;&gt; Correct.</p>
<p begin="00:44:51.440" end="00:44:56.640" style="s2">&gt;&gt; Intrashard requests are a lot more</p>
<p begin="00:44:53.680" end="00:45:00.480" style="s2">optimal. Intershard requests are a lot</p>
<p begin="00:44:56.640" end="00:45:03.599" style="s2">less optimal. We will discuss multiple</p>
<p begin="00:45:00.480" end="00:45:06.640" style="s2">systems and we will see how to make most</p>
<p begin="00:45:03.599" end="00:45:08.720" style="s2">of our requests intrashard and how can</p>
<p begin="00:45:06.640" end="00:45:10.560" style="s2">we avoid intershard as much as possible</p>
<p begin="00:45:08.720" end="00:45:13.040" style="s2">because intershard requests are going to</p>
<p begin="00:45:10.560" end="00:45:16.160" style="s2">be very very dreadful. So if you</p>
<p begin="00:45:13.040" end="00:45:18.480" style="s2">remember that uh uh truck would have</p>
<p begin="00:45:16.160" end="00:45:19.440" style="s2">discussed the Facebook uh news feed</p>
<p begin="00:45:18.480" end="00:45:20.000" style="s2">example right?</p>
<p begin="00:45:19.440" end="00:45:22.240" style="s2">&gt;&gt; Yes.</p>
<p begin="00:45:20.000" end="00:45:24.720" style="s2">&gt;&gt; He would have told you that I would</p>
<p begin="00:45:22.240" end="00:45:27.440" style="s2">rather cash the recent posts.</p>
<p begin="00:45:24.720" end="00:45:30.000" style="s2">&gt;&gt; Yeah. uh and I will rather put pull them</p>
<p begin="00:45:27.440" end="00:45:32.640" style="s2">from the same database. The reason was</p>
<p begin="00:45:30.000" end="00:45:34.160" style="s2">that Prager did not want you to design a</p>
<p begin="00:45:32.640" end="00:45:36.960" style="s2">system where you will go to different</p>
<p begin="00:45:34.160" end="00:45:38.880" style="s2">machines and query this machine please</p>
<p begin="00:45:36.960" end="00:45:40.480" style="s2">tell me the latest post. This machine</p>
<p begin="00:45:38.880" end="00:45:42.079" style="s2">please tell me the latest post. This</p>
<p begin="00:45:40.480" end="00:45:44.079" style="s2">machine please tell me the latest post</p>
<p begin="00:45:42.079" end="00:45:46.160" style="s2">because if you do that then you are</p>
<p begin="00:45:44.079" end="00:45:48.240" style="s2">overwhelming the entire network. Your</p>
<p begin="00:45:46.160" end="00:45:50.640" style="s2">requests are reaching every shard which</p>
<p begin="00:45:48.240" end="00:45:53.520" style="s2">is a very very dreadful thing to do. So</p>
<p begin="00:45:50.640" end="00:45:56.000" style="s2">we we figure out ways to avoid</p>
<p begin="00:45:53.520" end="00:45:57.200" style="s2">intershard requests and the way that</p>
<p begin="00:45:56.000" end="00:45:58.960" style="s2">prairie would have taught you in the</p>
<p begin="00:45:57.200" end="00:46:02.880" style="s2">last class would have been that I am</p>
<p begin="00:45:58.960" end="00:46:04.960" style="s2">going to use a recent DB a recent post</p>
<p begin="00:46:02.880" end="00:46:07.280" style="s2">DB from where I&#39;m going to fetch it. So</p>
<p begin="00:46:04.960" end="00:46:09.599" style="s2">I&#39;m going to convert my intershard</p>
<p begin="00:46:07.280" end="00:46:11.280" style="s2">request into a single machine request</p>
<p begin="00:46:09.599" end="00:46:12.319" style="s2">and which is going to be optimal. But</p>
<p begin="00:46:11.280" end="00:46:14.079" style="s2">this is something that we&#39;ll discuss</p>
<p begin="00:46:12.319" end="00:46:16.720" style="s2">again and again in the following storage</p>
<p begin="00:46:14.079" end="00:46:17.440" style="s2">classes. Uh but I have given you a short</p>
<p begin="00:46:16.720" end="00:46:19.760" style="s2">answer, right?</p>
<p begin="00:46:17.440" end="00:46:22.800" style="s2">&gt;&gt; Yeah. Yes. Thank you very much.</p>
<p begin="00:46:19.760" end="00:46:25.520" style="s2">Thanks a lot Rajie. Karun Karum Karun</p>
<p begin="00:46:22.800" end="00:46:28.480" style="s2">Maji your time. Your turn. Yeah. Hi K.</p>
<p begin="00:46:25.520" end="00:46:30.560" style="s2">So my question is like suppose a shard</p>
<p begin="00:46:28.480" end="00:46:33.520" style="s2">has like around thousand users like user</p>
<p begin="00:46:30.560" end="00:46:35.440" style="s2">data. So out of thousand user data like</p>
<p begin="00:46:33.520" end="00:46:37.599" style="s2">100 people are like most influential or</p>
<p begin="00:46:35.440" end="00:46:38.880" style="s2">like having more more number of follows</p>
<p begin="00:46:37.599" end="00:46:42.079" style="s2">and getting more number of read</p>
<p begin="00:46:38.880" end="00:46:44.560" style="s2">requests. So we don&#39;t need to replicate</p>
<p begin="00:46:42.079" end="00:46:48.480" style="s2">all the 900 users in the same DB. We</p>
<p begin="00:46:44.560" end="00:46:50.319" style="s2">just wanted to replicate only the 100.</p>
<p begin="00:46:48.480" end="00:46:52.240" style="s2">Got it. In that case, you would rather</p>
<p begin="00:46:50.319" end="00:46:54.560" style="s2">than Okay, so there are two ways to</p>
<p begin="00:46:52.240" end="00:46:56.480" style="s2">First of all, this is a this is a hot</p>
<p begin="00:46:54.560" end="00:46:58.560" style="s2">shard problem, right? This is a problem</p>
<p begin="00:46:56.480" end="00:47:00.240" style="s2">which is called as in the in the in the</p>
<p begin="00:46:58.560" end="00:47:02.560" style="s2">high level design lingo called as hot</p>
<p begin="00:47:00.240" end="00:47:05.200" style="s2">shard. You have a shard which has a lot</p>
<p begin="00:47:02.560" end="00:47:06.960" style="s2">of requests coming. That&#39;s that&#39;s a</p>
<p begin="00:47:05.200" end="00:47:08.560" style="s2">that&#39;s something that we might discuss</p>
<p begin="00:47:06.960" end="00:47:09.680" style="s2">later. This is not the right time to</p>
<p begin="00:47:08.560" end="00:47:12.000" style="s2">discuss it. But</p>
<p begin="00:47:09.680" end="00:47:15.599" style="s2">&gt;&gt; to answer your specific question, there</p>
<p begin="00:47:12.000" end="00:47:17.200" style="s2">are two different kinds of uh there are</p>
<p begin="00:47:15.599" end="00:47:19.119" style="s2">two different kinds of ways that you can</p>
<p begin="00:47:17.200" end="00:47:21.680" style="s2">look at this problem. One is that you</p>
<p begin="00:47:19.119" end="00:47:23.680" style="s2">can say that okay I would want to only</p>
<p begin="00:47:21.680" end="00:47:26.079" style="s2">replicate a few data points of the</p>
<p begin="00:47:23.680" end="00:47:27.520" style="s2">chart. That&#39;s very difficult to manage,</p>
<p begin="00:47:26.079" end="00:47:29.200" style="s2">very difficult to implement, very</p>
<p begin="00:47:27.520" end="00:47:30.800" style="s2">difficult to imagine, very difficult to</p>
<p begin="00:47:29.200" end="00:47:32.960" style="s2">keep a track of. You would not want to</p>
<p begin="00:47:30.800" end="00:47:34.960" style="s2">go that route. The other way to do that</p>
<p begin="00:47:32.960" end="00:47:36.640" style="s2">would be that you might want to have a</p>
<p begin="00:47:34.960" end="00:47:41.200" style="s2">hot shard. You might want to have a</p>
<p begin="00:47:36.640" end="00:47:43.119" style="s2">shard which has a few popular users in</p>
<p begin="00:47:41.200" end="00:47:44.560" style="s2">them. You might want to have other</p>
<p begin="00:47:43.119" end="00:47:46.160" style="s2">shards which are cold shards which are</p>
<p begin="00:47:44.560" end="00:47:47.920" style="s2">people like you and me. Nobody comes to</p>
<p begin="00:47:46.160" end="00:47:49.599" style="s2">our profiles. Nobody&#39;s interested in</p>
<p begin="00:47:47.920" end="00:47:51.280" style="s2">knowing what&#39;s happening in our lives.</p>
<p begin="00:47:49.599" end="00:47:52.960" style="s2">So we have very few requests. Right? So</p>
<p begin="00:47:51.280" end="00:47:54.319" style="s2">there might be few shards which are cold</p>
<p begin="00:47:52.960" end="00:47:56.720" style="s2">shards. There might be few shards are</p>
<p begin="00:47:54.319" end="00:47:59.280" style="s2">hot shots. And your replication strategy</p>
<p begin="00:47:56.720" end="00:48:01.040" style="s2">for hot shots might be a lot different</p>
<p begin="00:47:59.280" end="00:48:02.880" style="s2">than your replication strategy for other</p>
<p begin="00:48:01.040" end="00:48:04.720" style="s2">shards. This is the route that people</p>
<p begin="00:48:02.880" end="00:48:06.640" style="s2">usually use. they don&#39;t use the</p>
<p begin="00:48:04.720" end="00:48:08.319" style="s2">convoluted route that you are suggesting</p>
<p begin="00:48:06.640" end="00:48:09.839" style="s2">that okay in this chart I will only</p>
<p begin="00:48:08.319" end="00:48:11.280" style="s2">replicate some user and some user I will</p>
<p begin="00:48:09.839" end="00:48:13.119" style="s2">not that&#39;s very difficult to keep a</p>
<p begin="00:48:11.280" end="00:48:15.599" style="s2">track of very difficult to manage not a</p>
<p begin="00:48:13.119" end="00:48:16.800" style="s2">very not a very elegant solution uh have</p>
<p begin="00:48:15.599" end="00:48:17.920" style="s2">I made myself clear</p>
<p begin="00:48:16.800" end="00:48:20.560" style="s2">&gt;&gt; yes yes</p>
<p begin="00:48:17.920" end="00:48:23.440" style="s2">&gt;&gt; and and okay also like I mean sorry for</p>
<p begin="00:48:20.560" end="00:48:26.079" style="s2">taking off so just uh like you said like</p>
<p begin="00:48:23.440" end="00:48:28.240" style="s2">replicating DB is not a great I mean</p>
<p begin="00:48:26.079" end="00:48:30.319" style="s2">having multiple instance like uh the way</p>
<p begin="00:48:28.240" end="00:48:33.520" style="s2">we scale the app servers similarly like</p>
<p begin="00:48:30.319" end="00:48:35.680" style="s2">we cannot do that for DB but like We</p>
<p begin="00:48:33.520" end="00:48:38.319" style="s2">have an SDS concept, right? Like where</p>
<p begin="00:48:35.680" end="00:48:40.079" style="s2">we have only one right node and like</p>
<p begin="00:48:38.319" end="00:48:41.119" style="s2">multiple reads read nodes.</p>
<p begin="00:48:40.079" end="00:48:43.599" style="s2">&gt;&gt; Yeah. So okay. So maybe you</p>
<p begin="00:48:41.119" end="00:48:45.760" style="s2">misunderstood my statement. My statement</p>
<p begin="00:48:43.599" end="00:48:47.920" style="s2">was more with respect to sharding. You</p>
<p begin="00:48:45.760" end="00:48:50.240" style="s2">don&#39;t decide that I have had four shards</p>
<p begin="00:48:47.920" end="00:48:52.559" style="s2">today and I just have 20 shards tomorrow</p>
<p begin="00:48:50.240" end="00:48:54.559" style="s2">or I have in the next hour my number of</p>
<p begin="00:48:52.559" end="00:48:56.240" style="s2">shards the number of partitions in which</p>
<p begin="00:48:54.559" end="00:48:59.119" style="s2">I would I would have divided my data</p>
<p begin="00:48:56.240" end="00:49:01.520" style="s2">increases. You can replic increase your</p>
<p begin="00:48:59.119" end="00:49:03.599" style="s2">replicas. If your read requests are</p>
<p begin="00:49:01.520" end="00:49:06.079" style="s2">coming becoming very high, you can</p>
<p begin="00:49:03.599" end="00:49:06.880" style="s2">increase your replicas.</p>
<p begin="00:49:06.079" end="00:49:07.359" style="s2">&gt;&gt; Does it make sense?</p>
<p begin="00:49:06.880" end="00:49:08.800" style="s2">&gt;&gt; Yes.</p>
<p begin="00:49:07.359" end="00:49:11.040" style="s2">&gt;&gt; But you would not want to take a</p>
<p begin="00:49:08.800" end="00:49:13.119" style="s2">decision with respect to sharding and</p>
<p begin="00:49:11.040" end="00:49:15.200" style="s2">increase your shards instantaneously.</p>
<p begin="00:49:13.119" end="00:49:16.559" style="s2">Okay. So that&#39;s what my comment was.</p>
<p begin="00:49:15.200" end="00:49:18.079" style="s2">Thank you for asking this. I hope I have</p>
<p begin="00:49:16.559" end="00:49:19.440" style="s2">made myself clear.</p>
<p begin="00:49:18.079" end="00:49:22.400" style="s2">&gt;&gt; Yeah. Thank you.</p>
<p begin="00:49:19.440" end="00:49:24.800" style="s2">&gt;&gt; Okay. Thanks a lot. Okay folks. So</p>
<p begin="00:49:22.400" end="00:49:26.480" style="s2">that&#39;s great and we have discussed a</p>
<p begin="00:49:24.800" end="00:49:28.240" style="s2">bunch of things. I hope everybody&#39;s</p>
<p begin="00:49:26.480" end="00:49:29.520" style="s2">happy. If somebody&#39;s not happy,</p>
<p begin="00:49:28.240" end="00:49:31.040" style="s2">somebody&#39;s super angry at me that</p>
<p begin="00:49:29.520" end="00:49:33.280" style="s2">Ketarun what are you teaching? You are</p>
<p begin="00:49:31.040" end="00:49:36.240" style="s2">super slow, you are super fast or this</p>
<p begin="00:49:33.280" end="00:49:38.000" style="s2">is not making sense. Uh I&#39;m sorry. I</p>
<p begin="00:49:36.240" end="00:49:39.920" style="s2">would request you to speak up and let me</p>
<p begin="00:49:38.000" end="00:49:41.280" style="s2">know uh what you are not understanding</p>
<p begin="00:49:39.920" end="00:49:44.079" style="s2">but do my best to make you guys</p>
<p begin="00:49:41.280" end="00:49:46.000" style="s2">understand. Okay, cool. So let&#39;s let&#39;s</p>
<p begin="00:49:44.079" end="00:49:47.839" style="s2">go on and discuss the next topic of</p>
<p begin="00:49:46.000" end="00:49:50.000" style="s2">today which is the cap theorem. I will</p>
<p begin="00:49:47.839" end="00:49:52.559" style="s2">discuss that. I will discuss space LC</p>
<p begin="00:49:50.000" end="00:49:54.400" style="s2">and I will come back to this replication</p>
<p begin="00:49:52.559" end="00:49:56.800" style="s2">again and discuss a bunch of more things</p>
<p begin="00:49:54.400" end="00:49:58.960" style="s2">about replication. So I hope everybody&#39;s</p>
<p begin="00:49:56.800" end="00:50:03.520" style="s2">excited. Let&#39;s move on to the cap</p>
<p begin="00:49:58.960" end="00:50:07.599" style="s2">theorem. Okay, the cap theorem.</p>
<p begin="00:50:03.520" end="00:50:10.720" style="s2">What is cap theorem? Cap theorem says in</p>
<p begin="00:50:07.599" end="00:50:13.839" style="s2">distributed systems</p>
<p begin="00:50:10.720" end="00:50:17.359" style="s2">you can only choose</p>
<p begin="00:50:13.839" end="00:50:22.440" style="s2">two out of these three properties.</p>
<p begin="00:50:17.359" end="00:50:22.440" style="s2">So I will write it down. In</p>
<p begin="00:50:22.960" end="00:50:28.839" style="s2">distributed</p>
<p begin="00:50:25.839" end="00:50:28.839" style="s2">systems</p>
<p begin="00:50:29.359" end="00:50:34.480" style="s2">you can only</p>
<p begin="00:50:32.960" end="00:50:37.520" style="s2">choose</p>
<p begin="00:50:34.480" end="00:50:40.720" style="s2">two out of three</p>
<p begin="00:50:37.520" end="00:50:44.079" style="s2">of these</p>
<p begin="00:50:40.720" end="00:50:47.280" style="s2">properties. So cap has three initials. C</p>
<p begin="00:50:44.079" end="00:50:49.440" style="s2">A P each of them represent a property</p>
<p begin="00:50:47.280" end="00:50:51.119" style="s2">and the CAT theorem tells you that in a</p>
<p begin="00:50:49.440" end="00:50:54.400" style="s2">system you can only choose two out of</p>
<p begin="00:50:51.119" end="00:50:56.880" style="s2">these three properties simultaneously</p>
<p begin="00:50:54.400" end="00:50:58.880" style="s2">okay now I will list down the properties</p>
<p begin="00:50:56.880" end="00:51:01.839" style="s2">what does what are these properties</p>
<p begin="00:50:58.880" end="00:51:04.720" style="s2">about uh and we have a mind readader in</p>
<p begin="00:51:01.839" end="00:51:07.040" style="s2">our class S can read what&#39;s there in my</p>
<p begin="00:51:04.720" end="00:51:11.200" style="s2">mind and he can just predict what I&#39;m</p>
<p begin="00:51:07.040" end="00:51:13.680" style="s2">going to write so uh okay Ra says my</p>
<p begin="00:51:11.200" end="00:51:15.200" style="s2">voice is a bit muffled is that the case</p>
<p begin="00:51:13.680" end="00:51:17.280" style="s2">with everybody. Are you not able to hear</p>
<p begin="00:51:15.200" end="00:51:19.520" style="s2">my voice? Well,</p>
<p begin="00:51:17.280" end="00:51:21.280" style="s2">okay, that&#39;s not the That&#39;s the case</p>
<p begin="00:51:19.520" end="00:51:24.800" style="s2">with some people, not the case with some</p>
<p begin="00:51:21.280" end="00:51:26.640" style="s2">people. How is that possible? Uh, let me</p>
<p begin="00:51:24.800" end="00:51:29.920" style="s2">just check if my headphones are</p>
<p begin="00:51:26.640" end="00:51:32.920" style="s2">connected or not. Just give me a minute.</p>
<p begin="00:51:29.920" end="00:51:32.920" style="s2">Okay.</p>
<p begin="00:52:26.640" end="00:52:33.839" style="s2">Uh hello folks. Is my voice better now?</p>
<p begin="00:52:31.280" end="00:52:35.760" style="s2">Is my voice better now?</p>
<p begin="00:52:33.839" end="00:52:38.640" style="s2">Okay. So, you should have told this to</p>
<p begin="00:52:35.760" end="00:52:41.280" style="s2">me much earlier. I think my headphones</p>
<p begin="00:52:38.640" end="00:52:44.480" style="s2">are not connected. So, I have these</p>
<p begin="00:52:41.280" end="00:52:47.599" style="s2">fancy. Okay.</p>
<p begin="00:52:44.480" end="00:52:51.200" style="s2">Rohan. Rohan. Rohan did not let me</p>
<p begin="00:52:47.599" end="00:52:53.760" style="s2">complete my joke by saying it&#39;s the same</p>
<p begin="00:52:51.200" end="00:52:56.319" style="s2">as before. So I had a I I thought of a</p>
<p begin="00:52:53.760" end="00:52:59.839" style="s2">good joke to make but Rohan did not let</p>
<p begin="00:52:56.319" end="00:53:03.040" style="s2">me complete my joke. So anyhow I hope my</p>
<p begin="00:52:59.839" end="00:53:05.760" style="s2">voice is clear. Uh</p>
<p begin="00:53:03.040" end="00:53:07.760" style="s2">cool cool. Uh let&#39;s let&#39;s let&#39;s go on.</p>
<p begin="00:53:05.760" end="00:53:09.040" style="s2">Right. So cap theorem says that in</p>
<p begin="00:53:07.760" end="00:53:10.880" style="s2">distributed systems you can only pick</p>
<p begin="00:53:09.040" end="00:53:13.599" style="s2">two out of these three properties at the</p>
<p begin="00:53:10.880" end="00:53:16.800" style="s2">same time. Each of these initials mean a</p>
<p begin="00:53:13.599" end="00:53:20.760" style="s2">different property. C in the cap theorem</p>
<p begin="00:53:16.800" end="00:53:20.760" style="s2">means consistency.</p>
<p begin="00:53:21.440" end="00:53:26.680" style="s2">A in the cap theorem means availability</p>
<p begin="00:53:26.800" end="00:53:32.960" style="s2">and P in the cap theorem means partition</p>
<p begin="00:53:30.880" end="00:53:36.559" style="s2">tolerance.</p>
<p begin="00:53:32.960" end="00:53:39.520" style="s2">Now I will explain uh these concepts as</p>
<p begin="00:53:36.559" end="00:53:41.359" style="s2">I move along but I will take an example</p>
<p begin="00:53:39.520" end="00:53:44.240" style="s2">first of all. Okay, this is an example</p>
<p begin="00:53:41.359" end="00:53:45.599" style="s2">that I have been taking for years now</p>
<p begin="00:53:44.240" end="00:53:48.319" style="s2">and you would have seen this example</p>
<p begin="00:53:45.599" end="00:53:51.440" style="s2">being taken in a bunch of other posts or</p>
<p begin="00:53:48.319" end="00:53:54.640" style="s2">videos also. The cap theorem example as</p>
<p begin="00:53:51.440" end="00:53:56.640" style="s2">it&#39;s commonly called. So let me let me</p>
<p begin="00:53:54.640" end="00:53:58.720" style="s2">repeat the theorem that in any district</p>
<p begin="00:53:56.640" end="00:54:01.119" style="s2">you can only choose two out of these</p>
<p begin="00:53:58.720" end="00:54:02.559" style="s2">three properties simultaneously. There</p>
<p begin="00:54:01.119" end="00:54:03.920" style="s2">are three properties consistency,</p>
<p begin="00:54:02.559" end="00:54:05.280" style="s2">availability, partition tolerance. You</p>
<p begin="00:54:03.920" end="00:54:07.839" style="s2">can only select two out of these three</p>
<p begin="00:54:05.280" end="00:54:10.160" style="s2">together. And let&#39;s take an example so</p>
<p begin="00:54:07.839" end="00:54:12.800" style="s2">that this becomes clear. Okay. and then</p>
<p begin="00:54:10.160" end="00:54:15.119" style="s2">I will uh give you uh what do I mean by</p>
<p begin="00:54:12.800" end="00:54:18.720" style="s2">distributed system by distributed system</p>
<p begin="00:54:15.119" end="00:54:20.400" style="s2">I mean any system where it&#39;s not a</p>
<p begin="00:54:18.720" end="00:54:22.800" style="s2">single machine which is getting the job</p>
<p begin="00:54:20.400" end="00:54:24.880" style="s2">done but a bunch of machines which are</p>
<p begin="00:54:22.800" end="00:54:26.880" style="s2">together getting the job done right a</p>
<p begin="00:54:24.880" end="00:54:29.119" style="s2">system in which the computation is</p>
<p begin="00:54:26.880" end="00:54:31.359" style="s2">distributed or a system in which the</p>
<p begin="00:54:29.119" end="00:54:33.760" style="s2">storage is distributed a system in which</p>
<p begin="00:54:31.359" end="00:54:38.640" style="s2">you use multiple boxes to get your job</p>
<p begin="00:54:33.760" end="00:54:41.200" style="s2">done cool now let&#39;s imagine a scenario</p>
<p begin="00:54:38.640" end="00:54:43.920" style="s2">uh and let&#39;s Say our friend Hardep</p>
<p begin="00:54:41.200" end="00:54:47.040" style="s2">actually builds a company, starts a</p>
<p begin="00:54:43.920" end="00:54:49.520" style="s2">startup and that startup is a event</p>
<p begin="00:54:47.040" end="00:54:52.400" style="s2">reminder service. Okay. So what does</p>
<p begin="00:54:49.520" end="00:54:54.960" style="s2">that startup do? Hardep has taken a very</p>
<p begin="00:54:52.400" end="00:54:58.640" style="s2">fancy phone number. Let&#39;s say Hardep has</p>
<p begin="00:54:54.960" end="00:55:02.319" style="s2">taken a phone number 999911.</p>
<p begin="00:54:58.640" end="00:55:04.319" style="s2">Let&#39;s say this is a fancy uh fancy Yeah.</p>
<p begin="00:55:02.319" end="00:55:06.400" style="s2">Yeah. Right. right right you&#39;re right.</p>
<p begin="00:55:04.319" end="00:55:08.559" style="s2">It&#39;s it&#39;s basically taken from a blog. I</p>
<p begin="00:55:06.400" end="00:55:11.359" style="s2">can link the block uh to give the</p>
<p begin="00:55:08.559" end="00:55:14.319" style="s2">correct credits. So let&#39;s say Hardep has</p>
<p begin="00:55:11.359" end="00:55:18.079" style="s2">actually taken a very fancy number and</p>
<p begin="00:55:14.319" end="00:55:22.319" style="s2">you can call Hardep and you can let</p>
<p begin="00:55:18.079" end="00:55:24.800" style="s2">Hardep know of any important</p>
<p begin="00:55:22.319" end="00:55:27.680" style="s2">event that you want Hardep to remember</p>
<p begin="00:55:24.800" end="00:55:31.240" style="s2">for you. So, Hardep is running an event</p>
<p begin="00:55:27.680" end="00:55:31.240" style="s2">reminder service</p>
<p begin="00:55:32.880" end="00:55:37.440" style="s2">and they have taken a very fancy uh</p>
<p begin="00:55:35.359" end="00:55:40.880" style="s2">phone number. So, what is the idea? The</p>
<p begin="00:55:37.440" end="00:55:43.839" style="s2">idea is that here is our friend Hardi.</p>
<p begin="00:55:40.880" end="00:55:47.440" style="s2">They have their diary with them. Now</p>
<p begin="00:55:43.839" end="00:55:51.680" style="s2">people can call them</p>
<p begin="00:55:47.440" end="00:55:53.599" style="s2">and they can tell tell us right uh they</p>
<p begin="00:55:51.680" end="00:55:56.319" style="s2">they can tell us that let&#39;s say S called</p>
<p begin="00:55:53.599" end="00:56:00.880" style="s2">Hardep and Sav wanted Hard to note down</p>
<p begin="00:55:56.319" end="00:56:02.559" style="s2">that hey Sav Hardep I have a very</p>
<p begin="00:56:00.880" end="00:56:05.119" style="s2">important event to attend so what would</p>
<p begin="00:56:02.559" end="00:56:10.079" style="s2">you want to attend Sav uh maybe Savan</p>
<p begin="00:56:05.119" end="00:56:12.880" style="s2">has maybe Sav has a uh</p>
<p begin="00:56:10.079" end="00:56:16.640" style="s2">let&#39;s let&#39;s not let&#39;s not uh okay so</p>
<p begin="00:56:12.880" end="00:56:18.720" style="s2">Maybe S wants to S wants to Okay, AB&#39;s</p>
<p begin="00:56:16.640" end="00:56:21.839" style="s2">answer is the is the most interesting</p>
<p begin="00:56:18.720" end="00:56:24.000" style="s2">answer. So maybe S&#39;s girlfriend is</p>
<p begin="00:56:21.839" end="00:56:26.240" style="s2">getting married and they want to</p>
<p begin="00:56:24.000" end="00:56:27.760" style="s2">remember the time their girlfriend is</p>
<p begin="00:56:26.240" end="00:56:30.559" style="s2">getting married so that they can go and</p>
<p begin="00:56:27.760" end="00:56:32.880" style="s2">attend their girlfriend&#39;s wedding. Okay.</p>
<p begin="00:56:30.559" end="00:56:36.480" style="s2">So let&#39;s assume this is a interesting</p>
<p begin="00:56:32.880" end="00:56:39.440" style="s2">wedding that S has to attend and S comes</p>
<p begin="00:56:36.480" end="00:56:42.559" style="s2">and wants Hardep to register this event</p>
<p begin="00:56:39.440" end="00:56:45.760" style="s2">that okay there is this wedding that I</p>
<p begin="00:56:42.559" end="00:56:50.640" style="s2">need to attend. This wedding is on 700</p>
<p begin="00:56:45.760" end="00:56:53.920" style="s2">p.m. on let&#39;s say 28th February and</p>
<p begin="00:56:50.640" end="00:56:55.599" style="s2">please remember this for me. Okay. So</p>
<p begin="00:56:53.920" end="00:56:57.520" style="s2">and this is a event that you have to</p>
<p begin="00:56:55.599" end="00:57:00.079" style="s2">remember for S.</p>
<p begin="00:56:57.520" end="00:57:03.440" style="s2">Now S might want to call Hardep back</p>
<p begin="00:57:00.079" end="00:57:04.960" style="s2">after some time and ask Hard that hey do</p>
<p begin="00:57:03.440" end="00:57:07.680" style="s2">you remember I told you an event to</p>
<p begin="00:57:04.960" end="00:57:10.319" style="s2">remember for me what was that event will</p>
<p begin="00:57:07.680" end="00:57:11.760" style="s2">go and read from their diary and tell S</p>
<p begin="00:57:10.319" end="00:57:14.240" style="s2">that the event is that you have a</p>
<p begin="00:57:11.760" end="00:57:16.079" style="s2">wedding coming on 28th February at 7</p>
<p begin="00:57:14.240" end="00:57:18.319" style="s2">p.m. Is the idea clear to everybody?</p>
<p begin="00:57:16.079" end="00:57:20.000" style="s2">What the service does? People can come</p>
<p begin="00:57:18.319" end="00:57:21.920" style="s2">and register their events on the</p>
<p begin="00:57:20.000" end="00:57:23.920" style="s2">service. They can call them back and</p>
<p begin="00:57:21.920" end="00:57:25.760" style="s2">know what are the things that they have</p>
<p begin="00:57:23.920" end="00:57:27.839" style="s2">asked you to register before. So</p>
<p begin="00:57:25.760" end="00:57:30.720" style="s2">basically a reminder service where you</p>
<p begin="00:57:27.839" end="00:57:32.319" style="s2">can keep things in uh in memory and then</p>
<p begin="00:57:30.720" end="00:57:34.319" style="s2">people can come and ask you and you will</p>
<p begin="00:57:32.319" end="00:57:36.559" style="s2">have to reply back to them. Now this is</p>
<p begin="00:57:34.319" end="00:57:38.319" style="s2">a great service. Uh get this got popular</p>
<p begin="00:57:36.559" end="00:57:39.839" style="s2">a lot of people started using it and</p>
<p begin="00:57:38.319" end="00:57:43.440" style="s2">Hardep has started to make a lot of</p>
<p begin="00:57:39.839" end="00:57:44.880" style="s2">money. Now the problem is uh what does</p>
<p begin="00:57:43.440" end="00:57:46.640" style="s2">this fancy number do? So this fancy</p>
<p begin="00:57:44.880" end="00:57:48.720" style="s2">number helps people to remember the</p>
<p begin="00:57:46.640" end="00:57:50.319" style="s2">number and call Hardep easily right. So</p>
<p begin="00:57:48.720" end="00:57:52.000" style="s2">people just call on this fancy number</p>
<p begin="00:57:50.319" end="00:57:54.000" style="s2">and they get connected to Hardep and</p>
<p begin="00:57:52.000" end="00:57:55.920" style="s2">Hardep answers takes a request and</p>
<p begin="00:57:54.000" end="00:57:57.359" style="s2">answers their request. So understand</p>
<p begin="00:57:55.920" end="00:57:58.880" style="s2">that there are two kinds of requests</p>
<p begin="00:57:57.359" end="00:58:00.480" style="s2">coming. There&#39;s a write request and</p>
<p begin="00:57:58.880" end="00:58:02.480" style="s2">there is a read request. The write</p>
<p begin="00:58:00.480" end="00:58:05.599" style="s2">request is when somebody calls you and</p>
<p begin="00:58:02.480" end="00:58:08.319" style="s2">asks you to re remember or write down a</p>
<p begin="00:58:05.599" end="00:58:11.040" style="s2">new event. The read request is when</p>
<p begin="00:58:08.319" end="00:58:13.359" style="s2">somebody comes to you and wants you to</p>
<p begin="00:58:11.040" end="00:58:14.799" style="s2">answer their question and you have to</p>
<p begin="00:58:13.359" end="00:58:16.720" style="s2">tell them what are the events that they</p>
<p begin="00:58:14.799" end="00:58:18.559" style="s2">have. Is everybody in the class with me?</p>
<p begin="00:58:16.720" end="00:58:20.480" style="s2">There are two kinds of request. A write</p>
<p begin="00:58:18.559" end="00:58:22.319" style="s2">request and a read request. Now let&#39;s</p>
<p begin="00:58:20.480" end="00:58:24.480" style="s2">say this request this this service</p>
<p begin="00:58:22.319" end="00:58:27.359" style="s2">becomes very popular. And as this</p>
<p begin="00:58:24.480" end="00:58:30.799" style="s2">service becomes very popular,</p>
<p begin="00:58:27.359" end="00:58:33.280" style="s2">there are so many requests coming that</p>
<p begin="00:58:30.799" end="00:58:35.599" style="s2">Hardy by themselves</p>
<p begin="00:58:33.280" end="00:58:38.079" style="s2">just a single person maintaining all of</p>
<p begin="00:58:35.599" end="00:58:40.160" style="s2">this is not possible as the number of</p>
<p begin="00:58:38.079" end="00:58:42.240" style="s2">requests that you get are very high and</p>
<p begin="00:58:40.160" end="00:58:44.559" style="s2">a single person is not able to keep up</p>
<p begin="00:58:42.240" end="00:58:46.000" style="s2">with all the requests that come. Is</p>
<p begin="00:58:44.559" end="00:58:47.839" style="s2">everybody in the class with me? Is</p>
<p begin="00:58:46.000" end="00:58:52.880" style="s2">everybody in the class with me? Right?</p>
<p begin="00:58:47.839" end="00:58:55.520" style="s2">So cannot handle this all by themselves.</p>
<p begin="00:58:52.880" end="00:58:58.000" style="s2">So Hardep and their diary is no longer</p>
<p begin="00:58:55.520" end="00:59:00.480" style="s2">sufficient. So what will do? What will</p>
<p begin="00:58:58.000" end="00:59:03.440" style="s2">what will Hardep do? Hardep will hire</p>
<p begin="00:59:00.480" end="00:59:04.960" style="s2">another person. Let&#39;s say Hardep hires</p>
<p begin="00:59:03.440" end="00:59:08.319" style="s2">Nikl.</p>
<p begin="00:59:04.960" end="00:59:11.839" style="s2">And now they have hired Nikl to work for</p>
<p begin="00:59:08.319" end="00:59:15.280" style="s2">them. And now there are two people who</p>
<p begin="00:59:11.839" end="00:59:17.040" style="s2">will be helping the service to remain</p>
<p begin="00:59:15.280" end="00:59:19.359" style="s2">affluent.</p>
<p begin="00:59:17.040" end="00:59:21.760" style="s2">Now what will happen? People will still</p>
<p begin="00:59:19.359" end="00:59:25.920" style="s2">call on the same number.</p>
<p begin="00:59:21.760" end="00:59:29.040" style="s2">There will be some sort of a hardware or</p>
<p begin="00:59:25.920" end="00:59:31.280" style="s2">some sort of a load balancer or some</p>
<p begin="00:59:29.040" end="00:59:33.440" style="s2">sort of a gateway where people connect</p>
<p begin="00:59:31.280" end="00:59:37.119" style="s2">with connect to this gateway or this</p>
<p begin="00:59:33.440" end="00:59:41.280" style="s2">load balancer will forward the request</p>
<p begin="00:59:37.119" end="00:59:44.319" style="s2">randomly between Hardep or who was the</p>
<p begin="00:59:41.280" end="00:59:46.319" style="s2">person that Hardep hired I forgot. Uh so</p>
<p begin="00:59:44.319" end="00:59:49.119" style="s2">whosoever that person was I forgot their</p>
<p begin="00:59:46.319" end="00:59:51.839" style="s2">name and that is the person that helps</p>
<p begin="00:59:49.119" end="00:59:55.839" style="s2">Hadep to get this job done. Okay, it was</p>
<p begin="00:59:51.839" end="00:59:58.160" style="s2">Nikl. So Hardep and Nikl. Now a a phone</p>
<p begin="00:59:55.839" end="01:00:01.040" style="s2">call comes the load balancer forwards it</p>
<p begin="00:59:58.160" end="01:00:02.720" style="s2">to anybody that person writes down and</p>
<p begin="01:00:01.040" end="01:00:04.559" style="s2">whenever a phone call comes that person</p>
<p begin="01:00:02.720" end="01:00:06.799" style="s2">reads the diary and let the person know</p>
<p begin="01:00:04.559" end="01:00:08.319" style="s2">whether they have a event or not. Is</p>
<p begin="01:00:06.799" end="01:00:09.920" style="s2">everybody able to appreciate how have</p>
<p begin="01:00:08.319" end="01:00:11.680" style="s2">you scaled the system? Rather than</p>
<p begin="01:00:09.920" end="01:00:14.079" style="s2">having one Hardep, you now have Hardep</p>
<p begin="01:00:11.680" end="01:00:16.720" style="s2">and Nickel together doing this for you.</p>
<p begin="01:00:14.079" end="01:00:18.000" style="s2">Now understand this is a distributed</p>
<p begin="01:00:16.720" end="01:00:20.079" style="s2">system. Now you have distributed</p>
<p begin="01:00:18.000" end="01:00:23.119" style="s2">computing, distribut distributed storage</p>
<p begin="01:00:20.079" end="01:00:26.079" style="s2">happening. Now try and understand what</p>
<p begin="01:00:23.119" end="01:00:29.520" style="s2">are the issues that will crop up. Right?</p>
<p begin="01:00:26.079" end="01:00:31.359" style="s2">So let&#39;s say our friend uh show calls</p>
<p begin="01:00:29.520" end="01:00:32.720" style="s2">and show called and said that hey I have</p>
<p begin="01:00:31.359" end="01:00:34.160" style="s2">my girlfriend&#39;s wedding. I need to</p>
<p begin="01:00:32.720" end="01:00:37.200" style="s2">remember this. Please remember this for</p>
<p begin="01:00:34.160" end="01:00:40.720" style="s2">me. And the first time Ship called the</p>
<p begin="01:00:37.200" end="01:00:43.760" style="s2">request reached her. So Shabb&#39;s request</p>
<p begin="01:00:40.720" end="01:00:47.280" style="s2">is with Hardep and he has written what</p>
<p begin="01:00:43.760" end="01:00:52.000" style="s2">Shib&#39;s request was about. Now next time</p>
<p begin="01:00:47.280" end="01:00:54.400" style="s2">when Shib calls and this time randomly</p>
<p begin="01:00:52.000" end="01:00:57.760" style="s2">this load balancer forwards Show&#39;s</p>
<p begin="01:00:54.400" end="01:00:59.599" style="s2">request to Nikl and Show is asking Nikl</p>
<p begin="01:00:57.760" end="01:01:00.880" style="s2">that hey man I told you to remember my</p>
<p begin="01:00:59.599" end="01:01:04.400" style="s2">girlfriend&#39;s wedding can you please tell</p>
<p begin="01:01:00.880" end="01:01:06.480" style="s2">me when it is? Given Nikl never wrote</p>
<p begin="01:01:04.400" end="01:01:08.240" style="s2">that entry,</p>
<p begin="01:01:06.480" end="01:01:09.200" style="s2">Nicl will reply back and say, &quot;Hey, you</p>
<p begin="01:01:08.240" end="01:01:12.880" style="s2">know what? You don&#39;t have any</p>
<p begin="01:01:09.200" end="01:01:14.559" style="s2">girlfriend&#39;s wedding coming upcoming.</p>
<p begin="01:01:12.880" end="01:01:17.359" style="s2">Is that is that fair enough? Do does</p>
<p begin="01:01:14.559" end="01:01:19.760" style="s2">everybody appreciate it?&quot; Right? So now</p>
<p begin="01:01:17.359" end="01:01:22.079" style="s2">Shabb is told that hey there is no event</p>
<p begin="01:01:19.760" end="01:01:23.839" style="s2">that you want me to you want me to read</p>
<p begin="01:01:22.079" end="01:01:28.240" style="s2">from. I did not write any such event.</p>
<p begin="01:01:23.839" end="01:01:30.160" style="s2">I&#39;m sorry. Now show is already unhappy</p>
<p begin="01:01:28.240" end="01:01:32.960" style="s2">that he has his girlfriend getting</p>
<p begin="01:01:30.160" end="01:01:35.520" style="s2">wedded. But now show becomes even more</p>
<p begin="01:01:32.960" end="01:01:38.559" style="s2">unhappy that he does not even know when</p>
<p begin="01:01:35.520" end="01:01:40.160" style="s2">is it happening. Right? So this is a</p>
<p begin="01:01:38.559" end="01:01:42.079" style="s2">very bad user experience. You don&#39;t even</p>
<p begin="01:01:40.160" end="01:01:46.240" style="s2">know what you want the other people to</p>
<p begin="01:01:42.079" end="01:01:49.839" style="s2">write. This is the scenario where your</p>
<p begin="01:01:46.240" end="01:01:52.000" style="s2">system is not consistent. How many of</p>
<p begin="01:01:49.839" end="01:01:54.400" style="s2">you understand this guys? The system is</p>
<p begin="01:01:52.000" end="01:01:56.000" style="s2">not consistent.</p>
<p begin="01:01:54.400" end="01:01:58.720" style="s2">Now let me give you the formal</p>
<p begin="01:01:56.000" end="01:02:00.319" style="s2">definition of consistency. The formal</p>
<p begin="01:01:58.720" end="01:02:02.000" style="s2">definition of consistency my dear</p>
<p begin="01:02:00.319" end="01:02:07.200" style="s2">friends is</p>
<p begin="01:02:02.000" end="01:02:11.359" style="s2">every read should return back the latest</p>
<p begin="01:02:07.200" end="01:02:13.760" style="s2">write. So every</p>
<p begin="01:02:11.359" end="01:02:16.319" style="s2">read</p>
<p begin="01:02:13.760" end="01:02:20.760" style="s2">should</p>
<p begin="01:02:16.319" end="01:02:20.760" style="s2">return back</p>
<p begin="01:02:21.280" end="01:02:26.000" style="s2">the latest right.</p>
<p begin="01:02:23.599" end="01:02:29.799" style="s2">Or in other words, you can define</p>
<p begin="01:02:26.000" end="01:02:29.799" style="s2">consistency as</p>
<p begin="01:02:31.280" end="01:02:34.839" style="s2">every machine</p>
<p begin="01:02:35.599" end="01:02:44.319" style="s2">have the same</p>
<p begin="01:02:39.200" end="01:02:45.839" style="s2">latest view of the truth.</p>
<p begin="01:02:44.319" end="01:02:48.880" style="s2">How many of you understand what</p>
<p begin="01:02:45.839" end="01:02:51.359" style="s2">consistency is? that every machine</p>
<p begin="01:02:48.880" end="01:02:54.960" style="s2">should have the same latest view of the</p>
<p begin="01:02:51.359" end="01:02:57.119" style="s2">of the of the machine, right? Or every</p>
<p begin="01:02:54.960" end="01:02:58.880" style="s2">read should return back the latest</p>
<p begin="01:02:57.119" end="01:03:01.359" style="s2">strike. Is everybody clear with the idea</p>
<p begin="01:02:58.880" end="01:03:02.640" style="s2">of consistency? I want more people to</p>
<p begin="01:03:01.359" end="01:03:04.480" style="s2">say yes. Is everybody clear with the</p>
<p begin="01:03:02.640" end="01:03:06.480" style="s2">idea of consistency?</p>
<p begin="01:03:04.480" end="01:03:09.520" style="s2">Oh, my handwriting is very poor. I I</p>
<p begin="01:03:06.480" end="01:03:11.839" style="s2">know that s I will try and write it with</p>
<p begin="01:03:09.520" end="01:03:13.599" style="s2">some better handwriting. Uh okay, cool.</p>
<p begin="01:03:11.839" end="01:03:15.520" style="s2">I will I will keep that in mind. But</p>
<p begin="01:03:13.599" end="01:03:17.119" style="s2">yeah, I want everybody in the class to</p>
<p begin="01:03:15.520" end="01:03:19.760" style="s2">understand that right now the system is</p>
<p begin="01:03:17.119" end="01:03:24.599" style="s2">not consistent. Is that clear? Okay, let</p>
<p begin="01:03:19.760" end="01:03:24.599" style="s2">me rewrite the last sentence. Uh,</p>
<p begin="01:03:25.200" end="01:03:28.200" style="s2">every</p>
<p begin="01:03:28.319" end="01:03:31.319" style="s2">machine</p>
<p begin="01:03:32.240" end="01:03:37.760" style="s2">has the same</p>
<p begin="01:03:35.520" end="01:03:40.000" style="s2">latest</p>
<p begin="01:03:37.760" end="01:03:43.039" style="s2">view</p>
<p begin="01:03:40.000" end="01:03:46.720" style="s2">of the truth. Can you guys read the</p>
<p begin="01:03:43.039" end="01:03:48.960" style="s2">sentence now? Manu and uh and and Savan.</p>
<p begin="01:03:46.720" end="01:03:50.640" style="s2">Good. So every every machine has the</p>
<p begin="01:03:48.960" end="01:03:52.319" style="s2">same latest view of the system. This is</p>
<p begin="01:03:50.640" end="01:03:53.920" style="s2">what is called as consistency. We</p>
<p begin="01:03:52.319" end="01:03:55.039" style="s2">understand that in this the present</p>
<p begin="01:03:53.920" end="01:03:57.680" style="s2">state of the system, it&#39;s not</p>
<p begin="01:03:55.039" end="01:03:59.680" style="s2">consistent. Is everybody with me? Now</p>
<p begin="01:03:57.680" end="01:04:00.960" style="s2">what are the ways to make it consistent?</p>
<p begin="01:03:59.680" end="01:04:03.359" style="s2">Right? What are the ways to make it</p>
<p begin="01:04:00.960" end="01:04:06.000" style="s2">consistent? One way to make it</p>
<p begin="01:04:03.359" end="01:04:09.280" style="s2">consistent is as follows that these</p>
<p begin="01:04:06.000" end="01:04:11.520" style="s2">people change their way of execution.</p>
<p begin="01:04:09.280" end="01:04:13.680" style="s2">These people change their protocol and</p>
<p begin="01:04:11.520" end="01:04:17.880" style="s2">update their protocol to the following.</p>
<p begin="01:04:13.680" end="01:04:17.880" style="s2">The updated protocol is</p>
<p begin="01:04:19.440" end="01:04:25.200" style="s2">that whenever somebody calls to register</p>
<p begin="01:04:22.799" end="01:04:27.200" style="s2">a write request,</p>
<p begin="01:04:25.200" end="01:04:31.039" style="s2">when somebody calls to register a write</p>
<p begin="01:04:27.200" end="01:04:32.640" style="s2">request, they don&#39;t just write it and</p>
<p begin="01:04:31.039" end="01:04:35.280" style="s2">write it with themselves and let the</p>
<p begin="01:04:32.640" end="01:04:37.680" style="s2">user know that hey your request is done.</p>
<p begin="01:04:35.280" end="01:04:39.680" style="s2">They have changed the protocol. The</p>
<p begin="01:04:37.680" end="01:04:41.599" style="s2">protocol for the right request now is as</p>
<p begin="01:04:39.680" end="01:04:45.440" style="s2">follows</p>
<p begin="01:04:41.599" end="01:04:49.640" style="s2">that whenever your client calls</p>
<p begin="01:04:45.440" end="01:04:49.640" style="s2">you reach the load balancer.</p>
<p begin="01:04:50.319" end="01:04:56.319" style="s2">The load balancer now has two people.</p>
<p begin="01:04:52.559" end="01:04:57.920" style="s2">One is Hardib the other is Nickel.</p>
<p begin="01:04:56.319" end="01:05:01.359" style="s2">What</p>
<p begin="01:04:57.920" end="01:05:03.039" style="s2">you do when you have a right request is</p>
<p begin="01:05:01.359" end="01:05:06.480" style="s2">the following</p>
<p begin="01:05:03.039" end="01:05:08.559" style="s2">that you send a request.</p>
<p begin="01:05:06.480" end="01:05:11.200" style="s2">When the request reaches any random</p>
<p begin="01:05:08.559" end="01:05:14.960" style="s2">person for the right request, they note</p>
<p begin="01:05:11.200" end="01:05:16.559" style="s2">it down the entry at their end. But they</p>
<p begin="01:05:14.960" end="01:05:19.359" style="s2">ensure</p>
<p begin="01:05:16.559" end="01:05:22.799" style="s2">that the entry is also written in the</p>
<p begin="01:05:19.359" end="01:05:24.640" style="s2">other box and only after they get a</p>
<p begin="01:05:22.799" end="01:05:27.440" style="s2">confirmation that the request is written</p>
<p begin="01:05:24.640" end="01:05:30.400" style="s2">in the other box only then they reply</p>
<p begin="01:05:27.440" end="01:05:32.880" style="s2">back with a with a approval that hey</p>
<p begin="01:05:30.400" end="01:05:35.520" style="s2">your request is done. How many of you</p>
<p begin="01:05:32.880" end="01:05:38.400" style="s2">understand this guys? So if a request</p>
<p begin="01:05:35.520" end="01:05:41.760" style="s2">randomly reaches Hardep,</p>
<p begin="01:05:38.400" end="01:05:43.520" style="s2">Hardep will write it at their end but</p>
<p begin="01:05:41.760" end="01:05:46.160" style="s2">will ensure that it&#39;s written on the</p>
<p begin="01:05:43.520" end="01:05:47.920" style="s2">other person&#39;s end as well and only</p>
<p begin="01:05:46.160" end="01:05:50.079" style="s2">after the other person has replied back</p>
<p begin="01:05:47.920" end="01:05:52.000" style="s2">saying that hey I have written it only</p>
<p begin="01:05:50.079" end="01:05:53.839" style="s2">then you send an acknowledgement to the</p>
<p begin="01:05:52.000" end="01:05:56.640" style="s2">user saying that okay your process is</p>
<p begin="01:05:53.839" end="01:05:59.599" style="s2">done is everybody in the class with me</p>
<p begin="01:05:56.640" end="01:06:02.400" style="s2">your write request now has to ensure</p>
<p begin="01:05:59.599" end="01:06:04.640" style="s2">that you write on the both the systems</p>
<p begin="01:06:02.400" end="01:06:07.760" style="s2">so that the next time When the client</p>
<p begin="01:06:04.640" end="01:06:11.440" style="s2">calls, they can actually go to any of</p>
<p begin="01:06:07.760" end="01:06:13.039" style="s2">the two boxes and they can get their job</p>
<p begin="01:06:11.440" end="01:06:15.920" style="s2">done.</p>
<p begin="01:06:13.039" end="01:06:18.480" style="s2">Is it making sense to everybody? So now</p>
<p begin="01:06:15.920" end="01:06:19.920" style="s2">if calls the next time and no matter</p>
<p begin="01:06:18.480" end="01:06:22.000" style="s2">whether the call gets connected to</p>
<p begin="01:06:19.920" end="01:06:24.000" style="s2">Hardep or Nikl, they will know when</p>
<p begin="01:06:22.000" end="01:06:26.400" style="s2">their girlfriend&#39;s wedding is. Am I</p>
<p begin="01:06:24.000" end="01:06:29.599" style="s2">making sense to everybody in the class?</p>
<p begin="01:06:26.400" end="01:06:31.280" style="s2">This is a system which I have four and</p>
<p begin="01:06:29.599" end="01:06:34.680" style="s2">five interchanged. Okay, sorry. Yeah.</p>
<p begin="01:06:31.280" end="01:06:34.680" style="s2">Four and five.</p>
<p begin="01:06:34.880" end="01:06:42.039" style="s2">Four five. So here the system is</p>
<p begin="01:06:39.039" end="01:06:42.039" style="s2">consistent.</p>
<p begin="01:06:43.200" end="01:06:47.920" style="s2">Now let&#39;s understand what&#39;s the problem</p>
<p begin="01:06:44.880" end="01:06:49.440" style="s2">with this updated protocol. Right? Uh</p>
<p begin="01:06:47.920" end="01:06:52.079" style="s2">why is it needed to write in both the</p>
<p begin="01:06:49.440" end="01:06:53.760" style="s2">machines? uh Nishi it&#39;s needed to it&#39;s</p>
<p begin="01:06:52.079" end="01:06:55.359" style="s2">needed to write in both the machines</p>
<p begin="01:06:53.760" end="01:06:57.280" style="s2">because</p>
<p begin="01:06:55.359" end="01:06:59.440" style="s2">you want to ensure that next time</p>
<p begin="01:06:57.280" end="01:07:01.760" style="s2">whenever the client calls no matter</p>
<p begin="01:06:59.440" end="01:07:03.680" style="s2">wherever their call gets connected they</p>
<p begin="01:07:01.760" end="01:07:06.000" style="s2">will get the consistent view of the</p>
<p begin="01:07:03.680" end="01:07:09.200" style="s2">reality Nishi am I making sense that</p>
<p begin="01:07:06.000" end="01:07:12.000" style="s2">they will get the latest</p>
<p begin="01:07:09.200" end="01:07:14.559" style="s2">latest view of the of the reality is</p>
<p begin="01:07:12.000" end="01:07:17.119" style="s2">this making sense to you Nishi yes uh</p>
<p begin="01:07:14.559" end="01:07:19.440" style="s2">Hardep and Nikl are replicas is what</p>
<p begin="01:07:17.119" end="01:07:22.079" style="s2">Karanomachi is asking yes that&#39;s true</p>
<p begin="01:07:19.440" end="01:07:23.599" style="s2">these are replicas in a way now right so</p>
<p begin="01:07:22.079" end="01:07:25.200" style="s2">you are replicating your information to</p>
<p begin="01:07:23.599" end="01:07:28.319" style="s2">the other box so they are creating a</p>
<p begin="01:07:25.200" end="01:07:30.160" style="s2">replica Muhammad asks what&#39;s three doing</p>
<p begin="01:07:28.319" end="01:07:32.480" style="s2">three was writing the information at</p>
<p begin="01:07:30.160" end="01:07:35.680" style="s2">your own end Muhammad does it make sense</p>
<p begin="01:07:32.480" end="01:07:38.480" style="s2">so you added the event at your own end</p>
<p begin="01:07:35.680" end="01:07:40.799" style="s2">am I making sense to you Mohammad three</p>
<p begin="01:07:38.480" end="01:07:42.079" style="s2">was writing the event at your own end so</p>
<p begin="01:07:40.799" end="01:07:44.480" style="s2">this is consistent but what&#39;s the</p>
<p begin="01:07:42.079" end="01:07:47.359" style="s2">problem with this approach the problem</p>
<p begin="01:07:44.480" end="01:07:49.520" style="s2">with this approach is the following</p>
<p begin="01:07:47.359" end="01:07:51.280" style="s2">let&#39;s say</p>
<p begin="01:07:49.520" end="01:07:53.920" style="s2">yeah yeah yeah clearly you are right but</p>
<p begin="01:07:51.280" end="01:07:56.400" style="s2">we will come to the slow or the fast</p>
<p begin="01:07:53.920" end="01:07:58.720" style="s2">later but there is another fundamental</p>
<p begin="01:07:56.400" end="01:08:00.000" style="s2">issue with this approach the fundamental</p>
<p begin="01:07:58.720" end="01:08:02.000" style="s2">issue is that you have updated your</p>
<p begin="01:08:00.000" end="01:08:03.839" style="s2">protocol that you will only acknowledge</p>
<p begin="01:08:02.000" end="01:08:06.000" style="s2">the right to the user that your right is</p>
<p begin="01:08:03.839" end="01:08:09.039" style="s2">done only when you will be able to write</p>
<p begin="01:08:06.000" end="01:08:10.960" style="s2">on both the replicas kit am I correct</p>
<p begin="01:08:09.039" end="01:08:14.079" style="s2">but the problem is that one of these</p>
<p begin="01:08:10.960" end="01:08:17.759" style="s2">replicas might go down for some time by</p>
<p begin="01:08:14.079" end="01:08:21.440" style="s2">that I mean let&#39;s say nickel</p>
<p begin="01:08:17.759" end="01:08:24.640" style="s2">has 20 off days that they have in their</p>
<p begin="01:08:21.440" end="01:08:27.199" style="s2">company. 20 off days for the year. Right</p>
<p begin="01:08:24.640" end="01:08:30.159" style="s2">now Nicl wants to go to Lon Navla. They</p>
<p begin="01:08:27.199" end="01:08:32.239" style="s2">want to enjoy their time and Nikl is not</p>
<p begin="01:08:30.159" end="01:08:33.839" style="s2">reporting to office today, right? They</p>
<p begin="01:08:32.239" end="01:08:36.719" style="s2">want to go to Lon Navla. They want to</p>
<p begin="01:08:33.839" end="01:08:38.960" style="s2">have their free time today. Now if Nikl</p>
<p begin="01:08:36.719" end="01:08:41.759" style="s2">is not available today, right? If Nikl</p>
<p begin="01:08:38.960" end="01:08:45.679" style="s2">is not available today, uh what is the</p>
<p begin="01:08:41.759" end="01:08:47.839" style="s2">problem? Right? So if</p>
<p begin="01:08:45.679" end="01:08:49.520" style="s2">Hardep wants everybody&#39;s girlfriend to</p>
<p begin="01:08:47.839" end="01:08:52.239" style="s2">get married.</p>
<p begin="01:08:49.520" end="01:08:53.920" style="s2">So Hardep can only think of those</p>
<p begin="01:08:52.239" end="01:08:56.000" style="s2">scenarios that why will Nikl take a</p>
<p begin="01:08:53.920" end="01:08:58.159" style="s2">leave? Because Nikl&#39;s girlfriend is now</p>
<p begin="01:08:56.000" end="01:09:00.319" style="s2">getting married according to Hardep. No.</p>
<p begin="01:08:58.159" end="01:09:02.319" style="s2">So let&#39;s assume Nikl is rather enjoying</p>
<p begin="01:09:00.319" end="01:09:04.080" style="s2">in Lunavla. They want to take a day off</p>
<p begin="01:09:02.319" end="01:09:06.640" style="s2">because they want to enjoy in Lunavla.</p>
<p begin="01:09:04.080" end="01:09:09.679" style="s2">Now if they want to enjoy Lunavla, they</p>
<p begin="01:09:06.640" end="01:09:14.679" style="s2">have their day off. The point is that if</p>
<p begin="01:09:09.679" end="01:09:14.679" style="s2">nickel is not available today,</p>
<p begin="01:09:14.880" end="01:09:19.759" style="s2">how many of you understand that even if</p>
<p begin="01:09:17.359" end="01:09:22.560" style="s2">anybody&#39;s calling and the requests are</p>
<p begin="01:09:19.759" end="01:09:24.480" style="s2">being routed to Hardep, Hardep will not</p>
<p begin="01:09:22.560" end="01:09:26.799" style="s2">be able to acknowledge any new right</p>
<p begin="01:09:24.480" end="01:09:30.480" style="s2">because the protocol says that Hardep</p>
<p begin="01:09:26.799" end="01:09:32.719" style="s2">needs to write at their end and Nichls</p>
<p begin="01:09:30.480" end="01:09:36.080" style="s2">and only then can send a act. How many</p>
<p begin="01:09:32.719" end="01:09:39.679" style="s2">of you understand this that now given</p>
<p begin="01:09:36.080" end="01:09:43.319" style="s2">the protocol what will happen?</p>
<p begin="01:09:39.679" end="01:09:43.319" style="s2">Given the protocol</p>
<p begin="01:09:43.920" end="01:09:50.440" style="s2">all write</p>
<p begin="01:09:47.440" end="01:09:50.440" style="s2">requests</p>
<p begin="01:09:50.799" end="01:09:56.640" style="s2">will fail. Am I making sense to</p>
<p begin="01:09:53.120" end="01:09:58.640" style="s2">everybody in the class?</p>
<p begin="01:09:56.640" end="01:10:00.719" style="s2">Is everybody in the class with me? That</p>
<p begin="01:09:58.640" end="01:10:02.080" style="s2">all your requests write requests will</p>
<p begin="01:10:00.719" end="01:10:05.760" style="s2">fail.</p>
<p begin="01:10:02.080" end="01:10:09.960" style="s2">Now what is what does this mean? This</p>
<p begin="01:10:05.760" end="01:10:09.960" style="s2">means that as a system</p>
<p begin="01:10:12.880" end="01:10:18.480" style="s2">you are</p>
<p begin="01:10:15.520" end="01:10:21.600" style="s2">unavailable</p>
<p begin="01:10:18.480" end="01:10:24.719" style="s2">guys. Does it make sense? As a system</p>
<p begin="01:10:21.600" end="01:10:27.199" style="s2">you are unavailable. Now what does</p>
<p begin="01:10:24.719" end="01:10:30.560" style="s2">availability means? The second thing of</p>
<p begin="01:10:27.199" end="01:10:33.199" style="s2">the cap theorem. Availability means that</p>
<p begin="01:10:30.560" end="01:10:36.840" style="s2">you</p>
<p begin="01:10:33.199" end="01:10:36.840" style="s2">are available</p>
<p begin="01:10:37.199" end="01:10:41.480" style="s2">to register</p>
<p begin="01:10:41.600" end="01:10:46.719" style="s2">requests.</p>
<p begin="01:10:44.400" end="01:10:50.840" style="s2">In other words, availability basically</p>
<p begin="01:10:46.719" end="01:10:50.840" style="s2">means that</p>
<p begin="01:10:51.040" end="01:10:56.280" style="s2">whenever</p>
<p begin="01:10:53.280" end="01:10:56.280" style="s2">queried,</p>
<p begin="01:10:56.320" end="01:11:02.320" style="s2">you should</p>
<p begin="01:10:59.120" end="01:11:06.280" style="s2">be able</p>
<p begin="01:11:02.320" end="01:11:06.280" style="s2">to respond back</p>
<p begin="01:11:06.880" end="01:11:09.880" style="s2">without</p>
<p begin="01:11:10.159" end="01:11:14.960" style="s2">any error. Guys, am I making sense?</p>
<p begin="01:11:13.120" end="01:11:16.880" style="s2">Availability means that whenever you are</p>
<p begin="01:11:14.960" end="01:11:18.560" style="s2">queried, whenever you are interacted</p>
<p begin="01:11:16.880" end="01:11:21.120" style="s2">with, you should be able to respond back</p>
<p begin="01:11:18.560" end="01:11:24.880" style="s2">without any error.</p>
<p begin="01:11:21.120" end="01:11:26.880" style="s2">Notice availability does not guarantee</p>
<p begin="01:11:24.880" end="01:11:28.719" style="s2">that you are being replied with the</p>
<p begin="01:11:26.880" end="01:11:32.000" style="s2">correct answer.</p>
<p begin="01:11:28.719" end="01:11:35.920" style="s2">So by that I want you to understand in</p>
<p begin="01:11:32.000" end="01:11:38.719" style="s2">the previous protocol when both of them</p>
<p begin="01:11:35.920" end="01:11:40.800" style="s2">existed and everybody was taking their</p>
<p begin="01:11:38.719" end="01:11:43.120" style="s2">own entries without worrying whether the</p>
<p begin="01:11:40.800" end="01:11:46.320" style="s2">other person has taken the entry or not</p>
<p begin="01:11:43.120" end="01:11:48.400" style="s2">the system was not consistent but the</p>
<p begin="01:11:46.320" end="01:11:50.640" style="s2">system was still available. How many of</p>
<p begin="01:11:48.400" end="01:11:53.679" style="s2">you understand this? In the previous</p>
<p begin="01:11:50.640" end="01:11:55.600" style="s2">protocol when I was just writing at my</p>
<p begin="01:11:53.679" end="01:11:58.960" style="s2">own diary,</p>
<p begin="01:11:55.600" end="01:12:01.600" style="s2">I am not writing on my friend&#39;s diary.</p>
<p begin="01:11:58.960" end="01:12:03.920" style="s2">So I might respond back to you with a</p>
<p begin="01:12:01.600" end="01:12:06.800" style="s2">wrong response telling you that hey you</p>
<p begin="01:12:03.920" end="01:12:09.600" style="s2">don&#39;t have any event. That is that is me</p>
<p begin="01:12:06.800" end="01:12:11.199" style="s2">not being consistent but at least I was</p>
<p begin="01:12:09.600" end="01:12:13.360" style="s2">being available. How many of you</p>
<p begin="01:12:11.199" end="01:12:15.120" style="s2">understand that at least I was</p>
<p begin="01:12:13.360" end="01:12:18.159" style="s2">responding to the queries that are</p>
<p begin="01:12:15.120" end="01:12:21.280" style="s2">coming to me. Now with the updated</p>
<p begin="01:12:18.159" end="01:12:24.560" style="s2">protocol where you ensure that you write</p>
<p begin="01:12:21.280" end="01:12:27.600" style="s2">on the other copy before you can give an</p>
<p begin="01:12:24.560" end="01:12:30.480" style="s2">acknowledgement to the user. Now if your</p>
<p begin="01:12:27.600" end="01:12:32.880" style="s2">friend is unavailable, you as a system</p>
<p begin="01:12:30.480" end="01:12:36.159" style="s2">will become unavailable because you want</p>
<p begin="01:12:32.880" end="01:12:37.760" style="s2">to keep yourself consistent. How many of</p>
<p begin="01:12:36.159" end="01:12:39.920" style="s2">you understand this? How many of you</p>
<p begin="01:12:37.760" end="01:12:42.320" style="s2">understand this?</p>
<p begin="01:12:39.920" end="01:12:44.560" style="s2">Do you start seeing a trade-off between</p>
<p begin="01:12:42.320" end="01:12:45.840" style="s2">consistency and availability? Do you</p>
<p begin="01:12:44.560" end="01:12:48.159" style="s2">start seeing a trade-off between</p>
<p begin="01:12:45.840" end="01:12:50.159" style="s2">consistency and availability that either</p>
<p begin="01:12:48.159" end="01:12:51.920" style="s2">I can ensure and I will I will complete</p>
<p begin="01:12:50.159" end="01:12:52.960" style="s2">this the cap I will complete in some</p>
<p begin="01:12:51.920" end="01:12:54.880" style="s2">time I will give you some more</p>
<p begin="01:12:52.960" end="01:12:56.960" style="s2">information about it but I will repeat</p>
<p begin="01:12:54.880" end="01:12:58.880" style="s2">this for you this is very very critical</p>
<p begin="01:12:56.960" end="01:13:01.679" style="s2">I want everybody&#39;s attention do I have</p>
<p begin="01:12:58.880" end="01:13:03.360" style="s2">everybody&#39;s attention in the class do I</p>
<p begin="01:13:01.679" end="01:13:05.600" style="s2">have everybody&#39;s attention in the class</p>
<p begin="01:13:03.360" end="01:13:08.000" style="s2">right this is very very important I want</p>
<p begin="01:13:05.600" end="01:13:10.960" style="s2">everybody&#39;s complete attention right</p>
<p begin="01:13:08.000" end="01:13:13.440" style="s2">nobody can be can have their attention</p>
<p begin="01:13:10.960" end="01:13:15.360" style="s2">anywhere else right I will just sip a</p>
<p begin="01:13:13.440" end="01:13:18.360" style="s2">sip uh sip some water and then I will</p>
<p begin="01:13:15.360" end="01:13:18.360" style="s2">continue.</p>
<p begin="01:13:21.600" end="01:13:27.199" style="s2">Cool. I want everybody&#39;s attention. What</p>
<p begin="01:13:24.159" end="01:13:29.760" style="s2">I&#39;m saying is the following.</p>
<p begin="01:13:27.199" end="01:13:31.199" style="s2">I am teaching you cap theorem. Cap</p>
<p begin="01:13:29.760" end="01:13:32.800" style="s2">theorem tells you that in any</p>
<p begin="01:13:31.199" end="01:13:34.159" style="s2">distributed system you can only select</p>
<p begin="01:13:32.800" end="01:13:36.159" style="s2">two out of the three properties</p>
<p begin="01:13:34.159" end="01:13:37.840" style="s2">simultaneously. One property is</p>
<p begin="01:13:36.159" end="01:13:39.920" style="s2">consistency, one property is</p>
<p begin="01:13:37.840" end="01:13:42.800" style="s2">availability, one property is partition</p>
<p begin="01:13:39.920" end="01:13:44.560" style="s2">tolerance. Now what is consistency?</p>
<p begin="01:13:42.800" end="01:13:48.560" style="s2">Consistency basically means I&#39;ve written</p>
<p begin="01:13:44.560" end="01:13:52.080" style="s2">it down. Every machine has to have the</p>
<p begin="01:13:48.560" end="01:13:55.040" style="s2">correct latest view of the reality. In</p>
<p begin="01:13:52.080" end="01:13:58.159" style="s2">other words, every read should return</p>
<p begin="01:13:55.040" end="01:14:00.640" style="s2">the latest write. Is everybody clear</p>
<p begin="01:13:58.159" end="01:14:02.400" style="s2">with consistency that all the machines</p>
<p begin="01:14:00.640" end="01:14:05.199" style="s2">that you have should have the same</p>
<p begin="01:14:02.400" end="01:14:08.400" style="s2">knowledge, the correct knowledge of the</p>
<p begin="01:14:05.199" end="01:14:10.560" style="s2">latest read, sorry, of the latest write.</p>
<p begin="01:14:08.400" end="01:14:12.719" style="s2">This is consistency. What is</p>
<p begin="01:14:10.560" end="01:14:14.880" style="s2">availability? Availability means that</p>
<p begin="01:14:12.719" end="01:14:17.440" style="s2">whenever somebody queries something for</p>
<p begin="01:14:14.880" end="01:14:21.120" style="s2">with you, you should be able to answer</p>
<p begin="01:14:17.440" end="01:14:23.280" style="s2">it. You might not be giving the correct</p>
<p begin="01:14:21.120" end="01:14:25.679" style="s2">answer but you should be able to answer</p>
<p begin="01:14:23.280" end="01:14:28.000" style="s2">it. How many of you understand this? A</p>
<p begin="01:14:25.679" end="01:14:30.960" style="s2">system being available means that you</p>
<p begin="01:14:28.000" end="01:14:32.239" style="s2">should be available. Now to make more</p>
<p begin="01:14:30.960" end="01:14:34.640" style="s2">sense out of it, I will give you an</p>
<p begin="01:14:32.239" end="01:14:36.159" style="s2">example. Let&#39;s say how many of you have</p>
<p begin="01:14:34.640" end="01:14:38.800" style="s2">seen YouTube videos? How many of you</p>
<p begin="01:14:36.159" end="01:14:40.080" style="s2">have seen video YouTube videos? And how</p>
<p begin="01:14:38.800" end="01:14:42.400" style="s2">many of you have seen that there is a</p>
<p begin="01:14:40.080" end="01:14:45.199" style="s2">view count at the bottom of the YouTube</p>
<p begin="01:14:42.400" end="01:14:47.360" style="s2">video. It shows you how many views the</p>
<p begin="01:14:45.199" end="01:14:51.360" style="s2">video has had had till that point in</p>
<p begin="01:14:47.360" end="01:14:54.719" style="s2">time. Now how many of you have also seen</p>
<p begin="01:14:51.360" end="01:14:58.560" style="s2">the following that you see a video it</p>
<p begin="01:14:54.719" end="01:15:01.679" style="s2">has X number of views. It has 10,242</p>
<p begin="01:14:58.560" end="01:15:03.520" style="s2">views right now. You see the same video</p>
<p begin="01:15:01.679" end="01:15:05.120" style="s2">after 10 minutes. You know that a bunch</p>
<p begin="01:15:03.520" end="01:15:08.800" style="s2">of other people have seen the video in</p>
<p begin="01:15:05.120" end="01:15:10.640" style="s2">the meanwhile, but you still see 10,240</p>
<p begin="01:15:08.800" end="01:15:13.199" style="s2">views. How many of you have seen that</p>
<p begin="01:15:10.640" end="01:15:17.440" style="s2">happening? That the view count of</p>
<p begin="01:15:13.199" end="01:15:19.600" style="s2">YouTube video is not 100% accurate all</p>
<p begin="01:15:17.440" end="01:15:24.159" style="s2">the time.</p>
<p begin="01:15:19.600" end="01:15:26.159" style="s2">But YouTube wants to be available.</p>
<p begin="01:15:24.159" end="01:15:28.080" style="s2">YouTube wants whenever anybody sees</p>
<p begin="01:15:26.159" end="01:15:30.080" style="s2">their video, they should be able to tell</p>
<p begin="01:15:28.080" end="01:15:31.440" style="s2">them the view count.</p>
<p begin="01:15:30.080" end="01:15:33.440" style="s2">They might not be telling you the</p>
<p begin="01:15:31.440" end="01:15:35.440" style="s2">correct view count, but they want to at</p>
<p begin="01:15:33.440" end="01:15:36.880" style="s2">least tell you the view count. How many</p>
<p begin="01:15:35.440" end="01:15:38.960" style="s2">of you appreciate this? How many of you</p>
<p begin="01:15:36.880" end="01:15:41.840" style="s2">appreciate this?</p>
<p begin="01:15:38.960" end="01:15:43.760" style="s2">Let&#39;s take another example, right? How</p>
<p begin="01:15:41.840" end="01:15:46.080" style="s2">many of you have seen hot star playing</p>
<p begin="01:15:43.760" end="01:15:48.400" style="s2">India Pakistan matches or India any</p>
<p begin="01:15:46.080" end="01:15:51.040" style="s2">matches, right? Cricket matches. You see</p>
<p begin="01:15:48.400" end="01:15:53.199" style="s2">a number of views, right? you see a</p>
<p begin="01:15:51.040" end="01:15:56.719" style="s2">number of views uh number of people who</p>
<p begin="01:15:53.199" end="01:15:59.920" style="s2">are live watching that that that portal</p>
<p begin="01:15:56.719" end="01:16:03.199" style="s2">that need not be 100% accurate all the</p>
<p begin="01:15:59.920" end="01:16:06.480" style="s2">time but what&#39;s important that hotstar</p>
<p begin="01:16:03.199" end="01:16:09.440" style="s2">is available for you to see the view</p>
<p begin="01:16:06.480" end="01:16:11.199" style="s2">count am I making sense hotar would</p>
<p begin="01:16:09.440" end="01:16:12.960" style="s2">rather want to be available with respect</p>
<p begin="01:16:11.199" end="01:16:14.640" style="s2">to the view count rather than being</p>
<p begin="01:16:12.960" end="01:16:16.719" style="s2">consistent</p>
<p begin="01:16:14.640" end="01:16:18.960" style="s2">and s might be looking at hotar at the</p>
<p begin="01:16:16.719" end="01:16:21.120" style="s2">same time s might be seeing some</p>
<p begin="01:16:18.960" end="01:16:22.640" style="s2">different view count a viewer count a</p>
<p begin="01:16:21.120" end="01:16:25.040" style="s2">might be seeing some different viewer</p>
<p begin="01:16:22.640" end="01:16:26.320" style="s2">count that&#39;s fine they both they both</p>
<p begin="01:16:25.040" end="01:16:28.800" style="s2">might get a different sense of the</p>
<p begin="01:16:26.320" end="01:16:30.640" style="s2">reality but they are at least seeing the</p>
<p begin="01:16:28.800" end="01:16:33.120" style="s2">view count</p>
<p begin="01:16:30.640" end="01:16:34.560" style="s2">is everybody with me is everybody does</p>
<p begin="01:16:33.120" end="01:16:36.560" style="s2">everybody understand how availability is</p>
<p begin="01:16:34.560" end="01:16:38.719" style="s2">different from consistency on the other</p>
<p begin="01:16:36.560" end="01:16:41.840" style="s2">hand let&#39;s imagine a different scenario</p>
<p begin="01:16:38.719" end="01:16:45.360" style="s2">let&#39;s imagine zerodha right so you want</p>
<p begin="01:16:41.840" end="01:16:49.520" style="s2">to invest in a particular stock</p>
<p begin="01:16:45.360" end="01:16:52.400" style="s2">is it fine if I show abbe that the</p>
<p begin="01:16:49.520" end="01:16:55.679" style="s2">Reliance or let&#39;s say Adani is moving uh</p>
<p begin="01:16:52.400" end="01:16:57.920" style="s2">moving uh vir V uh very ferociously</p>
<p begin="01:16:55.679" end="01:17:02.400" style="s2">these days. So let&#39;s say Adani&#39;s stock</p>
<p begin="01:16:57.920" end="01:17:05.120" style="s2">price is is 1,200 right now, right? And</p>
<p begin="01:17:02.400" end="01:17:08.480" style="s2">somebody else when sees Adani&#39;s price on</p>
<p begin="01:17:05.120" end="01:17:10.480" style="s2">on on on Zerodha might see a older price</p>
<p begin="01:17:08.480" end="01:17:12.719" style="s2">of 1,800. Do you think that&#39;s</p>
<p begin="01:17:10.480" end="01:17:15.600" style="s2">acceptable? Do you think Zerodha can say</p>
<p begin="01:17:12.719" end="01:17:17.760" style="s2">that hey I want to be available? I</p>
<p begin="01:17:15.600" end="01:17:21.840" style="s2">always want to tell people that Adani&#39;s</p>
<p begin="01:17:17.760" end="01:17:23.679" style="s2">price but I can be fine with not showing</p>
<p begin="01:17:21.840" end="01:17:26.159" style="s2">you the right price. Can Zeroda say</p>
<p begin="01:17:23.679" end="01:17:28.000" style="s2">that? Let&#39;s imagine a banking scenario,</p>
<p begin="01:17:26.159" end="01:17:31.199" style="s2">right? Let&#39;s imagine that you are going</p>
<p begin="01:17:28.000" end="01:17:34.719" style="s2">to your ATM and you want to withdraw</p>
<p begin="01:17:31.199" end="01:17:36.640" style="s2">money. Now you just deposited 1 million</p>
<p begin="01:17:34.719" end="01:17:38.239" style="s2">rupees in your in your in your account.</p>
<p begin="01:17:36.640" end="01:17:40.960" style="s2">You just deposited 10 lakh rupees in</p>
<p begin="01:17:38.239" end="01:17:43.040" style="s2">your account. You go to the ATM and you</p>
<p begin="01:17:40.960" end="01:17:46.239" style="s2">see that you only have 500 rupees in</p>
<p begin="01:17:43.040" end="01:17:48.239" style="s2">your account. Is that fine or are you</p>
<p begin="01:17:46.239" end="01:17:50.560" style="s2">fine with the ATM telling you please try</p>
<p begin="01:17:48.239" end="01:17:53.120" style="s2">again later? I&#39;m not available. Which of</p>
<p begin="01:17:50.560" end="01:17:55.760" style="s2">the two experiences is more fine? Is the</p>
<p begin="01:17:53.120" end="01:17:58.640" style="s2">ATM being unavailable being fine or is</p>
<p begin="01:17:55.760" end="01:18:00.480" style="s2">the ATM being non-consistent being fine?</p>
<p begin="01:17:58.640" end="01:18:02.719" style="s2">Right? So I hope everybody appreciates</p>
<p begin="01:18:00.480" end="01:18:04.800" style="s2">that the ATM not being available for the</p>
<p begin="01:18:02.719" end="01:18:07.199" style="s2">short amount of time is rather fine</p>
<p begin="01:18:04.800" end="01:18:08.640" style="s2">rather than it not being consistent. So</p>
<p begin="01:18:07.199" end="01:18:10.239" style="s2">I&#39;ve taken a bunch of examples to</p>
<p begin="01:18:08.640" end="01:18:11.840" style="s2">explain what consistency means, what</p>
<p begin="01:18:10.239" end="01:18:14.800" style="s2">availability means. Is everybody with</p>
<p begin="01:18:11.840" end="01:18:16.080" style="s2">me? Is everybody with me? I want more</p>
<p begin="01:18:14.800" end="01:18:17.199" style="s2">yeses guys. Are you with me? Do you</p>
<p begin="01:18:16.080" end="01:18:19.280" style="s2">appreciate what availability and</p>
<p begin="01:18:17.199" end="01:18:22.239" style="s2">consistency are? You appreciate that. So</p>
<p begin="01:18:19.280" end="01:18:24.640" style="s2">we took an example of a service a</p>
<p begin="01:18:22.239" end="01:18:26.400" style="s2">reminder service that Hardep is running</p>
<p begin="01:18:24.640" end="01:18:27.520" style="s2">and I took that example to appreciate</p>
<p begin="01:18:26.400" end="01:18:29.440" style="s2">make you guys appreciate the difference</p>
<p begin="01:18:27.520" end="01:18:31.040" style="s2">between consistentity. Let&#39;s redo that</p>
<p begin="01:18:29.440" end="01:18:32.960" style="s2">example so that everybody&#39;s on the same</p>
<p begin="01:18:31.040" end="01:18:35.440" style="s2">page. So what is this example that</p>
<p begin="01:18:32.960" end="01:18:37.840" style="s2">Hardep is running a service people come</p>
<p begin="01:18:35.440" end="01:18:40.480" style="s2">and call Hardep. Hardep notes down their</p>
<p begin="01:18:37.840" end="01:18:42.560" style="s2">their their details. Whenever somebody</p>
<p begin="01:18:40.480" end="01:18:44.800" style="s2">calls them back Hardep reads the details</p>
<p begin="01:18:42.560" end="01:18:47.440" style="s2">and let them know about their events. If</p>
<p begin="01:18:44.800" end="01:18:50.000" style="s2">there was a single person it&#39;s fine. Now</p>
<p begin="01:18:47.440" end="01:18:52.400" style="s2">Hardep wants to scale. Hardep hired</p>
<p begin="01:18:50.000" end="01:18:55.199" style="s2">another person. Now there are two people</p>
<p begin="01:18:52.400" end="01:18:57.920" style="s2">doing the job. Hardep and Nikl. People</p>
<p begin="01:18:55.199" end="01:18:59.760" style="s2">call. Hardep writes down. If they call</p>
<p begin="01:18:57.920" end="01:19:01.040" style="s2">get connects connected to Hardep. People</p>
<p begin="01:18:59.760" end="01:19:03.520" style="s2">call. If the call gets connected to</p>
<p begin="01:19:01.040" end="01:19:06.400" style="s2">Nicl, Nikl writes down. But the problem</p>
<p begin="01:19:03.520" end="01:19:07.920" style="s2">is if in the next subsequent call the</p>
<p begin="01:19:06.400" end="01:19:10.239" style="s2">call gets connected to a different</p>
<p begin="01:19:07.920" end="01:19:12.719" style="s2">person and they were only writing in</p>
<p begin="01:19:10.239" end="01:19:14.880" style="s2">their own diary, the system will mean</p>
<p begin="01:19:12.719" end="01:19:16.800" style="s2">will become unc inconsistent. Is</p>
<p begin="01:19:14.880" end="01:19:18.880" style="s2">everybody with me? If you were just</p>
<p begin="01:19:16.800" end="01:19:21.199" style="s2">writing in your own local copy, the</p>
<p begin="01:19:18.880" end="01:19:23.280" style="s2">system is inconsistent. Guys, are you</p>
<p begin="01:19:21.199" end="01:19:24.560" style="s2">with me? Karun Machi, I&#39;m just going to</p>
<p begin="01:19:23.280" end="01:19:28.000" style="s2">complete the loop. Just give me some</p>
<p begin="01:19:24.560" end="01:19:31.040" style="s2">time. Okay, is everybody with me? That</p>
<p begin="01:19:28.000" end="01:19:33.280" style="s2">right now the systems are inconsistent.</p>
<p begin="01:19:31.040" end="01:19:35.199" style="s2">To make the system consistent, these</p>
<p begin="01:19:33.280" end="01:19:38.080" style="s2">folks changed their protocol of</p>
<p begin="01:19:35.199" end="01:19:40.960" style="s2">communication. What did they do? They</p>
<p begin="01:19:38.080" end="01:19:44.080" style="s2">said whenever somebody calls me, I will</p>
<p begin="01:19:40.960" end="01:19:46.800" style="s2">write it down at my entry. I will go and</p>
<p begin="01:19:44.080" end="01:19:49.440" style="s2">write it down on the replicas entry only</p>
<p begin="01:19:46.800" end="01:19:50.719" style="s2">when the replica returns a</p>
<p begin="01:19:49.440" end="01:19:52.640" style="s2">acknowledgement that they have written</p>
<p begin="01:19:50.719" end="01:19:54.159" style="s2">it only then I will acknowledge to the</p>
<p begin="01:19:52.640" end="01:19:56.239" style="s2">user. How many of you understand the</p>
<p begin="01:19:54.159" end="01:19:58.719" style="s2">updated protocol</p>
<p begin="01:19:56.239" end="01:20:00.320" style="s2">right with this updated protocol how</p>
<p begin="01:19:58.719" end="01:20:03.199" style="s2">many of you appreciate that you are</p>
<p begin="01:20:00.320" end="01:20:04.719" style="s2">ensuring consistency that whenever</p>
<p begin="01:20:03.199" end="01:20:06.480" style="s2">anybody calls you no matter wherever</p>
<p begin="01:20:04.719" end="01:20:08.480" style="s2">their call gets connected they will get</p>
<p begin="01:20:06.480" end="01:20:09.920" style="s2">the correct sense of the data because</p>
<p begin="01:20:08.480" end="01:20:12.239" style="s2">both of them have written the correct</p>
<p begin="01:20:09.920" end="01:20:15.679" style="s2">data at the same time. Is everybody with</p>
<p begin="01:20:12.239" end="01:20:17.520" style="s2">me? Now you are preferring consistency.</p>
<p begin="01:20:15.679" end="01:20:19.440" style="s2">What is the problem with this approach?</p>
<p begin="01:20:17.520" end="01:20:22.080" style="s2">The problem with this approach is that</p>
<p begin="01:20:19.440" end="01:20:25.199" style="s2">if for some amount of time if Nikl goes</p>
<p begin="01:20:22.080" end="01:20:28.560" style="s2">on a lube break, right, and or Nikl goes</p>
<p begin="01:20:25.199" end="01:20:31.920" style="s2">on a smoking break or Nikl just wanders</p>
<p begin="01:20:28.560" end="01:20:33.600" style="s2">off and and does is is out of job for</p>
<p begin="01:20:31.920" end="01:20:36.960" style="s2">some time, right? He is doing something</p>
<p begin="01:20:33.600" end="01:20:40.560" style="s2">else. Now for all that time if anybody</p>
<p begin="01:20:36.960" end="01:20:42.960" style="s2">calls and Hardep gets connected Hardep</p>
<p begin="01:20:40.560" end="01:20:46.480" style="s2">will not be able to acknowledge the</p>
<p begin="01:20:42.960" end="01:20:48.960" style="s2">right. Why? Because the protocol now</p>
<p begin="01:20:46.480" end="01:20:50.080" style="s2">says that only when you write it on both</p>
<p begin="01:20:48.960" end="01:20:52.320" style="s2">the places only then you will</p>
<p begin="01:20:50.080" end="01:20:54.880" style="s2">acknowledge the right. If this is the</p>
<p begin="01:20:52.320" end="01:20:57.679" style="s2">protocol I want everybody in the class</p>
<p begin="01:20:54.880" end="01:20:59.760" style="s2">to appreciate that you are being not</p>
<p begin="01:20:57.679" end="01:21:02.480" style="s2">available at that time. Is everybody</p>
<p begin="01:20:59.760" end="01:21:04.400" style="s2">with me? You are not available at that</p>
<p begin="01:21:02.480" end="01:21:08.560" style="s2">time.</p>
<p begin="01:21:04.400" end="01:21:10.960" style="s2">Now let&#39;s try to solve this as well.</p>
<p begin="01:21:08.560" end="01:21:13.920" style="s2">Let&#39;s try to solve this as well. We</p>
<p begin="01:21:10.960" end="01:21:18.199" style="s2">update our protocol slightly. Our</p>
<p begin="01:21:13.920" end="01:21:18.199" style="s2">updated protocol is as follows.</p>
<p begin="01:21:21.280" end="01:21:26.719" style="s2">Uh Manu wants a short break. Manu let me</p>
<p begin="01:21:24.320" end="01:21:28.960" style="s2">complete my cap theorem then maybe we</p>
<p begin="01:21:26.719" end="01:21:31.600" style="s2">can have a short break. Right? Or uh</p>
<p begin="01:21:28.960" end="01:21:33.120" style="s2">guys the class is a 3-hour long class.</p>
<p begin="01:21:31.600" end="01:21:35.280" style="s2">Is that correct? The class is a</p>
<p begin="01:21:33.120" end="01:21:38.320" style="s2">three-hour long class. Usually I I have</p>
<p begin="01:21:35.280" end="01:21:40.719" style="s2">seen if I&#39;m not wrong takes classes even</p>
<p begin="01:21:38.320" end="01:21:43.120" style="s2">higher than 3 hours, right? Uh even even</p>
<p begin="01:21:40.719" end="01:21:46.080" style="s2">longer than 3 hours. So it&#39;s a 3-hour</p>
<p begin="01:21:43.120" end="01:21:48.480" style="s2">long class. So we&#39;ll end at 12. A lot of</p>
<p begin="01:21:46.080" end="01:21:50.239" style="s2">you are saying 11:30. Why do you want</p>
<p begin="01:21:48.480" end="01:21:52.960" style="s2">me? Why do you want the class to end by</p>
<p begin="01:21:50.239" end="01:21:54.960" style="s2">11:30? We are discussing a lot more</p>
<p begin="01:21:52.960" end="01:21:57.040" style="s2">details than what&#39;s required. So I am</p>
<p begin="01:21:54.960" end="01:22:01.040" style="s2">teaching you things which are not even</p>
<p begin="01:21:57.040" end="01:22:04.159" style="s2">required. Right? So let&#39;s not cut the</p>
<p begin="01:22:01.040" end="01:22:06.960" style="s2">class time short, right? Okay. So I will</p>
<p begin="01:22:04.159" end="01:22:09.600" style="s2">finish by 11:45 or so. Okay. I will</p>
<p begin="01:22:06.960" end="01:22:12.000" style="s2">finish by 11:45 or so. Uh and then maybe</p>
<p begin="01:22:09.600" end="01:22:17.360" style="s2">I will complete I will take questions</p>
<p begin="01:22:12.000" end="01:22:21.040" style="s2">later. Okay. Cool. Cool. Now uh</p>
<p begin="01:22:17.360" end="01:22:24.159" style="s2">Basiah says please finish by 1:30. I am</p>
<p begin="01:22:21.040" end="01:22:28.000" style="s2">sure Basiah did not mean that they</p>
<p begin="01:22:24.159" end="01:22:31.280" style="s2">wanted 11:30 but they have given me a</p>
<p begin="01:22:28.000" end="01:22:34.080" style="s2">time limit till 1:30. Okay Basaya I will</p>
<p begin="01:22:31.280" end="01:22:36.000" style="s2">finish by 1:30.</p>
<p begin="01:22:34.080" end="01:22:38.639" style="s2">Just joking right? So let&#39;s continue.</p>
<p begin="01:22:36.000" end="01:22:43.040" style="s2">The updated protocol is as follows. The</p>
<p begin="01:22:38.639" end="01:22:45.600" style="s2">updated protocol is that now uh if</p>
<p begin="01:22:43.040" end="01:22:49.120" style="s2">nickel is on a leave,</p>
<p begin="01:22:45.600" end="01:22:51.760" style="s2">if nickel is on a leaf, what Hardep will</p>
<p begin="01:22:49.120" end="01:22:55.280" style="s2">rather do is as follows.</p>
<p begin="01:22:51.760" end="01:22:57.840" style="s2">This is Hardep. This is Nikl.</p>
<p begin="01:22:55.280" end="01:23:01.280" style="s2">You have a load balancer. Clients call</p>
<p begin="01:22:57.840" end="01:23:04.800" style="s2">you. Our friend Nicl is on a leave to</p>
<p begin="01:23:01.280" end="01:23:06.880" style="s2">Lunavla. They are on leave. They are not</p>
<p begin="01:23:04.800" end="01:23:08.800" style="s2">in office today.</p>
<p begin="01:23:06.880" end="01:23:11.199" style="s2">So what will the updated protocol look</p>
<p begin="01:23:08.800" end="01:23:14.719" style="s2">like? It will look like as follows. That</p>
<p begin="01:23:11.199" end="01:23:17.679" style="s2">in cases when nickel is unavailable,</p>
<p begin="01:23:14.719" end="01:23:23.639" style="s2">in cases where nickel is unavailable,</p>
<p begin="01:23:17.679" end="01:23:23.639" style="s2">I will only write down to myself</p>
<p begin="01:23:25.120" end="01:23:29.679" style="s2">and reply an acknowledgement without</p>
<p begin="01:23:27.440" end="01:23:32.480" style="s2">worrying about nickel.</p>
<p begin="01:23:29.679" end="01:23:36.000" style="s2">When nickel is unavailable, I will take</p>
<p begin="01:23:32.480" end="01:23:38.480" style="s2">the information only with me.</p>
<p begin="01:23:36.000" end="01:23:41.040" style="s2">And this is fine because if somebody</p>
<p begin="01:23:38.480" end="01:23:43.199" style="s2">calls and nickel is unavailable, the</p>
<p begin="01:23:41.040" end="01:23:45.360" style="s2">call is anyhow going to come to Hardi.</p>
<p begin="01:23:43.199" end="01:23:47.520" style="s2">How many of you understand this? The</p>
<p begin="01:23:45.360" end="01:23:50.159" style="s2">call is anyhow going to come to Hardi</p>
<p begin="01:23:47.520" end="01:23:53.199" style="s2">because Nicl is anyhow unavailable.</p>
<p begin="01:23:50.159" end="01:23:55.040" style="s2">But when tomorrow morning nikl comes</p>
<p begin="01:23:53.199" end="01:23:58.000" style="s2">back,</p>
<p begin="01:23:55.040" end="01:24:01.440" style="s2">I will call them early in the office and</p>
<p begin="01:23:58.000" end="01:24:04.960" style="s2">I will ensure that all the pending</p>
<p begin="01:24:01.440" end="01:24:08.960" style="s2">entries I had at my end.</p>
<p begin="01:24:04.960" end="01:24:12.960" style="s2">Whenever they come back, I will</p>
<p begin="01:24:08.960" end="01:24:15.600" style="s2">off in an offline later manner, I will</p>
<p begin="01:24:12.960" end="01:24:17.920" style="s2">sync up those entries with Nikl. How</p>
<p begin="01:24:15.600" end="01:24:19.760" style="s2">many of you understand this?</p>
<p begin="01:24:17.920" end="01:24:22.480" style="s2">and I will in an offline fashion sync</p>
<p begin="01:24:19.760" end="01:24:25.360" style="s2">those entries with nickel and once they</p>
<p begin="01:24:22.480" end="01:24:27.520" style="s2">are back up</p>
<p begin="01:24:25.360" end="01:24:30.560" style="s2">they will also have those entries and</p>
<p begin="01:24:27.520" end="01:24:33.199" style="s2">now if anybody calls anybody there will</p>
<p begin="01:24:30.560" end="01:24:35.679" style="s2">be no inconsistency. How many of you</p>
<p begin="01:24:33.199" end="01:24:38.080" style="s2">appreciate this? How many of you</p>
<p begin="01:24:35.679" end="01:24:41.840" style="s2">appreciate this?</p>
<p begin="01:24:38.080" end="01:24:46.080" style="s2">That if nickel is unavailable</p>
<p begin="01:24:41.840" end="01:24:48.480" style="s2">I only write entries at my end.</p>
<p begin="01:24:46.080" end="01:24:51.520" style="s2">Given nickel is unavailable, people are</p>
<p begin="01:24:48.480" end="01:24:53.520" style="s2">only going to reach to me</p>
<p begin="01:24:51.520" end="01:24:55.360" style="s2">and I will be able to answer to their</p>
<p begin="01:24:53.520" end="01:24:58.719" style="s2">queries.</p>
<p begin="01:24:55.360" end="01:25:01.520" style="s2">Now before nickel comes back up, I will</p>
<p begin="01:24:58.719" end="01:25:04.239" style="s2">ensure that they note down my entries</p>
<p begin="01:25:01.520" end="01:25:06.400" style="s2">which are pending only at my end so that</p>
<p begin="01:25:04.239" end="01:25:09.600" style="s2">we become consistent the moment they are</p>
<p begin="01:25:06.400" end="01:25:12.000" style="s2">back up. Anybody who calls now will get</p>
<p begin="01:25:09.600" end="01:25:14.159" style="s2">the correct understanding of the state.</p>
<p begin="01:25:12.000" end="01:25:16.159" style="s2">How many of you understand this my dear</p>
<p begin="01:25:14.159" end="01:25:18.239" style="s2">friends? How many of you understand this</p>
<p begin="01:25:16.159" end="01:25:20.159" style="s2">ra you can store these entries in any</p>
<p begin="01:25:18.239" end="01:25:22.000" style="s2">sort of a queue in any sort of a</p>
<p begin="01:25:20.159" end="01:25:25.440" style="s2">database and call them pending and then</p>
<p begin="01:25:22.000" end="01:25:27.600" style="s2">run a chron job get this synced up okay</p>
<p begin="01:25:25.440" end="01:25:29.679" style="s2">Raab does that answer your question I</p>
<p begin="01:25:27.600" end="01:25:31.120" style="s2">hope it does how many of you understand</p>
<p begin="01:25:29.679" end="01:25:32.560" style="s2">this my dear friends how many of you</p>
<p begin="01:25:31.120" end="01:25:36.000" style="s2">understand this I will quickly repeat it</p>
<p begin="01:25:32.560" end="01:25:38.400" style="s2">for Dhj&#39;s idea is that when my nickel is</p>
<p begin="01:25:36.000" end="01:25:40.560" style="s2">unavailable I will only write down</p>
<p begin="01:25:38.400" end="01:25:43.280" style="s2">entries at my end will not become</p>
<p begin="01:25:40.560" end="01:25:44.239" style="s2">unavailable for my for my friends for my</p>
<p begin="01:25:43.280" end="01:25:45.840" style="s2">users</p>
<p begin="01:25:44.239" end="01:25:47.520" style="s2">I will only write down the entry at my</p>
<p begin="01:25:45.840" end="01:25:49.840" style="s2">end. Whenever they call back, I will</p>
<p begin="01:25:47.520" end="01:25:53.280" style="s2">read the entry to them and I&#39;m fine. But</p>
<p begin="01:25:49.840" end="01:25:57.199" style="s2">before Nikl comes back up, I will write</p>
<p begin="01:25:53.280" end="01:25:59.440" style="s2">my copy pending entries to them so that</p>
<p begin="01:25:57.199" end="01:26:01.120" style="s2">whenever they are back, we are all</p>
<p begin="01:25:59.440" end="01:26:04.560" style="s2">consistent. Is everybody in the class</p>
<p begin="01:26:01.120" end="01:26:06.400" style="s2">with me? D are you with me? That I am</p>
<p begin="01:26:04.560" end="01:26:10.000" style="s2">ensuring that we are consistent before</p>
<p begin="01:26:06.400" end="01:26:12.639" style="s2">they start serving traffic. Okay. In</p>
<p begin="01:26:10.000" end="01:26:17.040" style="s2">this scenario, how many of you see that</p>
<p begin="01:26:12.639" end="01:26:19.520" style="s2">your system is both consistent</p>
<p begin="01:26:17.040" end="01:26:21.440" style="s2">and your system is both available? It&#39;s</p>
<p begin="01:26:19.520" end="01:26:23.040" style="s2">both available and consistent. How many</p>
<p begin="01:26:21.440" end="01:26:26.920" style="s2">of you understand this my dear friends?</p>
<p begin="01:26:23.040" end="01:26:26.920" style="s2">How many of you understand this?</p>
<p begin="01:26:27.040" end="01:26:32.400" style="s2">Is everybody with me? If Harp is also</p>
<p begin="01:26:29.760" end="01:26:34.320" style="s2">down Satyendra uh then the system will</p>
<p begin="01:26:32.400" end="01:26:36.960" style="s2">be unavailable. But that&#39;s a case where</p>
<p begin="01:26:34.320" end="01:26:38.639" style="s2">everything is on fire. But if there is a</p>
<p begin="01:26:36.960" end="01:26:40.400" style="s2">system require who can respond to your</p>
<p begin="01:26:38.639" end="01:26:42.639" style="s2">queries, they will be responding to</p>
<p begin="01:26:40.400" end="01:26:44.480" style="s2">queries. Is that correct Satendra?</p>
<p begin="01:26:42.639" end="01:26:46.080" style="s2">Availability means if there is a system</p>
<p begin="01:26:44.480" end="01:26:48.000" style="s2">out there, they should be able to</p>
<p begin="01:26:46.080" end="01:26:49.840" style="s2">respond to your queries. If your entire</p>
<p begin="01:26:48.000" end="01:26:52.159" style="s2">data center is on fire, then that&#39;s a</p>
<p begin="01:26:49.840" end="01:26:53.600" style="s2">different scenario. Okay, Satyendra, I</p>
<p begin="01:26:52.159" end="01:26:55.520" style="s2">hope that makes sense. So in this</p>
<p begin="01:26:53.600" end="01:26:57.520" style="s2">scenario, it&#39;s both available and</p>
<p begin="01:26:55.520" end="01:26:59.120" style="s2">consistent. I hope there is no</p>
<p begin="01:26:57.520" end="01:27:01.040" style="s2">confusion.</p>
<p begin="01:26:59.120" end="01:27:03.520" style="s2">But this is where the third part of the</p>
<p begin="01:27:01.040" end="01:27:05.840" style="s2">cap theorem becomes interesting. GAP</p>
<p begin="01:27:03.520" end="01:27:08.320" style="s2">theorem says that you can only pick</p>
<p begin="01:27:05.840" end="01:27:11.520" style="s2">three out of two out of these three</p>
<p begin="01:27:08.320" end="01:27:14.800" style="s2">things together. Consistency,</p>
<p begin="01:27:11.520" end="01:27:16.480" style="s2">availability, partition tolerance. So we</p>
<p begin="01:27:14.800" end="01:27:18.639" style="s2">are seeing a system where it&#39;s both</p>
<p begin="01:27:16.480" end="01:27:21.199" style="s2">consistent and available. But let me</p>
<p begin="01:27:18.639" end="01:27:23.360" style="s2">tell you where the trick lies. Now what</p>
<p begin="01:27:21.199" end="01:27:24.639" style="s2">is partition tolerance? Before that is</p>
<p begin="01:27:23.360" end="01:27:26.800" style="s2">everybody with me till this point in</p>
<p begin="01:27:24.639" end="01:27:29.199" style="s2">time? Is everybody with me? This is now</p>
<p begin="01:27:26.800" end="01:27:30.719" style="s2">the very interesting thing that&#39;s very</p>
<p begin="01:27:29.199" end="01:27:34.320" style="s2">important for you to grasp now comes.</p>
<p begin="01:27:30.719" end="01:27:37.360" style="s2">Okay. So what is partition tolerance?</p>
<p begin="01:27:34.320" end="01:27:40.480" style="s2">Before that what is partition?</p>
<p begin="01:27:37.360" end="01:27:42.239" style="s2">Partition basically means a network</p>
<p begin="01:27:40.480" end="01:27:45.760" style="s2">partition.</p>
<p begin="01:27:42.239" end="01:27:48.960" style="s2">Now what is a network partition?</p>
<p begin="01:27:45.760" end="01:27:51.440" style="s2">A network partition is a scenario where</p>
<p begin="01:27:48.960" end="01:27:53.040" style="s2">two machines</p>
<p begin="01:27:51.440" end="01:27:54.800" style="s2">tell me if there are two machines</p>
<p begin="01:27:53.040" end="01:27:57.840" style="s2">talking to each other how will they</p>
<p begin="01:27:54.800" end="01:27:59.679" style="s2">talk? They will talk over a network. Am</p>
<p begin="01:27:57.840" end="01:28:02.639" style="s2">I correct?</p>
<p begin="01:27:59.679" end="01:28:04.880" style="s2">How am I interacting with you guys? I am</p>
<p begin="01:28:02.639" end="01:28:08.000" style="s2">interacting with you guys over a network</p>
<p begin="01:28:04.880" end="01:28:10.880" style="s2">which is the internet. Whatever bytes</p>
<p begin="01:28:08.000" end="01:28:12.960" style="s2">are coming from my machine are going to</p>
<p begin="01:28:10.880" end="01:28:15.600" style="s2">your machine over a network called the</p>
<p begin="01:28:12.960" end="01:28:17.520" style="s2">internet. Is that correct? Now imagine</p>
<p begin="01:28:15.600" end="01:28:19.920" style="s2">if you are a machine and I am in a</p>
<p begin="01:28:17.520" end="01:28:21.280" style="s2">machine in the same data center. Our</p>
<p begin="01:28:19.920" end="01:28:23.760" style="s2">communication will happen over a</p>
<p begin="01:28:21.280" end="01:28:26.560" style="s2">internet but again a network. So two</p>
<p begin="01:28:23.760" end="01:28:28.960" style="s2">machines always communicate over a</p>
<p begin="01:28:26.560" end="01:28:31.760" style="s2">network. Is that correct? they always</p>
<p begin="01:28:28.960" end="01:28:35.600" style="s2">communicate over a network. Network</p>
<p begin="01:28:31.760" end="01:28:38.960" style="s2">partition basically means that due to</p>
<p begin="01:28:35.600" end="01:28:43.600" style="s2">some reason the connectivity between the</p>
<p begin="01:28:38.960" end="01:28:45.679" style="s2">two machines is down for some time. So</p>
<p begin="01:28:43.600" end="01:28:48.080" style="s2">network partition</p>
<p begin="01:28:45.679" end="01:28:54.080" style="s2">network partition means that this</p>
<p begin="01:28:48.080" end="01:28:56.000" style="s2">network is broken temporarily.</p>
<p begin="01:28:54.080" end="01:28:58.320" style="s2">How many of you understand this? How</p>
<p begin="01:28:56.000" end="01:29:01.920" style="s2">many of you understand this?</p>
<p begin="01:28:58.320" end="01:29:04.480" style="s2">that the network is broken.</p>
<p begin="01:29:01.920" end="01:29:07.600" style="s2">It does not mean that this machine is</p>
<p begin="01:29:04.480" end="01:29:10.639" style="s2">broken from everybody else in the world.</p>
<p begin="01:29:07.600" end="01:29:14.639" style="s2">All I am saying that the network between</p>
<p begin="01:29:10.639" end="01:29:16.400" style="s2">M1 and M2, the communication channel</p>
<p begin="01:29:14.639" end="01:29:18.880" style="s2">between machine one and machine 2 is</p>
<p begin="01:29:16.400" end="01:29:20.639" style="s2">broken for some time. It does not mean</p>
<p begin="01:29:18.880" end="01:29:22.560" style="s2">that machine 2 cannot communicate with</p>
<p begin="01:29:20.639" end="01:29:23.760" style="s2">anybody else. It does not machine that</p>
<p begin="01:29:22.560" end="01:29:25.440" style="s2">machine one cannot communicate with</p>
<p begin="01:29:23.760" end="01:29:26.800" style="s2">anybody else. They might be able to</p>
<p begin="01:29:25.440" end="01:29:29.440" style="s2">communicate with everybody else in the</p>
<p begin="01:29:26.800" end="01:29:32.400" style="s2">world but the network between M1 and M2</p>
<p begin="01:29:29.440" end="01:29:34.159" style="s2">is temporarily down. How many of you</p>
<p begin="01:29:32.400" end="01:29:37.360" style="s2">understand this guys? what I what I mean</p>
<p begin="01:29:34.159" end="01:29:40.560" style="s2">by network partition the word partition</p>
<p begin="01:29:37.360" end="01:29:44.480" style="s2">and I uh and don&#39;t confuse this</p>
<p begin="01:29:40.560" end="01:29:46.000" style="s2">partition with with sharding or or</p>
<p begin="01:29:44.480" end="01:29:50.719" style="s2">replication</p>
<p begin="01:29:46.000" end="01:29:53.040" style="s2">right network partition basically means</p>
<p begin="01:29:50.719" end="01:29:55.440" style="s2">network partition basically means that</p>
<p begin="01:29:53.040" end="01:29:58.159" style="s2">the network is broken</p>
<p begin="01:29:55.440" end="01:29:59.920" style="s2">akil my dear friend partition can mean</p>
<p begin="01:29:58.159" end="01:30:01.760" style="s2">two different things in data</p>
<p begin="01:29:59.920" end="01:30:03.520" style="s2">partitioning and network partitioning</p>
<p begin="01:30:01.760" end="01:30:05.840" style="s2">right now I&#39;m talking about partition</p>
<p begin="01:30:03.520" end="01:30:07.280" style="s2">which means network partition. Guys, are</p>
<p begin="01:30:05.840" end="01:30:08.719" style="s2">you with me? Is everybody in the class</p>
<p begin="01:30:07.280" end="01:30:10.880" style="s2">with me? Is everybody in the class with</p>
<p begin="01:30:08.719" end="01:30:12.960" style="s2">me? Network partition basically means</p>
<p begin="01:30:10.880" end="01:30:15.040" style="s2">that two machines right now cannot talk</p>
<p begin="01:30:12.960" end="01:30:17.760" style="s2">to each other because the network is</p>
<p begin="01:30:15.040" end="01:30:21.040" style="s2">broken between these two machines.</p>
<p begin="01:30:17.760" end="01:30:25.760" style="s2">In the example that I was discussing,</p>
<p begin="01:30:21.040" end="01:30:29.040" style="s2">let&#39;s assume Harib and Nikl had a fight.</p>
<p begin="01:30:25.760" end="01:30:30.560" style="s2">The P in scap is partitioning. It&#39;s</p>
<p begin="01:30:29.040" end="01:30:32.480" style="s2">basically partition tolerance. I&#39;m going</p>
<p begin="01:30:30.560" end="01:30:34.560" style="s2">to come to that show. But let&#39;s go come</p>
<p begin="01:30:32.480" end="01:30:37.920" style="s2">back to the example. Let&#39;s assume Nikil</p>
<p begin="01:30:34.560" end="01:30:41.520" style="s2">and Hardep had a fight. How many of you</p>
<p begin="01:30:37.920" end="01:30:43.840" style="s2">have seen Taraka Gulishma?</p>
<p begin="01:30:41.520" end="01:30:47.600" style="s2">So do you remember there was a there was</p>
<p begin="01:30:43.840" end="01:30:49.679" style="s2">a there was a character in Tarakishma</p>
<p begin="01:30:47.600" end="01:30:51.520" style="s2">called Natukaka. So for those who have</p>
<p begin="01:30:49.679" end="01:30:53.760" style="s2">not seen it&#39;s not important. I&#39;m just</p>
<p begin="01:30:51.520" end="01:30:56.320" style="s2">trying to make people laugh, right? So</p>
<p begin="01:30:53.760" end="01:30:58.159" style="s2">maybe you can just fake laugh. Okay. So</p>
<p begin="01:30:56.320" end="01:30:59.520" style="s2">there was a partition called Natukaka.</p>
<p begin="01:30:58.159" end="01:31:02.239" style="s2">There was a there was a character called</p>
<p begin="01:30:59.520" end="01:31:04.400" style="s2">Natukaka who always kept on asking for a</p>
<p begin="01:31:02.239" end="01:31:06.560" style="s2">raise. That character always kept on</p>
<p begin="01:31:04.400" end="01:31:08.320" style="s2">asking</p>
<p begin="01:31:06.560" end="01:31:10.320" style="s2">always kept on asking for a raise that</p>
<p begin="01:31:08.320" end="01:31:12.560" style="s2">hey please raise my salary. Please raise</p>
<p begin="01:31:10.320" end="01:31:16.080" style="s2">my salary. Now let&#39;s assume our friend</p>
<p begin="01:31:12.560" end="01:31:19.120" style="s2">Nikl was asking for a raise and Hardep</p>
<p begin="01:31:16.080" end="01:31:21.120" style="s2">did not accept that request and now</p>
<p begin="01:31:19.120" end="01:31:23.360" style="s2">these two guys have had a fight. They&#39;re</p>
<p begin="01:31:21.120" end="01:31:25.360" style="s2">not talking to each other. Nat Gaga is</p>
<p begin="01:31:23.360" end="01:31:26.960" style="s2">not talking to the sage gi. Okay. So</p>
<p begin="01:31:25.360" end="01:31:29.520" style="s2">let&#39;s assume that these two folks are</p>
<p begin="01:31:26.960" end="01:31:31.760" style="s2">not talking to each other. They are they</p>
<p begin="01:31:29.520" end="01:31:33.840" style="s2">are they are ignoring each other. Now if</p>
<p begin="01:31:31.760" end="01:31:36.480" style="s2">they are not talking to each other, this</p>
<p begin="01:31:33.840" end="01:31:39.040" style="s2">is what I want you to appreciate with</p>
<p begin="01:31:36.480" end="01:31:41.520" style="s2">network partitioning that there&#39;s a</p>
<p begin="01:31:39.040" end="01:31:43.600" style="s2">network between these two folks and the</p>
<p begin="01:31:41.520" end="01:31:46.159" style="s2">network is broken. How many of you</p>
<p begin="01:31:43.600" end="01:31:48.719" style="s2">appreciate my example? My stupid little</p>
<p begin="01:31:46.159" end="01:31:50.719" style="s2">example that the network between the two</p>
<p begin="01:31:48.719" end="01:31:51.840" style="s2">machines is broken. Right? If the</p>
<p begin="01:31:50.719" end="01:31:54.320" style="s2">network between the two machines is</p>
<p begin="01:31:51.840" end="01:31:57.280" style="s2">broken, there is where the problem will</p>
<p begin="01:31:54.320" end="01:32:00.159" style="s2">come. And before I before I go there,</p>
<p begin="01:31:57.280" end="01:32:03.840" style="s2">before I go there, the reality of the</p>
<p begin="01:32:00.159" end="01:32:06.560" style="s2">world is that network partition can</p>
<p begin="01:32:03.840" end="01:32:09.280" style="s2">always happen. How many of you will</p>
<p begin="01:32:06.560" end="01:32:10.719" style="s2">vouch for that? No matter how good a</p>
<p begin="01:32:09.280" end="01:32:12.400" style="s2">connection you have, you trying to</p>
<p begin="01:32:10.719" end="01:32:14.800" style="s2">connect to the video call and not being</p>
<p begin="01:32:12.400" end="01:32:17.760" style="s2">able to do that for some time. Does that</p>
<p begin="01:32:14.800" end="01:32:20.719" style="s2">happen? Does that happen? That happens</p>
<p begin="01:32:17.760" end="01:32:22.239" style="s2">all the time. No matter how good on a</p>
<p begin="01:32:20.719" end="01:32:23.920" style="s2">connection you have, you will always</p>
<p begin="01:32:22.239" end="01:32:25.600" style="s2">have scenarios where network will</p>
<p begin="01:32:23.920" end="01:32:27.679" style="s2">partition, where network will be</p>
<p begin="01:32:25.600" end="01:32:30.960" style="s2">unavailable. Guys, am I making sense to</p>
<p begin="01:32:27.679" end="01:32:32.560" style="s2">everybody? Network is always unreliable.</p>
<p begin="01:32:30.960" end="01:32:36.960" style="s2">Unreliable. You might have read this</p>
<p begin="01:32:32.560" end="01:32:40.560" style="s2">statement multiple times. Network</p>
<p begin="01:32:36.960" end="01:32:42.639" style="s2">is always</p>
<p begin="01:32:40.560" end="01:32:44.560" style="s2">unreliable. Have you read this statement</p>
<p begin="01:32:42.639" end="01:32:46.800" style="s2">before my dear friends? Network is</p>
<p begin="01:32:44.560" end="01:32:47.920" style="s2">always unreliable. So you can always</p>
<p begin="01:32:46.800" end="01:32:50.000" style="s2">have a scenario where a network</p>
<p begin="01:32:47.920" end="01:32:51.840" style="s2">partition happens and when a network</p>
<p begin="01:32:50.000" end="01:32:55.360" style="s2">partition happens, this is where cap</p>
<p begin="01:32:51.840" end="01:32:58.320" style="s2">theorem comes in full force. Now imagine</p>
<p begin="01:32:55.360" end="01:33:01.360" style="s2">our second updated protocol was that</p>
<p begin="01:32:58.320" end="01:33:03.920" style="s2">Hardep was writing the entries and Nikl</p>
<p begin="01:33:01.360" end="01:33:06.000" style="s2">was out of office. Whenever Nikl comes</p>
<p begin="01:33:03.920" end="01:33:07.920" style="s2">back up, Hadep makes sure that Nikl</p>
<p begin="01:33:06.000" end="01:33:09.440" style="s2">writes those entries and then both of</p>
<p begin="01:33:07.920" end="01:33:12.320" style="s2">them are consistent and available.</p>
<p begin="01:33:09.440" end="01:33:16.080" style="s2">Everything is honky dory. But if at that</p>
<p begin="01:33:12.320" end="01:33:19.199" style="s2">time when the sync was happening a</p>
<p begin="01:33:16.080" end="01:33:21.840" style="s2">network partition happens</p>
<p begin="01:33:19.199" end="01:33:25.440" style="s2">do you understand that the system will</p>
<p begin="01:33:21.840" end="01:33:28.800" style="s2">become inconsistent?</p>
<p begin="01:33:25.440" end="01:33:32.000" style="s2">How many of you understand this</p>
<p begin="01:33:28.800" end="01:33:34.400" style="s2">if at the time of syncing up the network</p>
<p begin="01:33:32.000" end="01:33:36.000" style="s2">gets partitioned the system will become</p>
<p begin="01:33:34.400" end="01:33:39.920" style="s2">inconsistent.</p>
<p begin="01:33:36.000" end="01:33:43.600" style="s2">Right? So in the real world,</p>
<p begin="01:33:39.920" end="01:33:45.600" style="s2">Capum tells you that you will only be</p>
<p begin="01:33:43.600" end="01:33:47.840" style="s2">able to select two out of these three</p>
<p begin="01:33:45.600" end="01:33:49.840" style="s2">options. You can either be consistent,</p>
<p begin="01:33:47.840" end="01:33:51.920" style="s2">available, partition tolerant. Only two</p>
<p begin="01:33:49.840" end="01:33:54.639" style="s2">of these three things can be together.</p>
<p begin="01:33:51.920" end="01:33:58.639" style="s2">The third thing, the P in part cap</p>
<p begin="01:33:54.639" end="01:34:00.239" style="s2">theorem stands for partition tolerance.</p>
<p begin="01:33:58.639" end="01:34:04.159" style="s2">Right?</p>
<p begin="01:34:00.239" end="01:34:06.320" style="s2">Now it&#39;s a word play of English and even</p>
<p begin="01:34:04.159" end="01:34:08.800" style="s2">though it&#39;s very easy for me to</p>
<p begin="01:34:06.320" end="01:34:10.080" style="s2">appreciate but I somehow find it very</p>
<p begin="01:34:08.800" end="01:34:13.520" style="s2">strange that some people don&#39;t</p>
<p begin="01:34:10.080" end="01:34:15.600" style="s2">understand the word play partition is a</p>
<p begin="01:34:13.520" end="01:34:18.080" style="s2">is a negative thing thing right a</p>
<p begin="01:34:15.600" end="01:34:20.960" style="s2">partition happened a connection broke</p>
<p begin="01:34:18.080" end="01:34:23.840" style="s2">between two machines partition tolerance</p>
<p begin="01:34:20.960" end="01:34:27.679" style="s2">basically means that your system as a</p>
<p begin="01:34:23.840" end="01:34:30.320" style="s2">whole is allowed to have partitions it</p>
<p begin="01:34:27.679" end="01:34:32.159" style="s2">is tolerant to partitions Guys, does it</p>
<p begin="01:34:30.320" end="01:34:34.400" style="s2">make sense? If it does not make sense to</p>
<p begin="01:34:32.159" end="01:34:36.320" style="s2">you, forget the word tolerance. It&#39;s</p>
<p begin="01:34:34.400" end="01:34:38.719" style="s2">just a word play. If it does not make</p>
<p begin="01:34:36.320" end="01:34:39.840" style="s2">sense to you, forget it. Basically, CAPM</p>
<p begin="01:34:38.719" end="01:34:41.840" style="s2">tells you that you can either be</p>
<p begin="01:34:39.840" end="01:34:43.280" style="s2">partition tolerant, available, and out</p>
<p begin="01:34:41.840" end="01:34:44.480" style="s2">of these consistent available and</p>
<p begin="01:34:43.280" end="01:34:47.600" style="s2">partition tolerant, you can only be two</p>
<p begin="01:34:44.480" end="01:34:50.239" style="s2">things at the same time. Which means</p>
<p begin="01:34:47.600" end="01:34:52.480" style="s2">that only if the system will not have</p>
<p begin="01:34:50.239" end="01:34:53.920" style="s2">partitions only then you can be</p>
<p begin="01:34:52.480" end="01:34:57.040" style="s2">consistent and available at the same</p>
<p begin="01:34:53.920" end="01:34:58.480" style="s2">time. How many of you understand this?</p>
<p begin="01:34:57.040" end="01:35:00.159" style="s2">Only if the system will not have</p>
<p begin="01:34:58.480" end="01:35:02.719" style="s2">partitions only then you will have you</p>
<p begin="01:35:00.159" end="01:35:05.199" style="s2">will be consistent and and available.</p>
<p begin="01:35:02.719" end="01:35:07.600" style="s2">But the problem is that the reality of</p>
<p begin="01:35:05.199" end="01:35:09.520" style="s2">the world is that network is always</p>
<p begin="01:35:07.600" end="01:35:12.880" style="s2">unreliable</p>
<p begin="01:35:09.520" end="01:35:16.239" style="s2">which means that it&#39;s impossible to</p>
<p begin="01:35:12.880" end="01:35:17.920" style="s2">build a system where network partition</p>
<p begin="01:35:16.239" end="01:35:20.960" style="s2">network partition tolerance is not</p>
<p begin="01:35:17.920" end="01:35:24.000" style="s2">required. So in a way the essential</p>
<p begin="01:35:20.960" end="01:35:28.080" style="s2">choice becomes between either you are</p>
<p begin="01:35:24.000" end="01:35:31.199" style="s2">consistent and partition tolerant or you</p>
<p begin="01:35:28.080" end="01:35:34.800" style="s2">are available or partition tolerant. How</p>
<p begin="01:35:31.199" end="01:35:38.960" style="s2">many of you understand this?</p>
<p begin="01:35:34.800" end="01:35:42.480" style="s2">How many of you understand this?</p>
<p begin="01:35:38.960" end="01:35:46.239" style="s2">In distributed systems</p>
<p begin="01:35:42.480" end="01:35:50.080" style="s2">partition tolerance is always required.</p>
<p begin="01:35:46.239" end="01:35:51.760" style="s2">Why? Because network is always</p>
<p begin="01:35:50.080" end="01:35:53.600" style="s2">unreliable</p>
<p begin="01:35:51.760" end="01:35:56.320" style="s2">which means that you can either be</p>
<p begin="01:35:53.600" end="01:36:00.000" style="s2">consistent and partition tolerant or you</p>
<p begin="01:35:56.320" end="01:36:02.080" style="s2">can be available or partition tolerant.</p>
<p begin="01:36:00.000" end="01:36:05.440" style="s2">Now some of you will have a very</p>
<p begin="01:36:02.080" end="01:36:08.560" style="s2">interesting question that</p>
<p begin="01:36:05.440" end="01:36:09.840" style="s2">how then why did you frame the law</p>
<p begin="01:36:08.560" end="01:36:12.080" style="s2">accordingly? Why did you frame the</p>
<p begin="01:36:09.840" end="01:36:14.719" style="s2">theorem accordingly? Why did you not say</p>
<p begin="01:36:12.080" end="01:36:17.360" style="s2">it&#39;s CP or AP? Right? You might have</p>
<p begin="01:36:14.719" end="01:36:20.719" style="s2">this question. So to answer that let me</p>
<p begin="01:36:17.360" end="01:36:22.880" style="s2">give you the answer that if you had a</p>
<p begin="01:36:20.719" end="01:36:25.120" style="s2">single machine you did not have two</p>
<p begin="01:36:22.880" end="01:36:27.520" style="s2">machines talking to each other. Do you</p>
<p begin="01:36:25.120" end="01:36:29.840" style="s2">understand then partition tolerance is</p>
<p begin="01:36:27.520" end="01:36:31.600" style="s2">not required because network is not even</p>
<p begin="01:36:29.840" end="01:36:33.920" style="s2">involved. If you have a single machine</p>
<p begin="01:36:31.600" end="01:36:37.520" style="s2">then no network is involved. If Hardep</p>
<p begin="01:36:33.920" end="01:36:40.080" style="s2">did not even hire Nikl. If Hardep was</p>
<p begin="01:36:37.520" end="01:36:43.920" style="s2">handling it all by himself, then you can</p>
<p begin="01:36:40.080" end="01:36:46.719" style="s2">say that the single machine</p>
<p begin="01:36:43.920" end="01:36:49.199" style="s2">given that no network is involved, a</p>
<p begin="01:36:46.719" end="01:36:52.480" style="s2">single machine can be both consistent</p>
<p begin="01:36:49.199" end="01:36:53.760" style="s2">and available at the same time. Guys, is</p>
<p begin="01:36:52.480" end="01:36:55.679" style="s2">this making intuitive sense to</p>
<p begin="01:36:53.760" end="01:36:57.760" style="s2">everybody? Is this making intuitive</p>
<p begin="01:36:55.679" end="01:36:59.440" style="s2">sense to everybody? Is everybody happy?</p>
<p begin="01:36:57.760" end="01:37:01.520" style="s2">Are you guys smiling? Does this make</p>
<p begin="01:36:59.440" end="01:37:04.560" style="s2">sense? Is this is this a beautiful</p>
<p begin="01:37:01.520" end="01:37:07.520" style="s2">thing? Right? Are we able to appreciate</p>
<p begin="01:37:04.560" end="01:37:09.199" style="s2">the beauty of the system design world?</p>
<p begin="01:37:07.520" end="01:37:10.560" style="s2">Right? This is a topic that is going to</p>
<p begin="01:37:09.199" end="01:37:12.400" style="s2">be tested in your high level design</p>
<p begin="01:37:10.560" end="01:37:14.080" style="s2">interviews all the time. And if you</p>
<p begin="01:37:12.400" end="01:37:16.320" style="s2">understand this well, you&#39;re going to do</p>
<p begin="01:37:14.080" end="01:37:19.679" style="s2">great at least in that portion of your</p>
<p begin="01:37:16.320" end="01:37:22.960" style="s2">HLD interviews. Guys, am I making sense?</p>
<p begin="01:37:19.679" end="01:37:24.560" style="s2">Is only 15 are only 15 people happy? I</p>
<p begin="01:37:22.960" end="01:37:27.199" style="s2">hope everybody&#39;s happy. What I&#39;m saying</p>
<p begin="01:37:24.560" end="01:37:29.840" style="s2">is that only in case when you have a</p>
<p begin="01:37:27.199" end="01:37:31.679" style="s2">single machine, if a single machine is</p>
<p begin="01:37:29.840" end="01:37:33.199" style="s2">there, there is no requirement for a</p>
<p begin="01:37:31.679" end="01:37:35.280" style="s2">network over which you will communicate.</p>
<p begin="01:37:33.199" end="01:37:37.199" style="s2">Am I making sense? If there&#39;s a single</p>
<p begin="01:37:35.280" end="01:37:38.880" style="s2">machine, there is no requirement for you</p>
<p begin="01:37:37.199" end="01:37:40.880" style="s2">to have a network over which you will</p>
<p begin="01:37:38.880" end="01:37:42.400" style="s2">communicate. If there is no network</p>
<p begin="01:37:40.880" end="01:37:44.960" style="s2">because there is a single machine, there</p>
<p begin="01:37:42.400" end="01:37:47.679" style="s2">is no network partition tolerance which</p>
<p begin="01:37:44.960" end="01:37:50.400" style="s2">is required. Am I making sense?</p>
<p begin="01:37:47.679" end="01:37:52.960" style="s2">Rahul, you are right. Uh basically, it&#39;s</p>
<p begin="01:37:50.400" end="01:37:54.159" style="s2">a word play only. uh what I&#39;m</p>
<p begin="01:37:52.960" end="01:37:56.400" style="s2">essentially trying to tell you is that</p>
<p begin="01:37:54.159" end="01:37:58.880" style="s2">only if a single machine is there only</p>
<p begin="01:37:56.400" end="01:38:01.280" style="s2">then you can have both consistency and</p>
<p begin="01:37:58.880" end="01:38:03.040" style="s2">availability at the same time. Rahul am</p>
<p begin="01:38:01.280" end="01:38:04.960" style="s2">I making sense? Rahul Kash am I making</p>
<p begin="01:38:03.040" end="01:38:06.560" style="s2">sense? Only when you have a single</p>
<p begin="01:38:04.960" end="01:38:08.400" style="s2">machine running only then you can be</p>
<p begin="01:38:06.560" end="01:38:10.880" style="s2">consistent available at the same time</p>
<p begin="01:38:08.400" end="01:38:12.320" style="s2">otherwise partition tolerance is a given</p>
<p begin="01:38:10.880" end="01:38:14.560" style="s2">and hence you always have to choose</p>
<p begin="01:38:12.320" end="01:38:16.080" style="s2">between consistency or availability. Is</p>
<p begin="01:38:14.560" end="01:38:18.880" style="s2">everybody in the class with me? Is</p>
<p begin="01:38:16.080" end="01:38:21.840" style="s2">everybody in the class with me?</p>
<p begin="01:38:18.880" end="01:38:24.719" style="s2">Now uh Akash has raised raised a hand.</p>
<p begin="01:38:21.840" end="01:38:27.360" style="s2">Akash Akash I will unmute you. Rahul you</p>
<p begin="01:38:24.719" end="01:38:30.560" style="s2">also have a doubt I will unmute you as</p>
<p begin="01:38:27.360" end="01:38:32.400" style="s2">well and if there is any other person</p>
<p begin="01:38:30.560" end="01:38:34.880" style="s2">who has doubts I will unmute you one by</p>
<p begin="01:38:32.400" end="01:38:37.440" style="s2">one but before that let me complete my</p>
<p begin="01:38:34.880" end="01:38:39.440" style="s2">thought right and then I will unmute you</p>
<p begin="01:38:37.440" end="01:38:41.840" style="s2">guys. Is that fine? Let me complete my</p>
<p begin="01:38:39.440" end="01:38:44.080" style="s2">thought right. My thought that I wanted</p>
<p begin="01:38:41.840" end="01:38:46.239" style="s2">to complete here is the following that</p>
<p begin="01:38:44.080" end="01:38:48.080" style="s2">let&#39;s imagine this example once again</p>
<p begin="01:38:46.239" end="01:38:50.400" style="s2">and understand the cap theorem in its</p>
<p begin="01:38:48.080" end="01:38:53.400" style="s2">full beauty. Right? So you have a</p>
<p begin="01:38:50.400" end="01:38:53.400" style="s2">client.</p>
<p begin="01:38:54.000" end="01:38:58.520" style="s2">Your client reaches out to your load</p>
<p begin="01:38:55.520" end="01:38:58.520" style="s2">balancer.</p>
<p begin="01:38:59.600" end="01:39:04.159" style="s2">Your load balancer has multiple boxes</p>
<p begin="01:39:01.840" end="01:39:05.920" style="s2">running.</p>
<p begin="01:39:04.159" end="01:39:09.119" style="s2">Now what I&#39;m trying to tell you is the</p>
<p begin="01:39:05.920" end="01:39:11.440" style="s2">following. that one option was that they</p>
<p begin="01:39:09.119" end="01:39:13.920" style="s2">both were writing individually and they</p>
<p begin="01:39:11.440" end="01:39:18.679" style="s2">were not sharing notes. So let me write</p>
<p begin="01:39:13.920" end="01:39:18.679" style="s2">it down. Option one</p>
<p begin="01:39:19.760" end="01:39:25.159" style="s2">both</p>
<p begin="01:39:22.159" end="01:39:25.159" style="s2">writing</p>
<p begin="01:39:25.280" end="01:39:32.239" style="s2">separately</p>
<p begin="01:39:28.080" end="01:39:33.840" style="s2">no node sharing.</p>
<p begin="01:39:32.239" end="01:39:35.840" style="s2">If both are writing separately and</p>
<p begin="01:39:33.840" end="01:39:38.719" style="s2">there&#39;s no note sharing happening then</p>
<p begin="01:39:35.840" end="01:39:42.080" style="s2">the system is not consistent. Is</p>
<p begin="01:39:38.719" end="01:39:43.920" style="s2">everybody in the class with me?</p>
<p begin="01:39:42.080" end="01:39:46.239" style="s2">This is one option that your system is</p>
<p begin="01:39:43.920" end="01:39:49.040" style="s2">not consistent. Your system will be</p>
<p begin="01:39:46.239" end="01:39:51.840" style="s2">available.</p>
<p begin="01:39:49.040" end="01:39:53.440" style="s2">Am I making sense? And your system of</p>
<p begin="01:39:51.840" end="01:39:55.119" style="s2">course can tolerate partitions because</p>
<p begin="01:39:53.440" end="01:39:57.600" style="s2">if Nikl and Hardep are not talking to</p>
<p begin="01:39:55.119" end="01:39:59.280" style="s2">each other we are all fine. Yes Koshik</p>
<p begin="01:39:57.600" end="01:40:01.679" style="s2">even inside a data center the network is</p>
<p begin="01:39:59.280" end="01:40:03.760" style="s2">always unreliable. The network is always</p>
<p begin="01:40:01.679" end="01:40:06.239" style="s2">unreliable. Does that make sense Koshik?</p>
<p begin="01:40:03.760" end="01:40:07.920" style="s2">I hope it does. So the system in this</p>
<p begin="01:40:06.239" end="01:40:09.600" style="s2">example when they are taking the</p>
<p begin="01:40:07.920" end="01:40:12.000" style="s2">individual nodes and not talking to each</p>
<p begin="01:40:09.600" end="01:40:14.320" style="s2">other it&#39;s not consistent. It&#39;s</p>
<p begin="01:40:12.000" end="01:40:16.159" style="s2">available and of course it&#39;s partition</p>
<p begin="01:40:14.320" end="01:40:18.080" style="s2">tolerant</p>
<p begin="01:40:16.159" end="01:40:20.080" style="s2">that even if they don&#39;t talk we are</p>
<p begin="01:40:18.080" end="01:40:23.280" style="s2">fine. So what is this system my dear</p>
<p begin="01:40:20.080" end="01:40:25.280" style="s2">friends? This system is AP. How many of</p>
<p begin="01:40:23.280" end="01:40:27.440" style="s2">you understand this? This system is</p>
<p begin="01:40:25.280" end="01:40:29.440" style="s2">available and partition tolerant. I want</p>
<p begin="01:40:27.440" end="01:40:32.320" style="s2">everybody in the class to answer. Is</p>
<p begin="01:40:29.440" end="01:40:36.600" style="s2">this making sense? This is making sense.</p>
<p begin="01:40:32.320" end="01:40:36.600" style="s2">The option B that you had.</p>
<p begin="01:40:38.639" end="01:40:44.480" style="s2">Rahul, I will repeat it. Rahul, do you</p>
<p begin="01:40:41.440" end="01:40:46.159" style="s2">mind if I unmute you? Let me unmute you.</p>
<p begin="01:40:44.480" end="01:40:48.159" style="s2">Explain this to you and every and to</p>
<p begin="01:40:46.159" end="01:40:50.159" style="s2">everybody in the class. Rahul, can I</p>
<p begin="01:40:48.159" end="01:40:52.320" style="s2">unmute you? Yes. So, let me unmute</p>
<p begin="01:40:50.159" end="01:40:56.440" style="s2">Rahul. Please speak up, my dear friend.</p>
<p begin="01:40:52.320" end="01:40:56.440" style="s2">Let&#39;s understand it together.</p>
<p begin="01:40:59.679" end="01:41:04.320" style="s2">Akash you as well. Hey Rahul. Hi. So</p>
<p begin="01:41:02.159" end="01:41:06.880" style="s2">Rahul what I was saying is that the</p>
<p begin="01:41:04.320" end="01:41:08.480" style="s2">first option is that these people are</p>
<p begin="01:41:06.880" end="01:41:10.400" style="s2">not sharing note with each other.</p>
<p begin="01:41:08.480" end="01:41:12.480" style="s2">Whenever a call comes they write it down</p>
<p begin="01:41:10.400" end="01:41:14.159" style="s2">in their own system and whenever a call</p>
<p begin="01:41:12.480" end="01:41:16.400" style="s2">comes they read from the system and</p>
<p begin="01:41:14.159" end="01:41:17.679" style="s2">answer it. Rahul is it making sense that</p>
<p begin="01:41:16.400" end="01:41:19.199" style="s2">there is no note sharing happening</p>
<p begin="01:41:17.679" end="01:41:22.239" style="s2">between the two people. Rahul are you</p>
<p begin="01:41:19.199" end="01:41:24.080" style="s2">with me?</p>
<p begin="01:41:22.239" end="01:41:26.880" style="s2">Hello.</p>
<p begin="01:41:24.080" end="01:41:28.320" style="s2">Okay. Okay. So, Rahul went away. I hope</p>
<p begin="01:41:26.880" end="01:41:30.960" style="s2">this is clear to everybody that there is</p>
<p begin="01:41:28.320" end="01:41:33.199" style="s2">no note sharing happening. The problem</p>
<p begin="01:41:30.960" end="01:41:35.199" style="s2">with is this is that if somebody else</p>
<p begin="01:41:33.199" end="01:41:37.280" style="s2">not noted down the request and now the</p>
<p begin="01:41:35.199" end="01:41:40.480" style="s2">read request comes to somebody else, you</p>
<p begin="01:41:37.280" end="01:41:43.280" style="s2">will present a wrong reality. You will</p>
<p begin="01:41:40.480" end="01:41:45.040" style="s2">return back with a wrong answer. Right?</p>
<p begin="01:41:43.280" end="01:41:46.719" style="s2">So, in this the system was not</p>
<p begin="01:41:45.040" end="01:41:48.320" style="s2">consistent, it was available. It was</p>
<p begin="01:41:46.719" end="01:41:50.480" style="s2">partition problem. The second option</p>
<p begin="01:41:48.320" end="01:41:52.719" style="s2">that you have is that there is node</p>
<p begin="01:41:50.480" end="01:41:54.719" style="s2">sharing happening.</p>
<p begin="01:41:52.719" end="01:41:58.400" style="s2">Right?</p>
<p begin="01:41:54.719" end="01:42:00.800" style="s2">No sharing happening</p>
<p begin="01:41:58.400" end="01:42:03.440" style="s2">and</p>
<p begin="01:42:00.800" end="01:42:07.800" style="s2">write</p>
<p begin="01:42:03.440" end="01:42:07.800" style="s2">will only be acknowledged</p>
<p begin="01:42:09.360" end="01:42:15.920" style="s2">when</p>
<p begin="01:42:12.159" end="01:42:18.239" style="s2">both copies have it. How many of you</p>
<p begin="01:42:15.920" end="01:42:19.760" style="s2">understand the option B that the right</p>
<p begin="01:42:18.239" end="01:42:22.159" style="s2">will only be acknowledged when both</p>
<p begin="01:42:19.760" end="01:42:23.920" style="s2">copies have it? In this kind of a</p>
<p begin="01:42:22.159" end="01:42:26.639" style="s2">scenario, I want everybody in the class</p>
<p begin="01:42:23.920" end="01:42:28.320" style="s2">to answer this for me. The system is of</p>
<p begin="01:42:26.639" end="01:42:30.320" style="s2">course partition tolerant because if</p>
<p begin="01:42:28.320" end="01:42:34.159" style="s2">these two folks don&#39;t talk to each other</p>
<p begin="01:42:30.320" end="01:42:36.080" style="s2">for some time, we are fine. The system</p>
<p begin="01:42:34.159" end="01:42:38.480" style="s2">will always be consistent in this</p>
<p begin="01:42:36.080" end="01:42:41.280" style="s2">because you are only writing when both</p>
<p begin="01:42:38.480" end="01:42:44.080" style="s2">of them can write it. But the system is</p>
<p begin="01:42:41.280" end="01:42:47.440" style="s2">not available because you might have a</p>
<p begin="01:42:44.080" end="01:42:49.679" style="s2">scenario where if one of our two friends</p>
<p begin="01:42:47.440" end="01:42:51.920" style="s2">are down, the entire system will be</p>
<p begin="01:42:49.679" end="01:42:55.760" style="s2">down. Is everybody in the class with me?</p>
<p begin="01:42:51.920" end="01:42:58.000" style="s2">So this is a system which is consistent</p>
<p begin="01:42:55.760" end="01:42:59.360" style="s2">and partition tolerant. I want everybody</p>
<p begin="01:42:58.000" end="01:43:01.920" style="s2">in the class to answer this guys. Are</p>
<p begin="01:42:59.360" end="01:43:04.960" style="s2">you with me?</p>
<p begin="01:43:01.920" end="01:43:06.560" style="s2">You are with me. That&#39;s great. The third</p>
<p begin="01:43:04.960" end="01:43:08.560" style="s2">option. How is it partition tolerant?</p>
<p begin="01:43:06.560" end="01:43:11.199" style="s2">Hard because even when these two folks</p>
<p begin="01:43:08.560" end="01:43:15.600" style="s2">don&#39;t talk to each other,</p>
<p begin="01:43:11.199" end="01:43:17.679" style="s2">you as a system are still functioning.</p>
<p begin="01:43:15.600" end="01:43:20.400" style="s2">the read requests that come to you, you</p>
<p begin="01:43:17.679" end="01:43:22.239" style="s2">will still be able to respond to them,</p>
<p begin="01:43:20.400" end="01:43:23.600" style="s2">right? So, partition tolerance basically</p>
<p begin="01:43:22.239" end="01:43:25.119" style="s2">means that the partition can happen. You</p>
<p begin="01:43:23.600" end="01:43:26.239" style="s2">are allowing the partition to happen. Of</p>
<p begin="01:43:25.119" end="01:43:28.159" style="s2">course, the partition can happen. It</p>
<p begin="01:43:26.239" end="01:43:30.080" style="s2">will always happen. You are allowing for</p>
<p begin="01:43:28.159" end="01:43:32.480" style="s2">the partition to happen. Gardep, are you</p>
<p begin="01:43:30.080" end="01:43:36.400" style="s2">with me? Partition tolerance is a given,</p>
<p begin="01:43:32.480" end="01:43:42.040" style="s2">right? The third option that you have is</p>
<p begin="01:43:36.400" end="01:43:42.040" style="s2">that The third option that you have is</p>
<p begin="01:43:45.280" end="01:43:51.719" style="s2">you</p>
<p begin="01:43:47.119" end="01:43:51.719" style="s2">write at both places.</p>
<p begin="01:43:52.080" end="01:43:58.000" style="s2">But when</p>
<p begin="01:43:55.679" end="01:44:01.320" style="s2">one machine</p>
<p begin="01:43:58.000" end="01:44:01.320" style="s2">is down,</p>
<p begin="01:44:02.639" end="01:44:06.520" style="s2">you only write</p>
<p begin="01:44:07.040" end="01:44:12.480" style="s2">on the remaining machine. So when one</p>
<p begin="01:44:09.840" end="01:44:15.040" style="s2">machine is dying down, you only write on</p>
<p begin="01:44:12.480" end="01:44:16.400" style="s2">the remaining machine. You write at both</p>
<p begin="01:44:15.040" end="01:44:17.760" style="s2">the places, but when one machine is</p>
<p begin="01:44:16.400" end="01:44:21.040" style="s2">down, you only write at the remaining</p>
<p begin="01:44:17.760" end="01:44:23.679" style="s2">machine. And</p>
<p begin="01:44:21.040" end="01:44:28.520" style="s2">before</p>
<p begin="01:44:23.679" end="01:44:28.520" style="s2">the down machine comes back up,</p>
<p begin="01:44:32.480" end="01:44:36.320" style="s2">you sink.</p>
<p begin="01:44:34.719" end="01:44:38.239" style="s2">Is everybody in the class able to</p>
<p begin="01:44:36.320" end="01:44:40.880" style="s2">understand this?</p>
<p begin="01:44:38.239" end="01:44:44.000" style="s2">Before the down machine comes back up,</p>
<p begin="01:44:40.880" end="01:44:46.320" style="s2">you sink, right? And you always remain</p>
<p begin="01:44:44.000" end="01:44:48.880" style="s2">available to take the rights. In this</p>
<p begin="01:44:46.320" end="01:44:52.320" style="s2">scenario my dear friends you will be</p>
<p begin="01:44:48.880" end="01:44:55.119" style="s2">available all the time.</p>
<p begin="01:44:52.320" end="01:44:57.600" style="s2">You having to account for partition is</p>
<p begin="01:44:55.119" end="01:45:00.560" style="s2">always the requirement.</p>
<p begin="01:44:57.600" end="01:45:02.880" style="s2">The problem is at the time of syncing if</p>
<p begin="01:45:00.560" end="01:45:05.840" style="s2">your partition happened then your system</p>
<p begin="01:45:02.880" end="01:45:07.679" style="s2">will not be consistent. Is everybody in</p>
<p begin="01:45:05.840" end="01:45:10.239" style="s2">the class with me? Is everybody in the</p>
<p begin="01:45:07.679" end="01:45:13.600" style="s2">class with me? So your system is</p>
<p begin="01:45:10.239" end="01:45:16.639" style="s2">essentially going to be available</p>
<p begin="01:45:13.600" end="01:45:18.400" style="s2">and partition tolerant.</p>
<p begin="01:45:16.639" end="01:45:20.719" style="s2">Is everybody in the class with me? Is</p>
<p begin="01:45:18.400" end="01:45:22.320" style="s2">everybody in the class with me? So I</p>
<p begin="01:45:20.719" end="01:45:24.000" style="s2">hope I have made myself clear that your</p>
<p begin="01:45:22.320" end="01:45:25.520" style="s2">system can either be available and</p>
<p begin="01:45:24.000" end="01:45:27.440" style="s2">partition tolerant or consistent</p>
<p begin="01:45:25.520" end="01:45:28.880" style="s2">partition tolerant. I will unmute a</p>
<p begin="01:45:27.440" end="01:45:30.719" style="s2">bunch of folks who want to be unmuted</p>
<p begin="01:45:28.880" end="01:45:31.920" style="s2">now. Akash I have unmuted you. Anybody</p>
<p begin="01:45:30.719" end="01:45:34.960" style="s2">else wants to be unmuted? Please raise</p>
<p begin="01:45:31.920" end="01:45:36.320" style="s2">your hand and then I move ahead move. Uh</p>
<p begin="01:45:34.960" end="01:45:38.000" style="s2">hey Akash, please tell me.</p>
<p begin="01:45:36.320" end="01:45:39.520" style="s2">&gt;&gt; Yeah. Hi Tun, am I audible?</p>
<p begin="01:45:38.000" end="01:45:42.159" style="s2">&gt;&gt; Yeah, you&#39;re audible. Please tell me.</p>
<p begin="01:45:39.520" end="01:45:43.920" style="s2">Yeah, I wanted to talk about the single</p>
<p begin="01:45:42.159" end="01:45:46.480" style="s2">machine where you said that both</p>
<p begin="01:45:43.920" end="01:45:47.440" style="s2">consistent like all of the three can be</p>
<p begin="01:45:46.480" end="01:45:49.600" style="s2">achieved</p>
<p begin="01:45:47.440" end="01:45:51.440" style="s2">&gt;&gt; right all of the two can be achieved in</p>
<p begin="01:45:49.600" end="01:45:53.840" style="s2">a single machine when you have a single</p>
<p begin="01:45:51.440" end="01:45:56.000" style="s2">machine partition partition tolerance is</p>
<p begin="01:45:53.840" end="01:45:57.679" style="s2">not even required it&#39;s irrelevant</p>
<p begin="01:45:56.000" end="01:45:59.040" style="s2">because there is no partitioning network</p>
<p begin="01:45:57.679" end="01:46:00.639" style="s2">partitioning that can happen there is a</p>
<p begin="01:45:59.040" end="01:46:02.320" style="s2">single machine you don&#39;t talk to any</p>
<p begin="01:46:00.639" end="01:46:04.800" style="s2">other machine that you need partition</p>
<p begin="01:46:02.320" end="01:46:06.960" style="s2">tolerance for and hence your system can</p>
<p begin="01:46:04.800" end="01:46:09.600" style="s2">be consistent and available</p>
<p begin="01:46:06.960" end="01:46:11.280" style="s2">&gt;&gt; correct yeah so partitioning is Not even</p>
<p begin="01:46:09.600" end="01:46:13.280" style="s2">there. Not even a concern.</p>
<p begin="01:46:11.280" end="01:46:14.960" style="s2">&gt;&gt; Yeah. Not not not even a not even a</p>
<p begin="01:46:13.280" end="01:46:15.840" style="s2">possibility because there is a single</p>
<p begin="01:46:14.960" end="01:46:18.560" style="s2">machine, right?</p>
<p begin="01:46:15.840" end="01:46:21.040" style="s2">&gt;&gt; But here uh the problem that I see is</p>
<p begin="01:46:18.560" end="01:46:23.520" style="s2">that if my that machine is down, I am</p>
<p begin="01:46:21.040" end="01:46:25.119" style="s2">not available.</p>
<p begin="01:46:23.520" end="01:46:26.880" style="s2">&gt;&gt; If that machine is down, then you&#39;re not</p>
<p begin="01:46:25.119" end="01:46:28.719" style="s2">available. You are right. But in that</p>
<p begin="01:46:26.880" end="01:46:31.600" style="s2">scenario, you can say that let&#39;s say I</p>
<p begin="01:46:28.719" end="01:46:34.239" style="s2">have a 100 machines. If I am the funky</p>
<p begin="01:46:31.600" end="01:46:36.320" style="s2">one and I take a matchbox and I put my</p>
<p begin="01:46:34.239" end="01:46:37.679" style="s2">entire data center on fire, then you can</p>
<p begin="01:46:36.320" end="01:46:40.080" style="s2">say that hey, my Facebook is not</p>
<p begin="01:46:37.679" end="01:46:41.520" style="s2">available. Of course that can happen. If</p>
<p begin="01:46:40.080" end="01:46:43.520" style="s2">there is a single machine that is down,</p>
<p begin="01:46:41.520" end="01:46:45.199" style="s2">then there is no point of availability.</p>
<p begin="01:46:43.520" end="01:46:46.560" style="s2">Right? If there are 100 machines and all</p>
<p begin="01:46:45.199" end="01:46:48.320" style="s2">of them are down, there is no point of</p>
<p begin="01:46:46.560" end="01:46:51.280" style="s2">availability. Availability basically</p>
<p begin="01:46:48.320" end="01:46:54.320" style="s2">means that if there is a machine alive</p>
<p begin="01:46:51.280" end="01:46:55.840" style="s2">to take your request and somebody</p>
<p begin="01:46:54.320" end="01:46:58.480" style="s2">reaches out to you, you are able to</p>
<p begin="01:46:55.840" end="01:47:00.639" style="s2">respond back to them. So in the cap</p>
<p begin="01:46:58.480" end="01:47:02.560" style="s2">theorem world, the availability means</p>
<p begin="01:47:00.639" end="01:47:04.080" style="s2">this that if there is a machine that you</p>
<p begin="01:47:02.560" end="01:47:05.840" style="s2">take your request, you should be</p>
<p begin="01:47:04.080" end="01:47:08.400" style="s2">available to respond back. You should be</p>
<p begin="01:47:05.840" end="01:47:09.440" style="s2">able to respond back. Am I making sense?</p>
<p begin="01:47:08.400" end="01:47:11.040" style="s2">&gt;&gt; Yeah. Yeah. Okay.</p>
<p begin="01:47:09.440" end="01:47:13.360" style="s2">&gt;&gt; When you talk about a system being</p>
<p begin="01:47:11.040" end="01:47:16.000" style="s2">available overall, then of course from a</p>
<p begin="01:47:13.360" end="01:47:18.000" style="s2">user perspective, if you irrespective</p>
<p begin="01:47:16.000" end="01:47:19.840" style="s2">whether the machines are up or not, you</p>
<p begin="01:47:18.000" end="01:47:21.520" style="s2">are as a system available or not to the</p>
<p begin="01:47:19.840" end="01:47:23.520" style="s2">to the user if the user is able to</p>
<p begin="01:47:21.520" end="01:47:25.600" style="s2">communicate to you or not. But from a</p>
<p begin="01:47:23.520" end="01:47:27.760" style="s2">cap theorem perspective, we are talking</p>
<p begin="01:47:25.600" end="01:47:29.840" style="s2">from an idea that if there is a machine</p>
<p begin="01:47:27.760" end="01:47:31.520" style="s2">ready to take your request, you should</p>
<p begin="01:47:29.840" end="01:47:33.119" style="s2">always be able to take it. You should</p>
<p begin="01:47:31.520" end="01:47:34.639" style="s2">not be in a scenario that the machine is</p>
<p begin="01:47:33.119" end="01:47:36.239" style="s2">up but you should say that hey I cannot</p>
<p begin="01:47:34.639" end="01:47:39.360" style="s2">take your request because something else</p>
<p begin="01:47:36.239" end="01:47:40.960" style="s2">is down. So in option B what was</p>
<p begin="01:47:39.360" end="01:47:43.520" style="s2">happening is that Hardep was there to</p>
<p begin="01:47:40.960" end="01:47:46.239" style="s2">take request but Hadep could not take</p>
<p begin="01:47:43.520" end="01:47:47.840" style="s2">them because the protocol suggested that</p>
<p begin="01:47:46.239" end="01:47:50.239" style="s2">he cannot take it unless and until the</p>
<p begin="01:47:47.840" end="01:47:52.159" style="s2">other person takes it. So that was not</p>
<p begin="01:47:50.239" end="01:47:53.600" style="s2">available from a capturum perspective.</p>
<p begin="01:47:52.159" end="01:47:55.040" style="s2">Does that make sense Akash?</p>
<p begin="01:47:53.600" end="01:47:57.199" style="s2">&gt;&gt; Yes. Got it. Thank you so much.</p>
<p begin="01:47:55.040" end="01:47:58.880" style="s2">&gt;&gt; Okay. Thanks a lot Akash. Thanks a lot.</p>
<p begin="01:47:57.199" end="01:48:00.480" style="s2">Anybody else has any question? Anybody</p>
<p begin="01:47:58.880" end="01:48:02.800" style="s2">else has any question? Please raise your</p>
<p begin="01:48:00.480" end="01:48:04.880" style="s2">hand. Uh rather than reading through all</p>
<p begin="01:48:02.800" end="01:48:08.080" style="s2">the comments, it&#39;s easier for me to hear</p>
<p begin="01:48:04.880" end="01:48:10.159" style="s2">you out and then answer you. Sor has a</p>
<p begin="01:48:08.080" end="01:48:11.920" style="s2">question. Hey Sor, please tell me.</p>
<p begin="01:48:10.159" end="01:48:13.679" style="s2">Runali, I have admitted you as well. If</p>
<p begin="01:48:11.920" end="01:48:15.760" style="s2">you have a question,</p>
<p begin="01:48:13.679" end="01:48:17.440" style="s2">&gt;&gt; Masaya, please don&#39;t ask for breaks. You</p>
<p begin="01:48:15.760" end="01:48:19.440" style="s2">want me to end the class early as well</p>
<p begin="01:48:17.440" end="01:48:21.360" style="s2">and break as well. Then I will have to</p>
<p begin="01:48:19.440" end="01:48:24.400" style="s2">cut on the content. I really can&#39;t do</p>
<p begin="01:48:21.360" end="01:48:26.159" style="s2">that. So please, please, please drink</p>
<p begin="01:48:24.400" end="01:48:27.600" style="s2">water while I&#39;m answering questions.</p>
<p begin="01:48:26.159" end="01:48:29.040" style="s2">Anybody who wants to take a break, take</p>
<p begin="01:48:27.600" end="01:48:30.639" style="s2">a break for a minute or two. I&#39;m</p>
<p begin="01:48:29.040" end="01:48:32.400" style="s2">answering some questions and then we</p>
<p begin="01:48:30.639" end="01:48:34.480" style="s2">proceed. Okay.</p>
<p begin="01:48:32.400" end="01:48:37.119" style="s2">&gt;&gt; Yeah. Hey Sor please tell me. Hi.</p>
<p begin="01:48:34.480" end="01:48:38.320" style="s2">&gt;&gt; So when system two that is n comes</p>
<p begin="01:48:37.119" end="01:48:39.840" style="s2">available</p>
<p begin="01:48:38.320" end="01:48:42.960" style="s2">&gt;&gt; he will come available using some</p>
<p begin="01:48:39.840" end="01:48:46.560" style="s2">network. Why can&#39;t uh the first system</p>
<p begin="01:48:42.960" end="01:48:49.840" style="s2">use that network to sync up</p>
<p begin="01:48:46.560" end="01:48:51.280" style="s2">&gt;&gt; right? So okay so you I did not get your</p>
<p begin="01:48:49.840" end="01:48:54.080" style="s2">question. He will become unavailable</p>
<p begin="01:48:51.280" end="01:48:57.840" style="s2">using a network. By unavailable I mean</p>
<p begin="01:48:54.080" end="01:48:59.920" style="s2">that your system is not available. the</p>
<p begin="01:48:57.840" end="01:49:02.239" style="s2">system is down. The machine may be</p>
<p begin="01:48:59.920" end="01:49:04.480" style="s2">restarted. The machine had some issue</p>
<p begin="01:49:02.239" end="01:49:06.719" style="s2">and it&#39;s not functioning for some time.</p>
<p begin="01:49:04.480" end="01:49:08.400" style="s2">That the system is not there for some</p>
<p begin="01:49:06.719" end="01:49:11.119" style="s2">time. This is what non not available</p>
<p begin="01:49:08.400" end="01:49:13.199" style="s2">basically means. Does it make sense?</p>
<p begin="01:49:11.119" end="01:49:16.080" style="s2">That the system is not there for some</p>
<p begin="01:49:13.199" end="01:49:19.040" style="s2">time. Am I making sense? That</p>
<p begin="01:49:16.080" end="01:49:22.080" style="s2">&gt;&gt; the system restarted. The system went</p>
<p begin="01:49:19.040" end="01:49:24.159" style="s2">out of power. The system had some issue.</p>
<p begin="01:49:22.080" end="01:49:26.159" style="s2">So not being available basically means</p>
<p begin="01:49:24.159" end="01:49:29.280" style="s2">that the system is not there for the</p>
<p begin="01:49:26.159" end="01:49:32.960" style="s2">time being. Okay.</p>
<p begin="01:49:29.280" end="01:49:35.360" style="s2">&gt;&gt; Yep. So my question is on option C means</p>
<p begin="01:49:32.960" end="01:49:37.920" style="s2">third partition to inside.</p>
<p begin="01:49:35.360" end="01:49:38.960" style="s2">&gt;&gt; So at some point when it becomes</p>
<p begin="01:49:37.920" end="01:49:39.520" style="s2">available</p>
<p begin="01:49:38.960" end="01:49:41.760" style="s2">&gt;&gt; right?</p>
<p begin="01:49:39.520" end="01:49:42.960" style="s2">&gt;&gt; So it will interact with gateway using</p>
<p begin="01:49:41.760" end="01:49:44.719" style="s2">some network only.</p>
<p begin="01:49:42.960" end="01:49:47.040" style="s2">&gt;&gt; Okay. Got it. Got it. So when it becomes</p>
<p begin="01:49:44.719" end="01:49:49.840" style="s2">unavail when it becomes available it</p>
<p begin="01:49:47.040" end="01:49:51.920" style="s2">will communicate with the gateway or the</p>
<p begin="01:49:49.840" end="01:49:53.520" style="s2">load balancer. That&#39;s fine. It was</p>
<p begin="01:49:51.920" end="01:49:55.520" style="s2">communicating with machine one as well.</p>
<p begin="01:49:53.520" end="01:49:57.360" style="s2">This is fine. But what can happen is</p>
<p begin="01:49:55.520" end="01:49:59.440" style="s2">that the machine one and machine two.</p>
<p begin="01:49:57.360" end="01:50:02.639" style="s2">The network only between machine one and</p>
<p begin="01:49:59.440" end="01:50:04.400" style="s2">machine two broke. The box nickel is</p>
<p begin="01:50:02.639" end="01:50:06.800" style="s2">still able to communicate with load</p>
<p begin="01:50:04.400" end="01:50:09.280" style="s2">balancer but it&#39;s not able to</p>
<p begin="01:50:06.800" end="01:50:10.560" style="s2">communicate with the other machine. So</p>
<p begin="01:50:09.280" end="01:50:11.840" style="s2">this can always happen. You can always</p>
<p begin="01:50:10.560" end="01:50:13.679" style="s2">have a scenario when you are not able to</p>
<p begin="01:50:11.840" end="01:50:14.880" style="s2">communicate with a particular machine. A</p>
<p begin="01:50:13.679" end="01:50:16.800" style="s2">network partition happened with a</p>
<p begin="01:50:14.880" end="01:50:17.840" style="s2">particular machine. This is what I&#39;m</p>
<p begin="01:50:16.800" end="01:50:19.679" style="s2">talking about sort of. Does it make</p>
<p begin="01:50:17.840" end="01:50:22.080" style="s2">sense? So what will happen? you are not</p>
<p begin="01:50:19.679" end="01:50:25.119" style="s2">able to sync up your your repending</p>
<p begin="01:50:22.080" end="01:50:26.719" style="s2">requests to Nickel but nickel is still</p>
<p begin="01:50:25.119" end="01:50:29.119" style="s2">able to take requests from the load</p>
<p begin="01:50:26.719" end="01:50:31.119" style="s2">balancer. So calls can start coming to</p>
<p begin="01:50:29.119" end="01:50:33.840" style="s2">Nickel but you are not able to sync up</p>
<p begin="01:50:31.119" end="01:50:36.960" style="s2">your data with Nickel. Okay.</p>
<p begin="01:50:33.840" end="01:50:39.119" style="s2">&gt;&gt; Okay. So at that time if they use</p>
<p begin="01:50:36.960" end="01:50:40.239" style="s2">different network or we can have</p>
<p begin="01:50:39.119" end="01:50:42.320" style="s2">multiple network but</p>
<p begin="01:50:40.239" end="01:50:44.560" style="s2">&gt;&gt; it&#39;s not only a problem when they use</p>
<p begin="01:50:42.320" end="01:50:47.280" style="s2">different networks try to understand</p>
<p begin="01:50:44.560" end="01:50:49.280" style="s2">that all of this might be wires between</p>
<p begin="01:50:47.280" end="01:50:50.560" style="s2">them right they might be on a same</p>
<p begin="01:50:49.280" end="01:50:52.400" style="s2">network and all of them are connected</p>
<p begin="01:50:50.560" end="01:50:54.159" style="s2">using wires they transmit their data</p>
<p begin="01:50:52.400" end="01:50:55.440" style="s2">across wires now there might be a</p>
<p begin="01:50:54.159" end="01:50:57.600" style="s2">scenario that this particular wire is</p>
<p begin="01:50:55.440" end="01:51:00.080" style="s2">broken or there might be a scenario that</p>
<p begin="01:50:57.600" end="01:51:01.840" style="s2">the port somehow or some packets get</p>
<p begin="01:51:00.080" end="01:51:04.080" style="s2">dropped the packets that you were</p>
<p begin="01:51:01.840" end="01:51:06.000" style="s2">transferring they get dropped network is</p>
<p begin="01:51:04.080" end="01:51:07.360" style="s2">always unreliable By I by that we mean</p>
<p begin="01:51:06.000" end="01:51:09.119" style="s2">that there are a bunch of different</p>
<p begin="01:51:07.360" end="01:51:10.560" style="s2">possibilities that can happen so that</p>
<p begin="01:51:09.119" end="01:51:13.040" style="s2">the communication channel between two</p>
<p begin="01:51:10.560" end="01:51:14.639" style="s2">machines is broken for some time. Okay.</p>
<p begin="01:51:13.040" end="01:51:16.080" style="s2">There can be a 100 different things that</p>
<p begin="01:51:14.639" end="01:51:18.560" style="s2">can happen from a network perspective</p>
<p begin="01:51:16.080" end="01:51:20.320" style="s2">that you are unavailable to talk to this</p>
<p begin="01:51:18.560" end="01:51:22.560" style="s2">particular machine at this particular</p>
<p begin="01:51:20.320" end="01:51:24.400" style="s2">time.</p>
<p begin="01:51:22.560" end="01:51:26.560" style="s2">Does it make sense?</p>
<p begin="01:51:24.400" end="01:51:29.280" style="s2">&gt;&gt; Makes sense. Yes. Makes thanks.</p>
<p begin="01:51:26.560" end="01:51:30.320" style="s2">&gt;&gt; Thanks a lot. Thanks a lot. Surali</p>
<p begin="01:51:29.280" end="01:51:33.679" style="s2">your turn.</p>
<p begin="01:51:30.320" end="01:51:37.280" style="s2">&gt;&gt; Uh hi Ton. It was almost same question</p>
<p begin="01:51:33.679" end="01:51:38.719" style="s2">from me. Uh in option C again if you</p>
<p begin="01:51:37.280" end="01:51:41.199" style="s2">scroll it down a little bit.</p>
<p begin="01:51:38.719" end="01:51:44.800" style="s2">&gt;&gt; Sure. Sure. Yeah. Please tell me.</p>
<p begin="01:51:41.199" end="01:51:47.040" style="s2">&gt;&gt; So here I was asking same like if if you</p>
<p begin="01:51:44.800" end="01:51:49.199" style="s2">are saying the person is not available</p>
<p begin="01:51:47.040" end="01:51:50.320" style="s2">and once he is available we can sync the</p>
<p begin="01:51:49.199" end="01:51:52.000" style="s2">data. Right.</p>
<p begin="01:51:50.320" end="01:51:55.040" style="s2">&gt;&gt; Right.</p>
<p begin="01:51:52.000" end="01:51:56.800" style="s2">&gt;&gt; But then how then it&#39;s</p>
<p begin="01:51:55.040" end="01:52:01.199" style="s2">&gt;&gt; right. So when when they are available</p>
<p begin="01:51:56.800" end="01:52:04.480" style="s2">you sync the data but at that time</p>
<p begin="01:52:01.199" end="01:52:05.920" style="s2">if while you are syncing or before you</p>
<p begin="01:52:04.480" end="01:52:07.520" style="s2">could sync there was a partition</p>
<p begin="01:52:05.920" end="01:52:08.719" style="s2">tolerant there was a partition that</p>
<p begin="01:52:07.520" end="01:52:11.040" style="s2">happened a network partition that</p>
<p begin="01:52:08.719" end="01:52:14.159" style="s2">happened now the sync could not get</p>
<p begin="01:52:11.040" end="01:52:15.760" style="s2">completed right the idea here is that I</p>
<p begin="01:52:14.159" end="01:52:18.320" style="s2">took a simplified example where I</p>
<p begin="01:52:15.760" end="01:52:20.159" style="s2">assumed them to be people now maybe it&#39;s</p>
<p begin="01:52:18.320" end="01:52:21.520" style="s2">difficult for you to imagine that oh the</p>
<p begin="01:52:20.159" end="01:52:23.920" style="s2">nickel came back to work and I&#39;m not</p>
<p begin="01:52:21.520" end="01:52:25.199" style="s2">able to talk to them so that&#39;s why I</p>
<p begin="01:52:23.920" end="01:52:27.040" style="s2">gave you an example that they&#39;re not</p>
<p begin="01:52:25.199" end="01:52:28.400" style="s2">talking to each other. Right? So that&#39;s</p>
<p begin="01:52:27.040" end="01:52:29.760" style="s2">it&#39;s difficult to imagine that people</p>
<p begin="01:52:28.400" end="01:52:31.679" style="s2">are not talking to each other. But in</p>
<p begin="01:52:29.760" end="01:52:34.800" style="s2">systems try to understand that there is</p>
<p begin="01:52:31.679" end="01:52:36.960" style="s2">a possibility that the connection using</p>
<p begin="01:52:34.800" end="01:52:39.520" style="s2">which they are talking is broken</p>
<p begin="01:52:36.960" end="01:52:40.960" style="s2">temporarily. They are not able to sync</p>
<p begin="01:52:39.520" end="01:52:44.080" style="s2">with each other.</p>
<p begin="01:52:40.960" end="01:52:46.320" style="s2">&gt;&gt; Hardep is not we have not asked Hardep</p>
<p begin="01:52:44.080" end="01:52:48.480" style="s2">to take a pause and say I&#39;m not</p>
<p begin="01:52:46.320" end="01:52:50.639" style="s2">available. Hardep is still available.</p>
<p begin="01:52:48.480" end="01:52:52.639" style="s2">Hardep is still answering questions.</p>
<p begin="01:52:50.639" end="01:52:54.880" style="s2">Hardep is still communicating. But the</p>
<p begin="01:52:52.639" end="01:52:58.880" style="s2">problem is that the channel between</p>
<p begin="01:52:54.880" end="01:53:01.199" style="s2">Harib and Nicl is broken. So when Har is</p>
<p begin="01:52:58.880" end="01:53:03.119" style="s2">not stopping, Nikl came back up. The</p>
<p begin="01:53:01.199" end="01:53:04.880" style="s2">load balancer knows Nickel is back. Load</p>
<p begin="01:53:03.119" end="01:53:07.280" style="s2">will start sending requests to Nickel.</p>
<p begin="01:53:04.880" end="01:53:09.119" style="s2">But the channel between me and Har and</p>
<p begin="01:53:07.280" end="01:53:11.679" style="s2">Nickel is broken. The sync up could not</p>
<p begin="01:53:09.119" end="01:53:14.320" style="s2">get completed. So the probability of you</p>
<p begin="01:53:11.679" end="01:53:15.679" style="s2">being inconsistent is there because</p>
<p begin="01:53:14.320" end="01:53:17.840" style="s2">because of network partition your</p>
<p begin="01:53:15.679" end="01:53:20.719" style="s2">consistency could not be achieved.</p>
<p begin="01:53:17.840" end="01:53:23.119" style="s2">&gt;&gt; Okay. If you wanted to assure</p>
<p begin="01:53:20.719" end="01:53:25.440" style="s2">consistency, you should have made Hardep</p>
<p begin="01:53:23.119" end="01:53:28.400" style="s2">unavailable. He would have he should</p>
<p begin="01:53:25.440" end="01:53:30.480" style="s2">have only acknowledged a right only when</p>
<p begin="01:53:28.400" end="01:53:32.719" style="s2">he himself has seen that the other</p>
<p begin="01:53:30.480" end="01:53:33.679" style="s2">person has noted it down. Right. So</p>
<p begin="01:53:32.719" end="01:53:35.520" style="s2">that&#39;s the point.</p>
<p begin="01:53:33.679" end="01:53:37.599" style="s2">&gt;&gt; Yes. Got it. Now,</p>
<p begin="01:53:35.520" end="01:53:38.960" style="s2">&gt;&gt; okay. Thank you, Munali. Is there any</p>
<p begin="01:53:37.599" end="01:53:42.199" style="s2">other question? Anybody else has any</p>
<p begin="01:53:38.960" end="01:53:42.199" style="s2">other question?</p>
<p begin="01:53:43.920" end="01:53:48.639" style="s2">Okay, Vishal, I understand your comment.</p>
<p begin="01:53:45.840" end="01:53:51.360" style="s2">I will not stretch the class beyond</p>
<p begin="01:53:48.639" end="01:53:53.599" style="s2">11:45. I promise you that. Is that a</p>
<p begin="01:53:51.360" end="01:53:58.639" style="s2">fair promise, my dear friend? Maybe not</p>
<p begin="01:53:53.599" end="01:54:00.480" style="s2">11:30, 11:45. Okay. 11:45. 11:45ish.</p>
<p begin="01:53:58.639" end="01:54:03.119" style="s2">I will try and complete the class. Hey</p>
<p begin="01:54:00.480" end="01:54:04.239" style="s2">Rahul, please tell me.</p>
<p begin="01:54:03.119" end="01:54:07.280" style="s2">&gt;&gt; I don&#39;t know.</p>
<p begin="01:54:04.239" end="01:54:09.760" style="s2">&gt;&gt; Yeah, tell me. So I think pretty much uh</p>
<p begin="01:54:07.280" end="01:54:12.080" style="s2">it makes sense the option one and two</p>
<p begin="01:54:09.760" end="01:54:17.920" style="s2">which is um</p>
<p begin="01:54:12.080" end="01:54:19.280" style="s2">&gt;&gt; u CA and CA and AP sorry CB and AP</p>
<p begin="01:54:17.920" end="01:54:23.440" style="s2">&gt;&gt; okay</p>
<p begin="01:54:19.280" end="01:54:25.119" style="s2">&gt;&gt; again uh when we say that uh it&#39;s not</p>
<p begin="01:54:23.440" end="01:54:27.520" style="s2">practically possible to have a C</p>
<p begin="01:54:25.119" end="01:54:30.239" style="s2">environment then why theorem</p>
<p begin="01:54:27.520" end="01:54:31.679" style="s2">&gt;&gt; and to sorry to have a to have a CA to</p>
<p begin="01:54:30.239" end="01:54:33.360" style="s2">have CA right because it&#39;s only possible</p>
<p begin="01:54:31.679" end="01:54:34.320" style="s2">if you have a single machine there&#39;s no</p>
<p begin="01:54:33.360" end="01:54:37.199" style="s2">network involved</p>
<p begin="01:54:34.320" end="01:54:40.080" style="s2">&gt;&gt; yeah But uh cap theorem necess I mean</p>
<p begin="01:54:37.199" end="01:54:42.400" style="s2">that is in like that is for distributed</p>
<p begin="01:54:40.080" end="01:54:43.280" style="s2">systems in the first place right?</p>
<p begin="01:54:42.400" end="01:54:45.280" style="s2">&gt;&gt; You&#39;re right. Oh,</p>
<p begin="01:54:43.280" end="01:54:47.760" style="s2">&gt;&gt; so try to understand it this way Rahul</p>
<p begin="01:54:45.280" end="01:54:49.679" style="s2">my friend that imagine that there is a</p>
<p begin="01:54:47.760" end="01:54:51.360" style="s2">distributed system right it has a bunch</p>
<p begin="01:54:49.679" end="01:54:53.679" style="s2">of functionalities you have multiple</p>
<p begin="01:54:51.360" end="01:54:56.639" style="s2">machines doing multiple computations</p>
<p begin="01:54:53.679" end="01:54:58.560" style="s2">simultaneously it&#39;s a disute system but</p>
<p begin="01:54:56.639" end="01:55:02.960" style="s2">try to understand there might be a</p>
<p begin="01:54:58.560" end="01:55:05.360" style="s2">special use case in your system where</p>
<p begin="01:55:02.960" end="01:55:08.400" style="s2">for that use case you have a single</p>
<p begin="01:55:05.360" end="01:55:11.920" style="s2">machine so what we are talking is on a</p>
<p begin="01:55:08.400" end="01:55:14.560" style="s2">use case basis is on a subsystem basis</p>
<p begin="01:55:11.920" end="01:55:16.800" style="s2">subsection bas cases your entire system</p>
<p begin="01:55:14.560" end="01:55:18.719" style="s2">might be distributed but for one</p>
<p begin="01:55:16.800" end="01:55:20.639" style="s2">particular use case you wanted</p>
<p begin="01:55:18.719" end="01:55:23.040" style="s2">desperately consistency and availability</p>
<p begin="01:55:20.639" end="01:55:25.119" style="s2">to be true all the time and hence you</p>
<p begin="01:55:23.040" end="01:55:27.840" style="s2">had a single machine so imagine it this</p>
<p begin="01:55:25.119" end="01:55:29.760" style="s2">way so do you do you understand that</p>
<p begin="01:55:27.840" end="01:55:30.400" style="s2">understand that the entire system might</p>
<p begin="01:55:29.760" end="01:55:32.159" style="s2">be distributed</p>
<p begin="01:55:30.400" end="01:55:34.159" style="s2">&gt;&gt; I I understand that in theory but I do</p>
<p begin="01:55:32.159" end="01:55:35.679" style="s2">not understand that as probably if you</p>
<p begin="01:55:34.159" end="01:55:40.080" style="s2">can give me an example where</p>
<p begin="01:55:35.679" end="01:55:40.480" style="s2">&gt;&gt; for sure CA yeah where CA would be uh as</p>
<p begin="01:55:40.080" end="01:55:42.080" style="s2">an</p>
<p begin="01:55:40.480" end="01:55:42.960" style="s2">&gt;&gt; so let&#39;s let&#39;s let&#39;s understand an</p>
<p begin="01:55:42.080" end="01:55:45.199" style="s2">example</p>
<p begin="01:55:42.960" end="01:55:47.280" style="s2">Let&#39;s assume that there is a very uh</p>
<p begin="01:55:45.199" end="01:55:49.040" style="s2">there is a use case where you not have a</p>
<p begin="01:55:47.280" end="01:55:52.080" style="s2">lot of traffic for a particular use</p>
<p begin="01:55:49.040" end="01:55:54.880" style="s2">case. So let&#39;s let&#39;s imagine uh some</p>
<p begin="01:55:52.080" end="01:55:57.599" style="s2">something very specific. Let&#39;s say there</p>
<p begin="01:55:54.880" end="01:56:00.320" style="s2">are a 100,000 people in your</p>
<p begin="01:55:57.599" end="01:56:02.639" style="s2">organization and you have a bunch of</p>
<p begin="01:56:00.320" end="01:56:05.520" style="s2">different systems to manage your people</p>
<p begin="01:56:02.639" end="01:56:08.480" style="s2">in the organization. Now for one</p>
<p begin="01:56:05.520" end="01:56:10.719" style="s2">particular request which is a very rare</p>
<p begin="01:56:08.480" end="01:56:13.040" style="s2">event and does not affect a lot of</p>
<p begin="01:56:10.719" end="01:56:14.960" style="s2">people let&#39;s say there is a employee in</p>
<p begin="01:56:13.040" end="01:56:18.400" style="s2">my organization that is doing something</p>
<p begin="01:56:14.960" end="01:56:20.320" style="s2">fish and I want to block their access</p>
<p begin="01:56:18.400" end="01:56:22.400" style="s2">right I want to block their access I</p>
<p begin="01:56:20.320" end="01:56:24.159" style="s2">don&#39;t want them to be I I want to</p>
<p begin="01:56:22.400" end="01:56:25.599" style="s2">blacklist them right it can be an</p>
<p begin="01:56:24.159" end="01:56:27.440" style="s2">employee it can be a user it can be</p>
<p begin="01:56:25.599" end="01:56:30.400" style="s2">something if I want to blacklist</p>
<p begin="01:56:27.440" end="01:56:32.719" style="s2">somebody for that particular use case I</p>
<p begin="01:56:30.400" end="01:56:34.880" style="s2">want to be sure that I am available all</p>
<p begin="01:56:32.719" end="01:56:37.119" style="s2">the time if I want to blacklist somebody</p>
<p begin="01:56:34.880" end="01:56:38.320" style="s2">immediately I must be able to do it. It</p>
<p begin="01:56:37.119" end="01:56:39.840" style="s2">should not be the case that my service</p>
<p begin="01:56:38.320" end="01:56:40.800" style="s2">of blacklisting is unavailable at this</p>
<p begin="01:56:39.840" end="01:56:42.320" style="s2">point in time.</p>
<p begin="01:56:40.800" end="01:56:44.480" style="s2">&gt;&gt; At the same time it also must be</p>
<p begin="01:56:42.320" end="01:56:45.679" style="s2">consistent that I should not be the it</p>
<p begin="01:56:44.480" end="01:56:47.520" style="s2">should not be the scenario that hey I</p>
<p begin="01:56:45.679" end="01:56:49.679" style="s2">have blocked somebody but they are still</p>
<p begin="01:56:47.520" end="01:56:50.800" style="s2">able to access some parts of my network.</p>
<p begin="01:56:49.679" end="01:56:52.880" style="s2">Are you making are you able to</p>
<p begin="01:56:50.800" end="01:56:55.440" style="s2">appreciate it for a very special use</p>
<p begin="01:56:52.880" end="01:56:57.199" style="s2">case in my ecosystem I want my system to</p>
<p begin="01:56:55.440" end="01:56:59.119" style="s2">be both consistent and available. But</p>
<p begin="01:56:57.199" end="01:57:01.119" style="s2">then yeah, sure.</p>
<p begin="01:56:59.119" end="01:57:05.199" style="s2">&gt;&gt; What will I maybe do is I will maybe</p>
<p begin="01:57:01.119" end="01:57:08.320" style="s2">have a SQL box where I will ensure that</p>
<p begin="01:57:05.199" end="01:57:11.280" style="s2">I have I have a list of blacklisted</p>
<p begin="01:57:08.320" end="01:57:12.880" style="s2">users and I will be going I will be</p>
<p begin="01:57:11.280" end="01:57:14.719" style="s2">passing through whenever somebody</p>
<p begin="01:57:12.880" end="01:57:18.639" style="s2">authenticates I would be passing through</p>
<p begin="01:57:14.719" end="01:57:20.480" style="s2">that box list. So a single SQL box gives</p>
<p begin="01:57:18.639" end="01:57:21.599" style="s2">you a lot of asset transactions</p>
<p begin="01:57:20.480" end="01:57:22.400" style="s2">guarantees right. It gives you</p>
<p begin="01:57:21.599" end="01:57:24.800" style="s2">guarantees.</p>
<p begin="01:57:22.400" end="01:57:27.040" style="s2">&gt;&gt; Yeah. I I mean see we have consistency</p>
<p begin="01:57:24.800" end="01:57:27.360" style="s2">we have availability in this scenario</p>
<p begin="01:57:27.040" end="01:57:29.760" style="s2">&gt;&gt; right</p>
<p begin="01:57:27.360" end="01:57:30.880" style="s2">&gt;&gt; how but how are we getting rid of P in</p>
<p begin="01:57:29.760" end="01:57:33.280" style="s2">this case</p>
<p begin="01:57:30.880" end="01:57:36.239" style="s2">&gt;&gt; we&#39;re not getting rid of P in this case</p>
<p begin="01:57:33.280" end="01:57:39.360" style="s2">we are compromising we are compromising</p>
<p begin="01:57:36.239" end="01:57:41.280" style="s2">on the on the on the scale of the system</p>
<p begin="01:57:39.360" end="01:57:42.800" style="s2">we are compromising on the scalability</p>
<p begin="01:57:41.280" end="01:57:44.639" style="s2">of the system we are saying that we will</p>
<p begin="01:57:42.800" end="01:57:46.560" style="s2">run a single machine to get this job</p>
<p begin="01:57:44.639" end="01:57:48.639" style="s2">done I will maybe invest a lot more</p>
<p begin="01:57:46.560" end="01:57:50.800" style="s2">money to buy a single machine that can</p>
<p begin="01:57:48.639" end="01:57:52.880" style="s2">handle all of this so I am compromising</p>
<p begin="01:57:50.800" end="01:57:54.719" style="s2">on my distributed nature for this</p>
<p begin="01:57:52.880" end="01:57:54.960" style="s2">particular use case and hence I&#39;m saying</p>
<p begin="01:57:54.719" end="01:57:56.960" style="s2">yeah</p>
<p begin="01:57:54.960" end="01:58:01.440" style="s2">&gt;&gt; yeah I mean my my question was that only</p>
<p begin="01:57:56.960" end="01:58:04.080" style="s2">like uh a scenario where consistency and</p>
<p begin="01:58:01.440" end="01:58:07.280" style="s2">availability is there but we are not</p>
<p begin="01:58:04.080" end="01:58:09.920" style="s2">able to achieve P because basically in a</p>
<p begin="01:58:07.280" end="01:58:12.800" style="s2">nutshell what cap is only two out of the</p>
<p begin="01:58:09.920" end="01:58:13.599" style="s2">three things can function A I get it CP</p>
<p begin="01:58:12.800" end="01:58:16.239" style="s2">I get it</p>
<p begin="01:58:13.599" end="01:58:18.400" style="s2">&gt;&gt; got it got it so what what you want to</p>
<p begin="01:58:16.239" end="01:58:21.760" style="s2">essentially ask is the following that</p>
<p begin="01:58:18.400" end="01:58:23.280" style="s2">hey Tarun I am getting C and A I&#39;m not</p>
<p begin="01:58:21.760" end="01:58:25.040" style="s2">able to achieve partition tolerance can</p>
<p begin="01:58:23.280" end="01:58:26.960" style="s2">you please explain it to me right yeah</p>
<p begin="01:58:25.040" end="01:58:28.400" style="s2">&gt;&gt; so what I am I I&#39;ve already explained</p>
<p begin="01:58:26.960" end="01:58:30.560" style="s2">that but I will have to reword it</p>
<p begin="01:58:28.400" end="01:58:31.280" style="s2">because it&#39;s a word play at the end of</p>
<p begin="01:58:30.560" end="01:58:32.880" style="s2">the day</p>
<p begin="01:58:31.280" end="01:58:34.320" style="s2">&gt;&gt; what I want to essentially tell you is</p>
<p begin="01:58:32.880" end="01:58:36.000" style="s2">that when you say that your system is</p>
<p begin="01:58:34.320" end="01:58:38.000" style="s2">both consistent and available</p>
<p begin="01:58:36.000" end="01:58:40.480" style="s2">&gt;&gt; but not</p>
<p begin="01:58:38.000" end="01:58:42.560" style="s2">it means you are making your system</p>
<p begin="01:58:40.480" end="01:58:43.040" style="s2">intolerant to partitions</p>
<p begin="01:58:42.560" end="01:58:45.040" style="s2">&gt;&gt; how</p>
<p begin="01:58:43.040" end="01:58:46.560" style="s2">&gt;&gt; which means that when your system has a</p>
<p begin="01:58:45.040" end="01:58:48.639" style="s2">partition</p>
<p begin="01:58:46.560" end="01:58:50.960" style="s2">this proposition that you are both</p>
<p begin="01:58:48.639" end="01:58:52.159" style="s2">consistently available is going to be</p>
<p begin="01:58:50.960" end="01:58:54.080" style="s2">unachievable</p>
<p begin="01:58:52.159" end="01:58:57.119" style="s2">So you are saying that to be consistent</p>
<p begin="01:58:54.080" end="01:58:59.199" style="s2">and available at the same time I want to</p>
<p begin="01:58:57.119" end="01:59:01.440" style="s2">give a guarantee that partitions will</p>
<p begin="01:58:59.199" end="01:59:04.400" style="s2">not happen because I am being intolerant</p>
<p begin="01:59:01.440" end="01:59:06.159" style="s2">to partitions and being intolerant to</p>
<p begin="01:59:04.400" end="01:59:08.000" style="s2">partitions in a system where you have</p>
<p begin="01:59:06.159" end="01:59:10.560" style="s2">multiple machines is not possible</p>
<p begin="01:59:08.000" end="01:59:12.639" style="s2">because network are never reliable which</p>
<p begin="01:59:10.560" end="01:59:14.480" style="s2">means that you are enforcing yourself in</p>
<p begin="01:59:12.639" end="01:59:16.400" style="s2">a box and saying that I will only have</p>
<p begin="01:59:14.480" end="01:59:17.760" style="s2">one box only then I can have consistent</p>
<p begin="01:59:16.400" end="01:59:19.679" style="s2">availability at the same time because I</p>
<p begin="01:59:17.760" end="01:59:21.599" style="s2">am choosing not to have partition</p>
<p begin="01:59:19.679" end="01:59:23.199" style="s2">tolerance if I&#39;m choosing not to have</p>
<p begin="01:59:21.599" end="01:59:25.599" style="s2">partition tolerance it means I cannot</p>
<p begin="01:59:23.199" end="01:59:28.000" style="s2">have more than one box am I making sense</p>
<p begin="01:59:25.599" end="01:59:30.400" style="s2">because partition tolerance is always</p>
<p begin="01:59:28.000" end="01:59:31.599" style="s2">required in a multibbox system is that</p>
<p begin="01:59:30.400" end="01:59:33.520" style="s2">making sense Rahul</p>
<p begin="01:59:31.599" end="01:59:34.960" style="s2">&gt;&gt; so when you say that</p>
<p begin="01:59:33.520" end="01:59:37.440" style="s2">&gt;&gt; so it&#39;s a word play let me let me</p>
<p begin="01:59:34.960" end="01:59:39.440" style="s2">complete it because uh no matter how</p>
<p begin="01:59:37.440" end="01:59:41.199" style="s2">much of a back and forth you do unless</p>
<p begin="01:59:39.440" end="01:59:42.719" style="s2">and until you appreciate the word play</p>
<p begin="01:59:41.199" end="01:59:44.400" style="s2">this will not become clear I understood</p>
<p begin="01:59:42.719" end="01:59:47.679" style="s2">your question your question is that hey</p>
<p begin="01:59:44.400" end="01:59:50.320" style="s2">Tarun tell me an example or try to make</p>
<p begin="01:59:47.679" end="01:59:53.599" style="s2">me appreciate that partition tolerance</p>
<p begin="01:59:50.320" end="01:59:56.159" style="s2">is being compromised when you want a CA</p>
<p begin="01:59:53.599" end="01:59:57.920" style="s2">system. Right? So try to understand that</p>
<p begin="01:59:56.159" end="02:00:00.480" style="s2">partition tolerant. The word partition</p>
<p begin="01:59:57.920" end="02:00:04.400" style="s2">tolerant basically means that you are</p>
<p begin="02:00:00.480" end="02:00:06.159" style="s2">tolerant to partitions in a way. You are</p>
<p begin="02:00:04.400" end="02:00:07.840" style="s2">allowing. Yeah. Let me complete because</p>
<p begin="02:00:06.159" end="02:00:09.599" style="s2">uh let let me be very frank. No matter</p>
<p begin="02:00:07.840" end="02:00:11.360" style="s2">how much of a back and forth you do</p>
<p begin="02:00:09.599" end="02:00:12.480" style="s2">unless until I get my point across, you</p>
<p begin="02:00:11.360" end="02:00:14.159" style="s2">will not be able to understand it. So</p>
<p begin="02:00:12.480" end="02:00:16.560" style="s2">let me try and get my point across. So</p>
<p begin="02:00:14.159" end="02:00:19.280" style="s2">what I&#39;m saying Rahul is that you are</p>
<p begin="02:00:16.560" end="02:00:22.000" style="s2">being tolerant to partitions basically</p>
<p begin="02:00:19.280" end="02:00:25.840" style="s2">means that you are allowing for</p>
<p begin="02:00:22.000" end="02:00:27.599" style="s2">partitions to happen. Okay. In any</p>
<p begin="02:00:25.840" end="02:00:30.400" style="s2">system where you have more than one</p>
<p begin="02:00:27.599" end="02:00:33.440" style="s2">machines where those machines are</p>
<p begin="02:00:30.400" end="02:00:36.960" style="s2">communicating over network partitions</p>
<p begin="02:00:33.440" end="02:00:39.840" style="s2">can always happen. And when partitions</p>
<p begin="02:00:36.960" end="02:00:42.560" style="s2">happen and you still have a system in</p>
<p begin="02:00:39.840" end="02:00:45.280" style="s2">place, it means the moment you have more</p>
<p begin="02:00:42.560" end="02:00:48.239" style="s2">than one machines, you have to accept to</p>
<p begin="02:00:45.280" end="02:00:49.760" style="s2">the fact that you have to be tolerant to</p>
<p begin="02:00:48.239" end="02:00:51.679" style="s2">partitions.</p>
<p begin="02:00:49.760" end="02:00:53.760" style="s2">Okay Rahul, so you have to be tolerant</p>
<p begin="02:00:51.679" end="02:00:55.520" style="s2">to partitions only then only when you</p>
<p begin="02:00:53.760" end="02:00:57.840" style="s2">give that give give in to that fact only</p>
<p begin="02:00:55.520" end="02:00:59.440" style="s2">then you can have multiple machines. Now</p>
<p begin="02:00:57.840" end="02:01:01.040" style="s2">if you have multiple machines you cannot</p>
<p begin="02:00:59.440" end="02:01:02.239" style="s2">be more consistent and available at the</p>
<p begin="02:01:01.040" end="02:01:04.400" style="s2">same time. You have to choose between</p>
<p begin="02:01:02.239" end="02:01:06.400" style="s2">one of them. So what I am essentially</p>
<p begin="02:01:04.400" end="02:01:07.840" style="s2">trying to put forward is that if you</p>
<p begin="02:01:06.400" end="02:01:10.000" style="s2">want to be consistent available at the</p>
<p begin="02:01:07.840" end="02:01:11.520" style="s2">same time, you&#39;ll have to let go of the</p>
<p begin="02:01:10.000" end="02:01:13.920" style="s2">possibility of partitions happening.</p>
<p begin="02:01:11.520" end="02:01:15.199" style="s2">Yeah. Which is only possible if you had</p>
<p begin="02:01:13.920" end="02:01:17.360" style="s2">a single machine.</p>
<p begin="02:01:15.199" end="02:01:19.520" style="s2">&gt;&gt; Yeah. Uh I I I just want to end with one</p>
<p begin="02:01:17.360" end="02:01:22.320" style="s2">quick example. Won&#39;t want to take a lot</p>
<p begin="02:01:19.520" end="02:01:24.320" style="s2">of time. Um I&#39;ll give you an example.</p>
<p begin="02:01:22.320" end="02:01:27.119" style="s2">You please suggest me whether this is a</p>
<p begin="02:01:24.320" end="02:01:30.320" style="s2">right example or not. So I have a system</p>
<p begin="02:01:27.119" end="02:01:33.440" style="s2">uh I uh I have a system where in I need</p>
<p begin="02:01:30.320" end="02:01:35.440" style="s2">multiple uh multiple computer systems or</p>
<p begin="02:01:33.440" end="02:01:39.520" style="s2">basically I do need a network. I do need</p>
<p begin="02:01:35.440" end="02:01:41.760" style="s2">multiple servers but but uh I&#39;m but the</p>
<p begin="02:01:39.520" end="02:01:44.000" style="s2">the more priority of my system is to be</p>
<p begin="02:01:41.760" end="02:01:46.719" style="s2">consistent and available. So what I&#39;m</p>
<p begin="02:01:44.000" end="02:01:49.679" style="s2">doing is I&#39;m I&#39;m getting rid of that</p>
<p begin="02:01:46.719" end="02:01:52.159" style="s2">those extra servers because my priority</p>
<p begin="02:01:49.679" end="02:01:54.800" style="s2">is C and A over partitioning. So I&#39;ll</p>
<p begin="02:01:52.159" end="02:01:57.520" style="s2">say that okay I&#39;ll I&#39;m I&#39;m I&#39;m happy</p>
<p begin="02:01:54.800" end="02:01:59.280" style="s2">with the slow slow speed of my system.</p>
<p begin="02:01:57.520" end="02:02:01.440" style="s2">Let me get rid of 10 servers. I&#39;ll just</p>
<p begin="02:01:59.280" end="02:02:04.400" style="s2">keep one server so that I can make sure</p>
<p begin="02:02:01.440" end="02:02:07.040" style="s2">that it is CLA. Although I will get rid</p>
<p begin="02:02:04.400" end="02:02:09.760" style="s2">of partitioning and in that case uh the</p>
<p begin="02:02:07.040" end="02:02:11.119" style="s2">downside is I I&#39;m getting slow speed but</p>
<p begin="02:02:09.760" end="02:02:12.400" style="s2">but I&#39;m choosing CNA.</p>
<p begin="02:02:11.119" end="02:02:14.159" style="s2">&gt;&gt; What you are saying is absolutely</p>
<p begin="02:02:12.400" end="02:02:16.159" style="s2">correct Rahul but then you will always</p>
<p begin="02:02:14.159" end="02:02:18.639" style="s2">have to have a single box because</p>
<p begin="02:02:16.159" end="02:02:21.360" style="s2">partitions are not because partitions</p>
<p begin="02:02:18.639" end="02:02:22.480" style="s2">are not predictable. you you you won&#39;t</p>
<p begin="02:02:21.360" end="02:02:24.320" style="s2">even know that you are having a</p>
<p begin="02:02:22.480" end="02:02:26.400" style="s2">partition and you are having a partition</p>
<p begin="02:02:24.320" end="02:02:28.320" style="s2">&gt;&gt; right so the point is</p>
<p begin="02:02:26.400" end="02:02:30.159" style="s2">&gt;&gt; so what you suggested is absolutely</p>
<p begin="02:02:28.320" end="02:02:32.080" style="s2">correct what you suggested that hey to</p>
<p begin="02:02:30.159" end="02:02:33.520" style="s2">be considered available I will let go of</p>
<p begin="02:02:32.080" end="02:02:35.760" style="s2">other machines and only run a single</p>
<p begin="02:02:33.520" end="02:02:37.599" style="s2">machine which is fine which is fine what</p>
<p begin="02:02:35.760" end="02:02:40.239" style="s2">I have to tell you is that you cannot</p>
<p begin="02:02:37.599" end="02:02:41.520" style="s2">predict and beforehand prepare yourself</p>
<p begin="02:02:40.239" end="02:02:42.800" style="s2">to let go of machines</p>
<p begin="02:02:41.520" end="02:02:44.000" style="s2">&gt;&gt; you will have to build a system which is</p>
<p begin="02:02:42.800" end="02:02:45.360" style="s2">running on a single machine it&#39;s</p>
<p begin="02:02:44.000" end="02:02:48.000" style="s2">consistently available all the time you</p>
<p begin="02:02:45.360" end="02:02:49.599" style="s2">have the guarantee but you are not even</p>
<p begin="02:02:48.000" end="02:02:51.199" style="s2">allowing for partitions to happen and</p>
<p begin="02:02:49.599" end="02:02:53.599" style="s2">you do that by not having multiple</p>
<p begin="02:02:51.199" end="02:02:55.440" style="s2">machines.</p>
<p begin="02:02:53.599" end="02:02:57.040" style="s2">&gt;&gt; Okay, you&#39;re on the same page. That&#39;s</p>
<p begin="02:02:55.440" end="02:03:00.560" style="s2">that&#39;s very h that&#39;s a very happy thing</p>
<p begin="02:02:57.040" end="02:03:03.040" style="s2">to uh very happy state to be in. Cool. I</p>
<p begin="02:03:00.560" end="02:03:04.960" style="s2">will now take more questions later. I</p>
<p begin="02:03:03.040" end="02:03:06.480" style="s2">hope people in the class are broadly</p>
<p begin="02:03:04.960" end="02:03:08.239" style="s2">with me. They are able to understand the</p>
<p begin="02:03:06.480" end="02:03:10.080" style="s2">cap theorem. You can only select two out</p>
<p begin="02:03:08.239" end="02:03:12.000" style="s2">of these three properties at the same</p>
<p begin="02:03:10.080" end="02:03:13.440" style="s2">time. This is called as cap theorem.</p>
<p begin="02:03:12.000" end="02:03:14.639" style="s2">Right? In any distributed system, you</p>
<p begin="02:03:13.440" end="02:03:15.920" style="s2">will have to either choose consistency,</p>
<p begin="02:03:14.639" end="02:03:17.920" style="s2">availability, partition tolerance, two</p>
<p begin="02:03:15.920" end="02:03:19.199" style="s2">out of these three. And usually whenever</p>
<p begin="02:03:17.920" end="02:03:21.360" style="s2">you have more than one machines,</p>
<p begin="02:03:19.199" end="02:03:24.800" style="s2">partition tolerance is a given. The</p>
<p begin="02:03:21.360" end="02:03:27.679" style="s2">system actually becomes CA sorry CP or</p>
<p begin="02:03:24.800" end="02:03:31.920" style="s2">AP. Is everybody with me? I want</p>
<p begin="02:03:27.679" end="02:03:33.280" style="s2">everybody to say yes. Say yes. Right.</p>
<p begin="02:03:31.920" end="02:03:34.800" style="s2">Hardep. I will give you a bunch of</p>
<p begin="02:03:33.280" end="02:03:36.560" style="s2">practical examples and you will help me</p>
<p begin="02:03:34.800" end="02:03:38.560" style="s2">answer them. Right? You will help me</p>
<p begin="02:03:36.560" end="02:03:41.199" style="s2">answer them. And while designing the</p>
<p begin="02:03:38.560" end="02:03:43.679" style="s2">systems, we will discuss them in our in</p>
<p begin="02:03:41.199" end="02:03:46.080" style="s2">our classes where we uh do system</p>
<p begin="02:03:43.679" end="02:03:48.239" style="s2">designing and the groundup. there I will</p>
<p begin="02:03:46.080" end="02:03:50.159" style="s2">tell you how to take that tradeoff what</p>
<p begin="02:03:48.239" end="02:03:52.080" style="s2">to do what not to do to make a system</p>
<p begin="02:03:50.159" end="02:03:54.159" style="s2">consistent or available okay that&#39;s</p>
<p begin="02:03:52.080" end="02:03:56.159" style="s2">great we are on the same page everything</p>
<p begin="02:03:54.159" end="02:04:00.719" style="s2">is going great now I want to take you to</p>
<p begin="02:03:56.159" end="02:04:04.320" style="s2">the next theorem which is a pace</p>
<p begin="02:04:00.719" end="02:04:09.119" style="s2">uh uh okay so which is the pelick</p>
<p begin="02:04:04.320" end="02:04:12.000" style="s2">theorem uh yes any system will fall into</p>
<p begin="02:04:09.119" end="02:04:13.840" style="s2">this okay my dear friend</p>
<p begin="02:04:12.000" end="02:04:15.760" style="s2">uh yes in our project module we are</p>
<p begin="02:04:13.840" end="02:04:18.880" style="s2">going to see this practically as So</p>
<p begin="02:04:15.760" end="02:04:21.679" style="s2">let&#39;s look at the next theorem</p>
<p begin="02:04:18.880" end="02:04:24.159" style="s2">which is more of a</p>
<p begin="02:04:21.679" end="02:04:25.840" style="s2">extension to the cap theorem. So just</p>
<p begin="02:04:24.159" end="02:04:28.560" style="s2">for the kind of questions that our</p>
<p begin="02:04:25.840" end="02:04:30.719" style="s2">friend Rahul was asking or the kind of</p>
<p begin="02:04:28.560" end="02:04:32.239" style="s2">doubts that you guys might have had this</p>
<p begin="02:04:30.719" end="02:04:34.960" style="s2">is the reason why people actually</p>
<p begin="02:04:32.239" end="02:04:37.040" style="s2">extended the cap theorem and started</p>
<p begin="02:04:34.960" end="02:04:38.960" style="s2">using the pace LC theorem. Essentially</p>
<p begin="02:04:37.040" end="02:04:41.119" style="s2">it&#39;s the same thing but just gives you</p>
<p begin="02:04:38.960" end="02:04:43.520" style="s2">one more attribute to think about and I</p>
<p begin="02:04:41.119" end="02:04:46.080" style="s2">want everybody&#39;s attention. Pace LC</p>
<p begin="02:04:43.520" end="02:04:49.520" style="s2">theorems means the following</p>
<p begin="02:04:46.080" end="02:04:52.560" style="s2">that it says the following that whenever</p>
<p begin="02:04:49.520" end="02:04:54.639" style="s2">partition happens you have to choose</p>
<p begin="02:04:52.560" end="02:04:57.760" style="s2">between availability or consistency. So</p>
<p begin="02:04:54.639" end="02:05:00.159" style="s2">the pack in the pace LT theorem is</p>
<p begin="02:04:57.760" end="02:05:03.800" style="s2">basically a inversion of cap right. So</p>
<p begin="02:05:00.159" end="02:05:03.800" style="s2">what it says is</p>
<p begin="02:05:04.560" end="02:05:07.560" style="s2">whenever</p>
<p begin="02:05:08.880" end="02:05:12.520" style="s2">partition happens</p>
<p begin="02:05:14.000" end="02:05:17.400" style="s2">choose between</p>
<p begin="02:05:18.560" end="02:05:24.159" style="s2">availability</p>
<p begin="02:05:20.800" end="02:05:26.960" style="s2">or consistency.</p>
<p begin="02:05:24.159" end="02:05:29.360" style="s2">In other words, while designing the</p>
<p begin="02:05:26.960" end="02:05:31.760" style="s2">system, you have to keep into mind that</p>
<p begin="02:05:29.360" end="02:05:33.440" style="s2">partitions will happen and at the time</p>
<p begin="02:05:31.760" end="02:05:35.119" style="s2">when partitioning is happening, your</p>
<p begin="02:05:33.440" end="02:05:36.159" style="s2">system would either want to be</p>
<p begin="02:05:35.119" end="02:05:37.920" style="s2">consistent or would want to be</p>
<p begin="02:05:36.159" end="02:05:40.560" style="s2">available. Am I with is is everybody in</p>
<p begin="02:05:37.920" end="02:05:43.040" style="s2">the class with me? Am I clear? So just</p>
<p begin="02:05:40.560" end="02:05:45.599" style="s2">like in this scenario unless and until</p>
<p begin="02:05:43.040" end="02:05:47.840" style="s2">the scenario that okay uh my other</p>
<p begin="02:05:45.599" end="02:05:50.080" style="s2">friend is I am not I am not fighting</p>
<p begin="02:05:47.840" end="02:05:53.520" style="s2">with Hardib is not in a fight with with</p>
<p begin="02:05:50.080" end="02:05:55.040" style="s2">with with with Nikil then you can still</p>
<p begin="02:05:53.520" end="02:05:57.199" style="s2">assume that you are for now both</p>
<p begin="02:05:55.040" end="02:05:59.760" style="s2">consistent available but whenever fight</p>
<p begin="02:05:57.199" end="02:06:02.560" style="s2">happens you you will have to have had a</p>
<p begin="02:05:59.760" end="02:06:04.400" style="s2">protocol such that either consistency is</p>
<p begin="02:06:02.560" end="02:06:06.560" style="s2">preferred or availability is preferred.</p>
<p begin="02:06:04.400" end="02:06:09.599" style="s2">Is everybody in the class with me? Is</p>
<p begin="02:06:06.560" end="02:06:14.320" style="s2">everybody in the class with me? So base</p>
<p begin="02:06:09.599" end="02:06:16.000" style="s2">LC theorem is uh I will replace the word</p>
<p begin="02:06:14.320" end="02:06:18.480" style="s2">whenever and I will rather say if</p>
<p begin="02:06:16.000" end="02:06:20.800" style="s2">partition happens. So whenever or let&#39;s</p>
<p begin="02:06:18.480" end="02:06:22.960" style="s2">use both the words</p>
<p begin="02:06:20.800" end="02:06:24.560" style="s2">whenever partition happens choose</p>
<p begin="02:06:22.960" end="02:06:28.320" style="s2">between availability or consistency. So</p>
<p begin="02:06:24.560" end="02:06:30.320" style="s2">the P A C and PLC mean this P means</p>
<p begin="02:06:28.320" end="02:06:31.840" style="s2">whenever partition happens either you</p>
<p begin="02:06:30.320" end="02:06:33.280" style="s2">have to choose availability or</p>
<p begin="02:06:31.840" end="02:06:34.480" style="s2">consistency. Is everybody in the class</p>
<p begin="02:06:33.280" end="02:06:37.280" style="s2">with me? Is everybody in the class with</p>
<p begin="02:06:34.480" end="02:06:42.000" style="s2">me? Is everybody in the class with me?</p>
<p begin="02:06:37.280" end="02:06:45.440" style="s2">Right. The ELC in the pace LC theorem. I</p>
<p begin="02:06:42.000" end="02:06:48.239" style="s2">will now tell what ELC mean. So PSC is</p>
<p begin="02:06:45.440" end="02:06:49.920" style="s2">basically just just the cap theorem that</p>
<p begin="02:06:48.239" end="02:06:52.320" style="s2">whenever partition is happening your</p>
<p begin="02:06:49.920" end="02:06:55.360" style="s2">protocol would either prefer consistency</p>
<p begin="02:06:52.320" end="02:06:57.199" style="s2">or would prefer availability. ELC</p>
<p begin="02:06:55.360" end="02:07:00.320" style="s2">basically means something else and that</p>
<p begin="02:06:57.199" end="02:07:03.119" style="s2">I will complete here. else.</p>
<p begin="02:07:00.320" end="02:07:07.880" style="s2">In the else part, we essentially want to</p>
<p begin="02:07:03.119" end="02:07:07.880" style="s2">convey that when</p>
<p begin="02:07:09.280" end="02:07:14.639" style="s2">partition is not happening. And my dear</p>
<p begin="02:07:12.639" end="02:07:17.840" style="s2">friends, whenever I use the word</p>
<p begin="02:07:14.639" end="02:07:19.599" style="s2">partition in the cap theorem, I mean</p>
<p begin="02:07:17.840" end="02:07:21.599" style="s2">network partition. Is that clear to</p>
<p begin="02:07:19.599" end="02:07:24.239" style="s2">everybody in the class? Whenever I use</p>
<p begin="02:07:21.599" end="02:07:26.239" style="s2">the word partition in in CAP theorem or</p>
<p begin="02:07:24.239" end="02:07:28.560" style="s2">PCPLC,</p>
<p begin="02:07:26.239" end="02:07:30.239" style="s2">I mean network partition. It&#39;s a given.</p>
<p begin="02:07:28.560" end="02:07:31.840" style="s2">So else when the partition is not</p>
<p begin="02:07:30.239" end="02:07:35.360" style="s2">happening.</p>
<p begin="02:07:31.840" end="02:07:38.719" style="s2">So this E stands for else</p>
<p begin="02:07:35.360" end="02:07:41.840" style="s2">and LC stands for latency or</p>
<p begin="02:07:38.719" end="02:07:45.360" style="s2">consistency. So when the partition is</p>
<p begin="02:07:41.840" end="02:07:47.040" style="s2">not happening then you choose between</p>
<p begin="02:07:45.360" end="02:07:49.440" style="s2">latency</p>
<p begin="02:07:47.040" end="02:07:51.520" style="s2">or consistency.</p>
<p begin="02:07:49.440" end="02:07:55.119" style="s2">And I had somebody in the class point</p>
<p begin="02:07:51.520" end="02:07:57.360" style="s2">this out in the example as well right.</p>
<p begin="02:07:55.119" end="02:07:59.360" style="s2">Uh yeah that&#39;s great Rahul. Maybe we</p>
<p begin="02:07:57.360" end="02:08:01.440" style="s2">were not able to understand each other</p>
<p begin="02:07:59.360" end="02:08:03.440" style="s2">and hence we took the time to come to</p>
<p begin="02:08:01.440" end="02:08:05.199" style="s2">the same conclusion. We are at the at</p>
<p begin="02:08:03.440" end="02:08:06.800" style="s2">the same conclusion at the end but we</p>
<p begin="02:08:05.199" end="02:08:10.000" style="s2">would just want maybe there was some</p>
<p begin="02:08:06.800" end="02:08:13.280" style="s2">communication gap. Cool. So now whenever</p>
<p begin="02:08:10.000" end="02:08:16.239" style="s2">the partition is not happening then you</p>
<p begin="02:08:13.280" end="02:08:18.400" style="s2">have to in a way choose between latency</p>
<p begin="02:08:16.239" end="02:08:20.560" style="s2">or consistency. I will explain it to you</p>
<p begin="02:08:18.400" end="02:08:22.480" style="s2">with the same example. So my dear</p>
<p begin="02:08:20.560" end="02:08:23.920" style="s2">friends, when these guys were talking to</p>
<p begin="02:08:22.480" end="02:08:27.360" style="s2">each other, when these guys were talking</p>
<p begin="02:08:23.920" end="02:08:31.760" style="s2">to each other, do you remember</p>
<p begin="02:08:27.360" end="02:08:33.760" style="s2">that Hardep had to write the entry on</p>
<p begin="02:08:31.760" end="02:08:35.760" style="s2">Nickel&#39;s end as well before</p>
<p begin="02:08:33.760" end="02:08:37.599" style="s2">acknowledging to the user? Guys, are you</p>
<p begin="02:08:35.760" end="02:08:39.520" style="s2">with me?</p>
<p begin="02:08:37.599" end="02:08:42.079" style="s2">You had to ensure that the right is</p>
<p begin="02:08:39.520" end="02:08:43.599" style="s2">maintained on Nickel&#39;s end as well. How</p>
<p begin="02:08:42.079" end="02:08:46.079" style="s2">many of you understand that doing this</p>
<p begin="02:08:43.599" end="02:08:47.199" style="s2">will introduce latency? How many of you</p>
<p begin="02:08:46.079" end="02:08:49.599" style="s2">understand that doing this will</p>
<p begin="02:08:47.199" end="02:08:52.000" style="s2">introduce latency?</p>
<p begin="02:08:49.599" end="02:08:54.880" style="s2">Right? So if you want a system which is</p>
<p begin="02:08:52.000" end="02:08:56.560" style="s2">highly consistent then you are in a way</p>
<p begin="02:08:54.880" end="02:08:58.960" style="s2">compromising with your latency. Your</p>
<p begin="02:08:56.560" end="02:09:00.639" style="s2">latency shoots up.</p>
<p begin="02:08:58.960" end="02:09:04.000" style="s2">On the other hand, if you want a system</p>
<p begin="02:09:00.639" end="02:09:06.719" style="s2">to be very very low latency then you</p>
<p begin="02:09:04.000" end="02:09:09.199" style="s2">will have to compromise or on immediate</p>
<p begin="02:09:06.719" end="02:09:11.920" style="s2">consistency. How many of you understand</p>
<p begin="02:09:09.199" end="02:09:14.480" style="s2">this guys? I will draw a diagram to</p>
<p begin="02:09:11.920" end="02:09:17.360" style="s2">summarize the pace LC theorem and then I</p>
<p begin="02:09:14.480" end="02:09:19.760" style="s2">will move into the deeper woods and</p>
<p begin="02:09:17.360" end="02:09:21.360" style="s2">explain to you. So many more things that</p>
<p begin="02:09:19.760" end="02:09:23.840" style="s2">will make you feel a lot more confident.</p>
<p begin="02:09:21.360" end="02:09:25.040" style="s2">Is everybody ready? Right. So let me</p>
<p begin="02:09:23.840" end="02:09:26.639" style="s2">draw a diagram and then I will move</p>
<p begin="02:09:25.040" end="02:09:28.560" style="s2">deeper into the words discuss as many</p>
<p begin="02:09:26.639" end="02:09:30.400" style="s2">things as possible and then move to the</p>
<p begin="02:09:28.560" end="02:09:32.079" style="s2">next topic. Right. Yeah Satya that&#39;s</p>
<p begin="02:09:30.400" end="02:09:33.679" style="s2">right. So let me write it down. Draw a</p>
<p begin="02:09:32.079" end="02:09:38.079" style="s2">diagram.</p>
<p begin="02:09:33.679" end="02:09:41.280" style="s2">So whenever the partition happens</p>
<p begin="02:09:38.079" end="02:09:45.599" style="s2">and that will happen anytime</p>
<p begin="02:09:41.280" end="02:09:48.320" style="s2">you have to choose between availability</p>
<p begin="02:09:45.599" end="02:09:50.320" style="s2">or consistency.</p>
<p begin="02:09:48.320" end="02:09:53.040" style="s2">Does everybody in the class appreciate</p>
<p begin="02:09:50.320" end="02:09:54.239" style="s2">this? Whenever the partition happens</p>
<p begin="02:09:53.040" end="02:09:56.400" style="s2">you&#39;ll have to choose between</p>
<p begin="02:09:54.239" end="02:09:57.840" style="s2">availability or consistency. I want</p>
<p begin="02:09:56.400" end="02:10:00.719" style="s2">everybody in the class to appreciate</p>
<p begin="02:09:57.840" end="02:10:03.520" style="s2">this.</p>
<p begin="02:10:00.719" end="02:10:06.400" style="s2">Whenever the partition is not happening</p>
<p begin="02:10:03.520" end="02:10:09.280" style="s2">in the else part, you have to either</p>
<p begin="02:10:06.400" end="02:10:12.400" style="s2">have a system</p>
<p begin="02:10:09.280" end="02:10:15.760" style="s2">with very low latency</p>
<p begin="02:10:12.400" end="02:10:19.159" style="s2">or you can choose a system with very</p>
<p begin="02:10:15.760" end="02:10:19.159" style="s2">high consistency.</p>
<p begin="02:10:19.520" end="02:10:25.360" style="s2">How many of you are with me? You can</p>
<p begin="02:10:22.320" end="02:10:28.480" style="s2">either choose a system uh basically in</p>
<p begin="02:10:25.360" end="02:10:30.000" style="s2">the usual scenario your consistency is</p>
<p begin="02:10:28.480" end="02:10:34.880" style="s2">also</p>
<p begin="02:10:30.000" end="02:10:36.560" style="s2">uh against notion of latency right and I</p>
<p begin="02:10:34.880" end="02:10:38.719" style="s2">will explain latency. Latency basically</p>
<p begin="02:10:36.560" end="02:10:40.880" style="s2">means the time it takes for your request</p>
<p begin="02:10:38.719" end="02:10:43.599" style="s2">to be completed. motion. Does it make</p>
<p begin="02:10:40.880" end="02:10:47.119" style="s2">sense? In the example, if you have to</p>
<p begin="02:10:43.599" end="02:10:50.159" style="s2">write your same qu query, same request</p>
<p begin="02:10:47.119" end="02:10:52.079" style="s2">to the other person as well, your user</p>
<p begin="02:10:50.159" end="02:10:54.880" style="s2">will have to wait for some time before</p>
<p begin="02:10:52.079" end="02:10:57.040" style="s2">your request is taken in. Am I correct</p>
<p begin="02:10:54.880" end="02:11:02.360" style="s2">my dear friend Bian? So your latency for</p>
<p begin="02:10:57.040" end="02:11:02.360" style="s2">the user is going to be compromised.</p>
<p begin="02:11:03.760" end="02:11:09.599" style="s2">So you have to either choose between low</p>
<p begin="02:11:06.560" end="02:11:13.440" style="s2">latency or high consistency. Am I clear</p>
<p begin="02:11:09.599" end="02:11:15.520" style="s2">to you my friend Karum Karum Karumanchi</p>
<p begin="02:11:13.440" end="02:11:17.599" style="s2">that either your latency needs to be</p>
<p begin="02:11:15.520" end="02:11:18.719" style="s2">either you can support very low latency</p>
<p begin="02:11:17.599" end="02:11:21.280" style="s2">or you can support very high</p>
<p begin="02:11:18.719" end="02:11:23.119" style="s2">consistency. I will give you an example.</p>
<p begin="02:11:21.280" end="02:11:26.079" style="s2">I want everybody in the class to</p>
<p begin="02:11:23.119" end="02:11:30.560" style="s2">understand this example. Uh when you try</p>
<p begin="02:11:26.079" end="02:11:32.000" style="s2">and book a Tatkal ticket on IRCTC</p>
<p begin="02:11:30.560" end="02:11:34.239" style="s2">have you tried booking a Tatkal ticket</p>
<p begin="02:11:32.000" end="02:11:36.639" style="s2">on IRCTC?</p>
<p begin="02:11:34.239" end="02:11:38.800" style="s2">You have right? Or have you tried if</p>
<p begin="02:11:36.639" end="02:11:41.280" style="s2">you&#39;ve not tried booking a if you are</p>
<p begin="02:11:38.800" end="02:11:42.960" style="s2">those one of those uh super rich</p>
<p begin="02:11:41.280" end="02:11:47.599" style="s2">individuals who say that hey you know</p>
<p begin="02:11:42.960" end="02:11:49.119" style="s2">what I never go via trains. I have lived</p>
<p begin="02:11:47.599" end="02:11:51.119" style="s2">a life where I never had to go via</p>
<p begin="02:11:49.119" end="02:11:52.800" style="s2">trains. I always booked flight tickets.</p>
<p begin="02:11:51.119" end="02:11:54.639" style="s2">If you&#39;re one of those then you would</p>
<p begin="02:11:52.800" end="02:11:56.239" style="s2">have tried booking flight tickets right?</p>
<p begin="02:11:54.639" end="02:11:58.960" style="s2">You would have tried tried booking</p>
<p begin="02:11:56.239" end="02:12:01.280" style="s2">flight tickets. While you try a book</p>
<p begin="02:11:58.960" end="02:12:03.040" style="s2">flight ticket or you book a car ticket,</p>
<p begin="02:12:01.280" end="02:12:05.440" style="s2">do you notice that when even when you</p>
<p begin="02:12:03.040" end="02:12:07.599" style="s2">have pressed enter that hey please book</p>
<p begin="02:12:05.440" end="02:12:11.199" style="s2">it for me.</p>
<p begin="02:12:07.599" end="02:12:14.960" style="s2">Do you see do you see that there is a</p>
<p begin="02:12:11.199" end="02:12:16.960" style="s2">time lag between when you request and</p>
<p begin="02:12:14.960" end="02:12:18.239" style="s2">after some time it comes back to you</p>
<p begin="02:12:16.960" end="02:12:20.400" style="s2">with a response that hey here is your</p>
<p begin="02:12:18.239" end="02:12:22.400" style="s2">P&amp;R number your seats are booked. How</p>
<p begin="02:12:20.400" end="02:12:24.480" style="s2">many of you have seen that? How many of</p>
<p begin="02:12:22.400" end="02:12:27.599" style="s2">you have seen that that there is a</p>
<p begin="02:12:24.480" end="02:12:29.920" style="s2">latency there is a high latency between</p>
<p begin="02:12:27.599" end="02:12:31.520" style="s2">the time you book and it actually gets</p>
<p begin="02:12:29.920" end="02:12:33.520" style="s2">booked.</p>
<p begin="02:12:31.520" end="02:12:36.639" style="s2">So given</p>
<p begin="02:12:33.520" end="02:12:39.520" style="s2">these folks want the system to be highly</p>
<p begin="02:12:36.639" end="02:12:41.360" style="s2">available. Is everybody with me? They</p>
<p begin="02:12:39.520" end="02:12:43.520" style="s2">can&#39;t allow two people to same the book</p>
<p begin="02:12:41.360" end="02:12:45.360" style="s2">the same car ticket right sorry they</p>
<p begin="02:12:43.520" end="02:12:46.800" style="s2">want the system to be highly consistent.</p>
<p begin="02:12:45.360" end="02:12:48.560" style="s2">They want the system to be highly</p>
<p begin="02:12:46.800" end="02:12:50.719" style="s2">consistent which means that they will</p>
<p begin="02:12:48.560" end="02:12:52.880" style="s2">have to sacrifice with their latency.</p>
<p begin="02:12:50.719" end="02:12:54.960" style="s2">The time it takes to get this done is</p>
<p begin="02:12:52.880" end="02:12:56.079" style="s2">going to be higher. How many of you</p>
<p begin="02:12:54.960" end="02:12:59.400" style="s2">understand this? How many of you</p>
<p begin="02:12:56.079" end="02:12:59.400" style="s2">understand this?</p>
<p begin="02:12:59.440" end="02:13:04.400" style="s2">The time it takes to get this request</p>
<p begin="02:13:01.599" end="02:13:06.000" style="s2">registered is higher. Okay. So you</p>
<p begin="02:13:04.400" end="02:13:08.719" style="s2">cannot have a system which is super low</p>
<p begin="02:13:06.000" end="02:13:10.880" style="s2">latency which happens immediately and at</p>
<p begin="02:13:08.719" end="02:13:13.280" style="s2">the same time is highly consistent.</p>
<p begin="02:13:10.880" end="02:13:15.119" style="s2">Okay.</p>
<p begin="02:13:13.280" end="02:13:17.760" style="s2">Okay. Got it. Got it. Got it. Got it. So</p>
<p begin="02:13:15.119" end="02:13:21.199" style="s2">Ajit is confused and that&#39;s that&#39;s</p>
<p begin="02:13:17.760" end="02:13:25.040" style="s2">that&#39;s right. Ajit and everybody else in</p>
<p begin="02:13:21.199" end="02:13:28.719" style="s2">the class. How many of you have wrongly</p>
<p begin="02:13:25.040" end="02:13:30.239" style="s2">understood this else part to be the</p>
<p begin="02:13:28.719" end="02:13:32.320" style="s2">scenario where your system is on a</p>
<p begin="02:13:30.239" end="02:13:34.880" style="s2">single machine? How many of you have</p>
<p begin="02:13:32.320" end="02:13:37.040" style="s2">misunderstood this? How many of you are</p>
<p begin="02:13:34.880" end="02:13:39.760" style="s2">imagining this else part to be there</p>
<p begin="02:13:37.040" end="02:13:42.079" style="s2">when the system is on a single machine?</p>
<p begin="02:13:39.760" end="02:13:44.079" style="s2">That&#39;s not what I&#39;m doing. I&#39;m saying</p>
<p begin="02:13:42.079" end="02:13:46.480" style="s2">something else. I want everybody&#39;s</p>
<p begin="02:13:44.079" end="02:13:47.920" style="s2">attention again a and everybody else do</p>
<p begin="02:13:46.480" end="02:13:50.639" style="s2">I have everybody&#39;s attention please hear</p>
<p begin="02:13:47.920" end="02:13:53.760" style="s2">to this again right so one thing before</p>
<p begin="02:13:50.639" end="02:13:57.840" style="s2">I even answer that so I can conduct this</p>
<p begin="02:13:53.760" end="02:14:00.480" style="s2">class in a lot quicker manner</p>
<p begin="02:13:57.840" end="02:14:02.880" style="s2">in a manner where you will not even</p>
<p begin="02:14:00.480" end="02:14:04.400" style="s2">realize that you have doubts and you</p>
<p begin="02:14:02.880" end="02:14:06.560" style="s2">will go back home and you will realize</p>
<p begin="02:14:04.400" end="02:14:09.199" style="s2">that you had doubts in the interview</p>
<p begin="02:14:06.560" end="02:14:11.199" style="s2">itself that will be very easy for me to</p>
<p begin="02:14:09.199" end="02:14:13.040" style="s2">conduct that will make you very happy</p>
<p begin="02:14:11.199" end="02:14:14.960" style="s2">that there are no doubts and you to go</p>
<p begin="02:14:13.040" end="02:14:17.119" style="s2">back home but you will not you would</p>
<p begin="02:14:14.960" end="02:14:20.880" style="s2">have not even understood the reality of</p>
<p begin="02:14:17.119" end="02:14:23.199" style="s2">the topic. I am taking extra pain to</p>
<p begin="02:14:20.880" end="02:14:25.840" style="s2">make this system the make this topic a</p>
<p begin="02:14:23.199" end="02:14:27.760" style="s2">lot more tougher for you than somebody</p>
<p begin="02:14:25.840" end="02:14:29.119" style="s2">else would have taught but I&#39;m doing</p>
<p begin="02:14:27.760" end="02:14:31.360" style="s2">this with the purpose that you</p>
<p begin="02:14:29.119" end="02:14:33.199" style="s2">understand things at a lot fundamental</p>
<p begin="02:14:31.360" end="02:14:36.560" style="s2">level are you guys able to appreciate</p>
<p begin="02:14:33.199" end="02:14:39.119" style="s2">that I am purposefully making a system</p>
<p begin="02:14:36.560" end="02:14:40.639" style="s2">single simple thing difficult so that</p>
<p begin="02:14:39.119" end="02:14:43.040" style="s2">you don&#39;t miss out on anything there is</p>
<p begin="02:14:40.639" end="02:14:46.719" style="s2">no blind spot for you you understand</p>
<p begin="02:14:43.040" end="02:14:49.360" style="s2">things way better right so appreciate</p>
<p begin="02:14:46.719" end="02:14:51.920" style="s2">that that we are taking the extra pain</p>
<p begin="02:14:49.360" end="02:14:54.400" style="s2">we are making it extra difficult so that</p>
<p begin="02:14:51.920" end="02:14:56.400" style="s2">we understand it better you can cover</p>
<p begin="02:14:54.400" end="02:14:58.480" style="s2">this content in one hour and and go back</p>
<p begin="02:14:56.400" end="02:15:00.159" style="s2">home uh and you would not even realize</p>
<p begin="02:14:58.480" end="02:15:02.719" style="s2">that there are doubts that you had right</p>
<p begin="02:15:00.159" end="02:15:04.639" style="s2">so don&#39;t worry we are doing it the tough</p>
<p begin="02:15:02.719" end="02:15:07.440" style="s2">way but we are doing it the right way</p>
<p begin="02:15:04.639" end="02:15:10.239" style="s2">okay so now let me repeat what the doubt</p>
<p begin="02:15:07.440" end="02:15:12.560" style="s2">I saw in Ajit&#39;s question right Ajit&#39;s</p>
<p begin="02:15:10.239" end="02:15:14.639" style="s2">question was that hey Taran I whenever</p>
<p begin="02:15:12.560" end="02:15:16.320" style="s2">the else part I imagined it to be on a</p>
<p begin="02:15:14.639" end="02:15:18.320" style="s2">single system because you yourself were</p>
<p begin="02:15:16.320" end="02:15:22.159" style="s2">telling me that partition s always</p>
<p begin="02:15:18.320" end="02:15:24.560" style="s2">happen. That&#39;s true. But here in the</p>
<p begin="02:15:22.159" end="02:15:27.520" style="s2">pace LC theorem, what I want to explain</p>
<p begin="02:15:24.560" end="02:15:29.920" style="s2">to everybody is the following. In a</p>
<p begin="02:15:27.520" end="02:15:32.560" style="s2">multi-node system, in a multi-achine</p>
<p begin="02:15:29.920" end="02:15:35.440" style="s2">systems, partition can anyway happen. Is</p>
<p begin="02:15:32.560" end="02:15:37.360" style="s2">everybody with me? Partitions can always</p>
<p begin="02:15:35.440" end="02:15:39.119" style="s2">happen. They are a given. Which means</p>
<p begin="02:15:37.360" end="02:15:41.760" style="s2">that you must select between consistency</p>
<p begin="02:15:39.119" end="02:15:43.440" style="s2">and availability. Is everybody with me?</p>
<p begin="02:15:41.760" end="02:15:44.719" style="s2">You must select between consistency,</p>
<p begin="02:15:43.440" end="02:15:46.719" style="s2">availability. You can either have a</p>
<p begin="02:15:44.719" end="02:15:47.760" style="s2">system which is highly consistent or you</p>
<p begin="02:15:46.719" end="02:15:49.920" style="s2">can have a system which is highly</p>
<p begin="02:15:47.760" end="02:15:52.880" style="s2">available. That&#39;s true. We are on the</p>
<p begin="02:15:49.920" end="02:15:55.599" style="s2">same page. The else part that I&#39;ve</p>
<p begin="02:15:52.880" end="02:15:57.440" style="s2">written here does not mean that I am</p>
<p begin="02:15:55.599" end="02:15:59.199" style="s2">saying that partition will not even</p>
<p begin="02:15:57.440" end="02:16:00.560" style="s2">happen.</p>
<p begin="02:15:59.199" end="02:16:03.440" style="s2">Right?</p>
<p begin="02:16:00.560" end="02:16:07.360" style="s2">The else part is</p>
<p begin="02:16:03.440" end="02:16:10.560" style="s2">the else part is that</p>
<p begin="02:16:07.360" end="02:16:13.760" style="s2">even when you forget about partitioning</p>
<p begin="02:16:10.560" end="02:16:16.320" style="s2">right even when partition is not even</p>
<p begin="02:16:13.760" end="02:16:18.079" style="s2">considered for now because partition</p>
<p begin="02:16:16.320" end="02:16:19.360" style="s2">happen at times it happens when it</p>
<p begin="02:16:18.079" end="02:16:22.159" style="s2">happens and you have to select between</p>
<p begin="02:16:19.360" end="02:16:24.000" style="s2">aility or a or consistency.</p>
<p begin="02:16:22.159" end="02:16:27.920" style="s2">But what this theorem wants to tell you</p>
<p begin="02:16:24.000" end="02:16:30.880" style="s2">is that even when the system is running</p>
<p begin="02:16:27.920" end="02:16:34.559" style="s2">normally and the partition right now has</p>
<p begin="02:16:30.880" end="02:16:37.760" style="s2">not happened right even then consistency</p>
<p begin="02:16:34.559" end="02:16:40.160" style="s2">and avail and latency are opposite to</p>
<p begin="02:16:37.760" end="02:16:43.760" style="s2">each other they are fighting with each</p>
<p begin="02:16:40.160" end="02:16:46.000" style="s2">other have I made myself clear now have</p>
<p begin="02:16:43.760" end="02:16:48.240" style="s2">I made myself clear somewhat more clear</p>
<p begin="02:16:46.000" end="02:16:49.679" style="s2">now that I&#39;m not saying that I&#39;m</p>
<p begin="02:16:48.240" end="02:16:51.920" style="s2">building a system where partition will</p>
<p begin="02:16:49.679" end="02:16:53.280" style="s2">not happen I am saying that of Of</p>
<p begin="02:16:51.920" end="02:16:54.960" style="s2">course, partitions will happen. But even</p>
<p begin="02:16:53.280" end="02:16:57.040" style="s2">at the normal running of the system,</p>
<p begin="02:16:54.960" end="02:16:58.559" style="s2">when partitions have not happened right</p>
<p begin="02:16:57.040" end="02:17:01.760" style="s2">now, everybody&#39;s able to communicate</p>
<p begin="02:16:58.559" end="02:17:04.080" style="s2">with each other for now. Even then, you</p>
<p begin="02:17:01.760" end="02:17:06.479" style="s2">have to think between even when</p>
<p begin="02:17:04.080" end="02:17:09.760" style="s2">partition is not considered, you have to</p>
<p begin="02:17:06.479" end="02:17:12.319" style="s2">think between consistency and low</p>
<p begin="02:17:09.760" end="02:17:15.439" style="s2">latency. Have I made myself clear now?</p>
<p begin="02:17:12.319" end="02:17:18.719" style="s2">Ajit are we on the same page now</p>
<p begin="02:17:15.439" end="02:17:22.399" style="s2">that we are in a way talking about that</p>
<p begin="02:17:18.719" end="02:17:24.559" style="s2">even without partitions consistency if</p>
<p begin="02:17:22.399" end="02:17:26.160" style="s2">you want to have high consistency you</p>
<p begin="02:17:24.559" end="02:17:28.800" style="s2">will have to compromise with your</p>
<p begin="02:17:26.160" end="02:17:31.760" style="s2">latency. I hope I have made myself</p>
<p begin="02:17:28.800" end="02:17:34.080" style="s2">clear. Why do we have that latency? I</p>
<p begin="02:17:31.760" end="02:17:36.639" style="s2">will explain this with the same example.</p>
<p begin="02:17:34.080" end="02:17:39.519" style="s2">To make my system highly consistent,</p>
<p begin="02:17:36.639" end="02:17:41.760" style="s2">Hardep had to wait before telling the</p>
<p begin="02:17:39.519" end="02:17:43.920" style="s2">user that your request is done because</p>
<p begin="02:17:41.760" end="02:17:46.160" style="s2">Hardep had to go and write the same</p>
<p begin="02:17:43.920" end="02:17:47.840" style="s2">thing on the other machine as well. How</p>
<p begin="02:17:46.160" end="02:17:50.559" style="s2">many of you understand this? How many of</p>
<p begin="02:17:47.840" end="02:17:52.319" style="s2">you understand this? That Hard had to go</p>
<p begin="02:17:50.559" end="02:17:55.760" style="s2">and write on the same other machine as</p>
<p begin="02:17:52.319" end="02:17:57.519" style="s2">well. This extra hop, these extra</p>
<p begin="02:17:55.760" end="02:17:59.760" style="s2">compute time, etc. is going to take</p>
<p begin="02:17:57.519" end="02:18:01.599" style="s2">time. Am I making sense to everybody?</p>
<p begin="02:17:59.760" end="02:18:04.240" style="s2">Which means that if I wanted a system to</p>
<p begin="02:18:01.599" end="02:18:08.000" style="s2">be highly consistent, I will compromise</p>
<p begin="02:18:04.240" end="02:18:09.519" style="s2">on the on the latency.</p>
<p begin="02:18:08.000" end="02:18:11.439" style="s2">Is everybody in the class with me? Is</p>
<p begin="02:18:09.519" end="02:18:13.280" style="s2">everybody in the class with me? Is</p>
<p begin="02:18:11.439" end="02:18:16.639" style="s2">everybody in the class with me? Low</p>
<p begin="02:18:13.280" end="02:18:18.639" style="s2">latency basically means fast. Yes. Yes.</p>
<p begin="02:18:16.639" end="02:18:21.359" style="s2">Yes. Okay. So that was the confusion.</p>
<p begin="02:18:18.639" end="02:18:22.880" style="s2">Latency basically means the time it</p>
<p begin="02:18:21.359" end="02:18:24.960" style="s2">takes.</p>
<p begin="02:18:22.880" end="02:18:27.519" style="s2">Low latency</p>
<p begin="02:18:24.960" end="02:18:30.800" style="s2">basically means fast. It is taking less</p>
<p begin="02:18:27.519" end="02:18:33.200" style="s2">time. High latency</p>
<p begin="02:18:30.800" end="02:18:35.840" style="s2">basically means slow. It is taking more</p>
<p begin="02:18:33.200" end="02:18:38.000" style="s2">time. So I understand where the people</p>
<p begin="02:18:35.840" end="02:18:40.399" style="s2">get confused. People got confused that</p>
<p begin="02:18:38.000" end="02:18:42.399" style="s2">hey high availability was a good thing.</p>
<p begin="02:18:40.399" end="02:18:44.399" style="s2">High consistency was a good thing and</p>
<p begin="02:18:42.399" end="02:18:45.920" style="s2">they were imagining high latency to be a</p>
<p begin="02:18:44.399" end="02:18:48.000" style="s2">good thing. Is that where the confusion</p>
<p begin="02:18:45.920" end="02:18:49.760" style="s2">was stemming? High latency basically</p>
<p begin="02:18:48.000" end="02:18:52.719" style="s2">means the system is slow. High latency</p>
<p begin="02:18:49.760" end="02:18:54.800" style="s2">is a bad thing. Low latency is a good</p>
<p begin="02:18:52.719" end="02:18:56.880" style="s2">thing. Guys, am I making myself clear to</p>
<p begin="02:18:54.800" end="02:19:00.080" style="s2">everybody? If your system has low</p>
<p begin="02:18:56.880" end="02:19:02.240" style="s2">latency, it means it is fast. So I hope</p>
<p begin="02:19:00.080" end="02:19:04.399" style="s2">I have made myself clear. I hope all of</p>
<p begin="02:19:02.240" end="02:19:08.559" style="s2">these things are clear. Now I will</p>
<p begin="02:19:04.399" end="02:19:10.960" style="s2">circle back and complete the discussion</p>
<p begin="02:19:08.559" end="02:19:12.800" style="s2">with what I discussed in the very</p>
<p begin="02:19:10.960" end="02:19:14.399" style="s2">beginning the replication and I will</p>
<p begin="02:19:12.800" end="02:19:16.880" style="s2">discuss a bunch of things with respect</p>
<p begin="02:19:14.399" end="02:19:20.080" style="s2">to low latency and high consistency</p>
<p begin="02:19:16.880" end="02:19:23.200" style="s2">again. Okay. So let me explain that. Let</p>
<p begin="02:19:20.080" end="02:19:25.679" style="s2">me explain that uh Karunamachi with some</p>
<p begin="02:19:23.200" end="02:19:28.559" style="s2">more topic that I have to teach. I will</p>
<p begin="02:19:25.679" end="02:19:30.639" style="s2">tie it with your doubt. Okay? So I will</p>
<p begin="02:19:28.559" end="02:19:32.080" style="s2">teach something new and I will tie it</p>
<p begin="02:19:30.639" end="02:19:34.399" style="s2">with your doubt so that your doubt also</p>
<p begin="02:19:32.080" end="02:19:37.679" style="s2">gets resolved. So what do I want from</p>
<p begin="02:19:34.399" end="02:19:39.920" style="s2">everybody else? Focus on the next topic.</p>
<p begin="02:19:37.679" end="02:19:41.920" style="s2">The doubt of availability sorry uh</p>
<p begin="02:19:39.920" end="02:19:46.399" style="s2">latency and consistency would also get</p>
<p begin="02:19:41.920" end="02:19:49.040" style="s2">clarified. Cool. So now there are some</p>
<p begin="02:19:46.399" end="02:19:50.880" style="s2">people hoping for a break. So guys I</p>
<p begin="02:19:49.040" end="02:19:54.800" style="s2">have promised that I will end the class</p>
<p begin="02:19:50.880" end="02:19:58.319" style="s2">by 11:45 or 11:50. Okay. So I cannot</p>
<p begin="02:19:54.800" end="02:20:00.160" style="s2">afford a very big break but I cannot I</p>
<p begin="02:19:58.319" end="02:20:02.479" style="s2">don&#39;t I&#39;m not a bad person at heart you</p>
<p begin="02:20:00.160" end="02:20:04.640" style="s2">know I&#39;m not somebody who is very bad at</p>
<p begin="02:20:02.479" end="02:20:08.319" style="s2">heart so even if if you are asking for</p>
<p begin="02:20:04.640" end="02:20:10.479" style="s2">breaks so so hopefully I will allow a 1</p>
<p begin="02:20:08.319" end="02:20:12.880" style="s2">minute break okay so it&#39;s 11:32 right</p>
<p begin="02:20:10.479" end="02:20:16.080" style="s2">now given that I am a very good person</p>
<p begin="02:20:12.880" end="02:20:19.200" style="s2">at heart I allow you guys to come back</p>
<p begin="02:20:16.080" end="02:20:22.200" style="s2">at 11:34 and then we continue is that</p>
<p begin="02:20:19.200" end="02:20:22.200" style="s2">fine</p>
<p begin="02:20:23.040" end="02:20:25.439" style="s2">okay</p>
<p begin="02:20:33.359" end="02:20:39.120" style="s2">And one request is folks always revisit</p>
<p begin="02:20:36.319" end="02:20:41.120" style="s2">the lecture right always revisit the</p>
<p begin="02:20:39.120" end="02:20:42.880" style="s2">lecture. We discussed so many</p>
<p begin="02:20:41.120" end="02:20:47.200" style="s2">interesting things so many important</p>
<p begin="02:20:42.880" end="02:20:49.520" style="s2">things always revisit</p>
<p begin="02:20:47.200" end="02:20:51.680" style="s2">and this is going to be very very</p>
<p begin="02:20:49.520" end="02:20:54.680" style="s2">fruitful if you revisit the lectures.</p>
<p begin="02:20:51.680" end="02:20:54.680" style="s2">Yeah.</p>
<p begin="02:21:27.040" end="02:21:33.520" style="s2">Cool.</p>
<p begin="02:21:29.120" end="02:21:37.560" style="s2">Okay. 11:34. We still have time.</p>
<p begin="02:21:33.520" end="02:21:37.560" style="s2">Uh, thanks for saying that, Rishal.</p>
<p begin="02:21:38.399" end="02:21:44.240" style="s2">Yeah, I took that liberty, Manu. I took</p>
<p begin="02:21:42.000" end="02:21:45.520" style="s2">the liberty. I have not I I&#39;m still</p>
<p begin="02:21:44.240" end="02:21:49.560" style="s2">sitting on the seat, but yeah, I took</p>
<p begin="02:21:45.520" end="02:21:49.560" style="s2">that liberty to get something done.</p>
<p begin="02:21:51.840" end="02:21:55.120" style="s2">Uh</p>
<p begin="02:21:53.439" end="02:21:59.160" style="s2">yeah, Anur, we&#39;ll we&#39;ll get that done</p>
<p begin="02:21:55.120" end="02:21:59.160" style="s2">also. Okay.</p>
<p begin="02:22:00.479" end="02:22:04.880" style="s2">Yeah, show I understand that. I</p>
<p begin="02:22:02.560" end="02:22:09.280" style="s2">understand that. It&#39;s very easy for me</p>
<p begin="02:22:04.880" end="02:22:11.680" style="s2">to say that revise the lecture</p>
<p begin="02:22:09.280" end="02:22:13.359" style="s2">but difficult for you to do but still</p>
<p begin="02:22:11.680" end="02:22:15.920" style="s2">try to understand I have to say what I</p>
<p begin="02:22:13.359" end="02:22:18.960" style="s2">feel is the right thing to do and you</p>
<p begin="02:22:15.920" end="02:22:20.640" style="s2">have to do what you possibly can. So</p>
<p begin="02:22:18.960" end="02:22:23.760" style="s2">Manu know I have never been a scalar</p>
<p begin="02:22:20.640" end="02:22:26.479" style="s2">student but I have been teaching at</p>
<p begin="02:22:23.760" end="02:22:28.160" style="s2">scalar right from the very beginning. So</p>
<p begin="02:22:26.479" end="02:22:30.640" style="s2">I was one of the first few people to</p>
<p begin="02:22:28.160" end="02:22:33.040" style="s2">join Scala. I have been teaching</p>
<p begin="02:22:30.640" end="02:22:35.200" style="s2">actually. So yeah, I joined Scala when</p>
<p begin="02:22:33.040" end="02:22:38.560" style="s2">it was called interview bit and only the</p>
<p begin="02:22:35.200" end="02:22:42.800" style="s2">first batch or so was had started. So I</p>
<p begin="02:22:38.560" end="02:22:46.600" style="s2">joined from the second batch or so.</p>
<p begin="02:22:42.800" end="02:22:46.600" style="s2">Yeah. Uh</p>
<p begin="02:22:48.000" end="02:22:51.920" style="s2">don&#39;t worry. I am doing my we are doing</p>
<p begin="02:22:50.160" end="02:22:54.000" style="s2">our best to make you appreciate the</p>
<p begin="02:22:51.920" end="02:22:55.920" style="s2">concepts and the project module will</p>
<p begin="02:22:54.000" end="02:22:57.760" style="s2">give you a lot more insight and that</p>
<p begin="02:22:55.920" end="02:23:02.280" style="s2">will sort of make you a much better</p>
<p begin="02:22:57.760" end="02:23:02.280" style="s2">system designer overall right</p>
<p begin="02:23:05.680" end="02:23:12.319" style="s2">now thanks a lot for saying this cool</p>
<p begin="02:23:08.399" end="02:23:15.439" style="s2">okay okay so I hope everybody&#39;s back</p>
<p begin="02:23:12.319" end="02:23:18.720" style="s2">I hope everybody&#39;s back and let&#39;s get</p>
<p begin="02:23:15.439" end="02:23:21.720" style="s2">started yeah I will share the notes as</p>
<p begin="02:23:18.720" end="02:23:21.720" style="s2">well.</p>
<p begin="02:23:27.200" end="02:23:32.399" style="s2">Cool. Let&#39;s get started. Uh yeah, let&#39;s</p>
<p begin="02:23:30.800" end="02:23:34.880" style="s2">get started. So, I want everybody&#39;s</p>
<p begin="02:23:32.399" end="02:23:37.280" style="s2">attention. Uh let&#39;s get started and</p>
<p begin="02:23:34.880" end="02:23:39.680" style="s2">let&#39;s complete the discussion for today</p>
<p begin="02:23:37.280" end="02:23:41.520" style="s2">with the last thing. Yeah. Yeah. S I I</p>
<p begin="02:23:39.680" end="02:23:43.920" style="s2">understood it. I will do that. I want</p>
<p begin="02:23:41.520" end="02:23:46.319" style="s2">everybody&#39;s attention back here. Right.</p>
<p begin="02:23:43.920" end="02:23:47.680" style="s2">We were discussing about replication. Do</p>
<p begin="02:23:46.319" end="02:23:49.600" style="s2">you remember replication guys? Do you</p>
<p begin="02:23:47.680" end="02:23:53.359" style="s2">remember replication?</p>
<p begin="02:23:49.600" end="02:23:55.600" style="s2">You remember replication? So there is</p>
<p begin="02:23:53.359" end="02:23:56.960" style="s2">one specific kind of replication that I</p>
<p begin="02:23:55.600" end="02:23:58.319" style="s2">want to discuss today and the other</p>
<p begin="02:23:56.960" end="02:24:00.399" style="s2">replications will be discussed in the</p>
<p begin="02:23:58.319" end="02:24:02.640" style="s2">storage classes later. But one</p>
<p begin="02:24:00.399" end="02:24:03.840" style="s2">replication which I sort of discussed at</p>
<p begin="02:24:02.640" end="02:24:07.280" style="s2">the very beginning of the lecture as</p>
<p begin="02:24:03.840" end="02:24:08.960" style="s2">well which is that uh basically sharding</p>
<p begin="02:24:07.280" end="02:24:10.800" style="s2">is that you dividing your data amongst</p>
<p begin="02:24:08.960" end="02:24:12.399" style="s2">different machines. Replication is that</p>
<p begin="02:24:10.800" end="02:24:15.200" style="s2">you taking a machine and creating copies</p>
<p begin="02:24:12.399" end="02:24:16.720" style="s2">of it so that you can you can handle a</p>
<p begin="02:24:15.200" end="02:24:18.720" style="s2">bit more load. Is everybody with me?</p>
<p begin="02:24:16.720" end="02:24:20.720" style="s2">What is replication? You copy the data,</p>
<p begin="02:24:18.720" end="02:24:22.240" style="s2">right? So one very popular way of</p>
<p begin="02:24:20.720" end="02:24:24.960" style="s2">replication and the way that I replicate</p>
<p begin="02:24:22.240" end="02:24:27.520" style="s2">there was is called as master slave</p>
<p begin="02:24:24.960" end="02:24:30.920" style="s2">replication. Okay? So it&#39;s called master</p>
<p begin="02:24:27.520" end="02:24:30.920" style="s2">slave replication.</p>
<p begin="02:24:33.280" end="02:24:37.040" style="s2">So what is master slave replication?</p>
<p begin="02:24:35.520" end="02:24:40.080" style="s2">Master slave replication is that you</p>
<p begin="02:24:37.040" end="02:24:43.680" style="s2">have a master box which is the ultimate</p>
<p begin="02:24:40.080" end="02:24:45.680" style="s2">source of truth. you call it the master</p>
<p begin="02:24:43.680" end="02:24:47.760" style="s2">and you then you create a bunch of</p>
<p begin="02:24:45.680" end="02:24:50.080" style="s2">slaves.</p>
<p begin="02:24:47.760" end="02:24:53.200" style="s2">Now honestly in today&#39;s world master</p>
<p begin="02:24:50.080" end="02:24:56.720" style="s2">slave is not the most politically</p>
<p begin="02:24:53.200" end="02:25:00.080" style="s2">correct word to use. I forgot what</p>
<p begin="02:24:56.720" end="02:25:04.000" style="s2">people call it these days. Uh I&#39;m sorry.</p>
<p begin="02:25:00.080" end="02:25:07.040" style="s2">So I will use a master slave uh word</p>
<p begin="02:25:04.000" end="02:25:08.880" style="s2">even now. But yeah uh I hope you</p>
<p begin="02:25:07.040" end="02:25:12.160" style="s2">appreciate the fact that yeah you can</p>
<p begin="02:25:08.880" end="02:25:14.160" style="s2">you can call it leader follower</p>
<p begin="02:25:12.160" end="02:25:15.760" style="s2">orchestrator worker maybe not the</p>
<p begin="02:25:14.160" end="02:25:17.680" style="s2">correct terminology here bisujit but</p>
<p begin="02:25:15.760" end="02:25:20.880" style="s2">yeah I hope everybody appreciates master</p>
<p begin="02:25:17.680" end="02:25:22.160" style="s2">slave is that there is one main leader</p>
<p begin="02:25:20.880" end="02:25:24.240" style="s2">follower yeah that&#39;s that&#39;s a more</p>
<p begin="02:25:22.160" end="02:25:25.840" style="s2">generic thing to do say but master slave</p>
<p begin="02:25:24.240" end="02:25:27.200" style="s2">is something which people still use and</p>
<p begin="02:25:25.840" end="02:25:29.120" style="s2">I want you to appreciate it completely</p>
<p begin="02:25:27.200" end="02:25:32.319" style="s2">so I will keep on using master slave so</p>
<p begin="02:25:29.120" end="02:25:33.840" style="s2">you have a master uh this is act uh okay</p>
<p begin="02:25:32.319" end="02:25:35.120" style="s2">active active active passive is a</p>
<p begin="02:25:33.840" end="02:25:37.359" style="s2">different discussion My dear friend</p>
<p begin="02:25:35.120" end="02:25:39.439" style="s2">Koshik I will discuss that later but</p>
<p begin="02:25:37.359" end="02:25:41.680" style="s2">here just focus on this now there is a</p>
<p begin="02:25:39.439" end="02:25:43.840" style="s2">master there is a main copy and there</p>
<p begin="02:25:41.680" end="02:25:46.560" style="s2">are slaves which are the copies of it</p>
<p begin="02:25:43.840" end="02:25:48.880" style="s2">right which are the replicas of it right</p>
<p begin="02:25:46.560" end="02:25:51.520" style="s2">so the master slave replication</p>
<p begin="02:25:48.880" end="02:25:54.160" style="s2">essentially is as follows that all your</p>
<p begin="02:25:51.520" end="02:25:56.399" style="s2">rights</p>
<p begin="02:25:54.160" end="02:25:58.800" style="s2">are performed on the master because your</p>
<p begin="02:25:56.399" end="02:26:01.680" style="s2">master is the ultimate source of truth</p>
<p begin="02:25:58.800" end="02:26:04.800" style="s2">but all all your reads</p>
<p begin="02:26:01.680" end="02:26:06.880" style="s2">can happen from the slave slaves and</p>
<p begin="02:26:04.800" end="02:26:10.240" style="s2">slaves can also be called as read</p>
<p begin="02:26:06.880" end="02:26:12.560" style="s2">replicas. So you have read replicas. You</p>
<p begin="02:26:10.240" end="02:26:15.359" style="s2">have replicas of your master at multiple</p>
<p begin="02:26:12.560" end="02:26:17.359" style="s2">places so that your reads can happen</p>
<p begin="02:26:15.359" end="02:26:18.640" style="s2">parallelly from different machines. How</p>
<p begin="02:26:17.359" end="02:26:21.040" style="s2">many of you understand the concept of</p>
<p begin="02:26:18.640" end="02:26:23.680" style="s2">master slave that you have read replicas</p>
<p begin="02:26:21.040" end="02:26:26.240" style="s2">that you have created? Why this</p>
<p begin="02:26:23.680" end="02:26:27.840" style="s2">relevant? How many of you appreciate</p>
<p begin="02:26:26.240" end="02:26:31.280" style="s2">that a lot of systems that you see</p>
<p begin="02:26:27.840" end="02:26:32.640" style="s2">around have a lot higher read load as</p>
<p begin="02:26:31.280" end="02:26:34.479" style="s2">compared to the right load? How many of</p>
<p begin="02:26:32.640" end="02:26:36.479" style="s2">you appreciate that? Let&#39;s look at</p>
<p begin="02:26:34.479" end="02:26:38.560" style="s2">Facebook. There is one person who post</p>
<p begin="02:26:36.479" end="02:26:40.640" style="s2">makes a post and there are 100 people</p>
<p begin="02:26:38.560" end="02:26:42.080" style="s2">who read that post. There is one person</p>
<p begin="02:26:40.640" end="02:26:43.920" style="s2">who makes a post on LinkedIn and there</p>
<p begin="02:26:42.080" end="02:26:45.840" style="s2">are thousand people who read that post.</p>
<p begin="02:26:43.920" end="02:26:47.680" style="s2">The reads are always in most of the</p>
<p begin="02:26:45.840" end="02:26:49.520" style="s2">systems much much higher than the rights</p>
<p begin="02:26:47.680" end="02:26:51.359" style="s2">and hence the read load is going to be a</p>
<p begin="02:26:49.520" end="02:26:56.160" style="s2">lot higher which means that you require</p>
<p begin="02:26:51.359" end="02:26:57.840" style="s2">a lot more uh a lot more uh AR a lot</p>
<p begin="02:26:56.160" end="02:27:00.399" style="s2">more infrastructure to support your</p>
<p begin="02:26:57.840" end="02:27:02.399" style="s2">right to support your reads. Guys, am I</p>
<p begin="02:27:00.399" end="02:27:05.439" style="s2">making sense?</p>
<p begin="02:27:02.399" end="02:27:07.439" style="s2">Am I making sense? Uh likes and comments</p>
<p begin="02:27:05.439" end="02:27:09.680" style="s2">are also treated as rights my dear</p>
<p begin="02:27:07.439" end="02:27:12.160" style="s2">friend Manu. But try to understand Manu</p>
<p begin="02:27:09.680" end="02:27:13.840" style="s2">that even if you make one comment that</p>
<p begin="02:27:12.160" end="02:27:15.760" style="s2">comment is going to be read by a lot</p>
<p begin="02:27:13.840" end="02:27:18.399" style="s2">more people. So even when you think</p>
<p begin="02:27:15.760" end="02:27:20.720" style="s2">about the right comment uh a comment as</p>
<p begin="02:27:18.399" end="02:27:22.000" style="s2">a right the read of that comment is also</p>
<p begin="02:27:20.720" end="02:27:23.439" style="s2">going to be a lot higher than the right</p>
<p begin="02:27:22.000" end="02:27:26.000" style="s2">of the comment. Is that making sense</p>
<p begin="02:27:23.439" end="02:27:27.840" style="s2">Manu? Right. The YouTubers keep on</p>
<p begin="02:27:26.000" end="02:27:29.600" style="s2">saying please comment on my photo,</p>
<p begin="02:27:27.840" end="02:27:32.000" style="s2">comment on my video, comment on video.</p>
<p begin="02:27:29.600" end="02:27:33.760" style="s2">Nobody comments but whenever somebody</p>
<p begin="02:27:32.000" end="02:27:36.080" style="s2">comments everybody&#39;s there to read that</p>
<p begin="02:27:33.760" end="02:27:38.000" style="s2">comment right so systems most of the</p>
<p begin="02:27:36.080" end="02:27:40.560" style="s2">systems are read heavy which means that</p>
<p begin="02:27:38.000" end="02:27:42.240" style="s2">it makes sense to have read replicas is</p>
<p begin="02:27:40.560" end="02:27:45.120" style="s2">everybody in the class with me it makes</p>
<p begin="02:27:42.240" end="02:27:46.880" style="s2">sense to have read replicas so you will</p>
<p begin="02:27:45.120" end="02:27:48.720" style="s2">distribute your read traffic across read</p>
<p begin="02:27:46.880" end="02:27:50.720" style="s2">replicas they will read from there and</p>
<p begin="02:27:48.720" end="02:27:52.080" style="s2">you will write on the master this is</p>
<p begin="02:27:50.720" end="02:27:54.640" style="s2">what is called as a master slave</p>
<p begin="02:27:52.080" end="02:27:57.840" style="s2">replication now my dear friends I will</p>
<p begin="02:27:54.640" end="02:28:00.000" style="s2">tie this uh do you categorize Gmail as</p>
<p begin="02:27:57.840" end="02:28:04.000" style="s2">read heavy do You categorize Gmail as</p>
<p begin="02:28:00.000" end="02:28:06.720" style="s2">read heavy re Gmail will have</p>
<p begin="02:28:04.000" end="02:28:10.000" style="s2">not that big a read and write</p>
<p begin="02:28:06.720" end="02:28:12.560" style="s2">distribution. Okay Prashant but a lot</p>
<p begin="02:28:10.000" end="02:28:15.359" style="s2">other systems will have a lot more</p>
<p begin="02:28:12.560" end="02:28:17.359" style="s2">evident read and write uh distribution.</p>
<p begin="02:28:15.359" end="02:28:18.960" style="s2">Okay, Gmail will of course have more</p>
<p begin="02:28:17.359" end="02:28:21.920" style="s2">number of reads and write but the</p>
<p begin="02:28:18.960" end="02:28:24.080" style="s2">distribution will not be as big a factor</p>
<p begin="02:28:21.920" end="02:28:26.640" style="s2">as you see in a lot of other systems. Is</p>
<p begin="02:28:24.080" end="02:28:28.800" style="s2">that correct Prashant? Is that correct?</p>
<p begin="02:28:26.640" end="02:28:30.160" style="s2">I hope that makes sense. But even for</p>
<p begin="02:28:28.800" end="02:28:33.520" style="s2">Gmail, of course, the reads are going to</p>
<p begin="02:28:30.160" end="02:28:36.720" style="s2">be much higher than the rights. Okay.</p>
<p begin="02:28:33.520" end="02:28:39.600" style="s2">Yeah, Srajit, you&#39;re right. Uh</p>
<p begin="02:28:36.720" end="02:28:41.760" style="s2">yeah. So yes, Aima, your rights are</p>
<p begin="02:28:39.600" end="02:28:43.280" style="s2">going to go to the master box. Your</p>
<p begin="02:28:41.760" end="02:28:44.960" style="s2">reads are going to go to the read</p>
<p begin="02:28:43.280" end="02:28:47.040" style="s2">replicas. Is everybody in the class with</p>
<p begin="02:28:44.960" end="02:28:48.960" style="s2">me? Is this concept of master slave</p>
<p begin="02:28:47.040" end="02:28:50.880" style="s2">clear to everybody? I already explained</p>
<p begin="02:28:48.960" end="02:28:52.880" style="s2">replication. Now I just give it a new</p>
<p begin="02:28:50.880" end="02:28:54.240" style="s2">name, master slave replication. Now I</p>
<p begin="02:28:52.880" end="02:28:57.359" style="s2">want to tie it with the idea of</p>
<p begin="02:28:54.240" end="02:29:00.399" style="s2">consistency and latency. Do I have</p>
<p begin="02:28:57.359" end="02:29:04.000" style="s2">everybody&#39;s attention? Consistency. What</p>
<p begin="02:29:00.399" end="02:29:07.760" style="s2">did consistency mean? Consistency mean</p>
<p begin="02:29:04.000" end="02:29:09.840" style="s2">that every read</p>
<p begin="02:29:07.760" end="02:29:12.160" style="s2">will</p>
<p begin="02:29:09.840" end="02:29:15.840" style="s2">return</p>
<p begin="02:29:12.160" end="02:29:18.880" style="s2">the latest write. Is that correct? Every</p>
<p begin="02:29:15.840" end="02:29:21.520" style="s2">read will return the latest right. What</p>
<p begin="02:29:18.880" end="02:29:24.399" style="s2">is latency?</p>
<p begin="02:29:21.520" end="02:29:26.880" style="s2">Latency is the amount</p>
<p begin="02:29:24.399" end="02:29:30.280" style="s2">of time</p>
<p begin="02:29:26.880" end="02:29:30.280" style="s2">it takes</p>
<p begin="02:29:30.399" end="02:29:35.240" style="s2">for the request</p>
<p begin="02:29:35.280" end="02:29:40.240" style="s2">to be processed. Is that correct?</p>
<p begin="02:29:38.399" end="02:29:42.319" style="s2">Latency means the amount of time it</p>
<p begin="02:29:40.240" end="02:29:44.000" style="s2">takes for the request to be processed.</p>
<p begin="02:29:42.319" end="02:29:46.240" style="s2">Now, everybody understands that low</p>
<p begin="02:29:44.000" end="02:29:49.200" style="s2">latency is a good thing, guys. Are you</p>
<p begin="02:29:46.240" end="02:29:51.520" style="s2">with me? Low latency is a good thing.</p>
<p begin="02:29:49.200" end="02:29:53.200" style="s2">High latency is a bad thing because</p>
<p begin="02:29:51.520" end="02:29:57.200" style="s2">latency is the amount of time it takes</p>
<p begin="02:29:53.200" end="02:29:59.760" style="s2">for the request to be processed. Now I</p>
<p begin="02:29:57.200" end="02:30:03.200" style="s2">want everybody to appreciate this with</p>
<p begin="02:29:59.760" end="02:30:06.760" style="s2">respect to master slave replication.</p>
<p begin="02:30:03.200" end="02:30:06.760" style="s2">I have a master</p>
<p begin="02:30:07.200" end="02:30:11.160" style="s2">I have a bunch of slaves.</p>
<p begin="02:30:11.760" end="02:30:20.000" style="s2">Let&#39;s say my friend uh V Prasad</p>
<p begin="02:30:16.479" end="02:30:22.560" style="s2">is writing something</p>
<p begin="02:30:20.000" end="02:30:24.960" style="s2">and when Vap Prasad writes the right</p>
<p begin="02:30:22.560" end="02:30:26.960" style="s2">gets registered here.</p>
<p begin="02:30:24.960" end="02:30:29.680" style="s2">Understand that there are multiple ways</p>
<p begin="02:30:26.960" end="02:30:32.479" style="s2">that you can go about it. One way is</p>
<p begin="02:30:29.680" end="02:30:34.080" style="s2">that whenever right happens you write it</p>
<p begin="02:30:32.479" end="02:30:36.560" style="s2">and then you send an acknowledgement to</p>
<p begin="02:30:34.080" end="02:30:41.040" style="s2">Vaprasad that okay your right is done</p>
<p begin="02:30:36.560" end="02:30:44.000" style="s2">and now in an offline fashion</p>
<p begin="02:30:41.040" end="02:30:47.840" style="s2">whatever Vap Prasad wrote gets written</p>
<p begin="02:30:44.000" end="02:30:50.319" style="s2">to all these boxes one by one. How many</p>
<p begin="02:30:47.840" end="02:30:52.560" style="s2">of you understand this? This is one way</p>
<p begin="02:30:50.319" end="02:30:54.319" style="s2">to look at it that whenever Vap Prasad</p>
<p begin="02:30:52.560" end="02:30:56.240" style="s2">writes their right is written on the</p>
<p begin="02:30:54.319" end="02:30:59.280" style="s2">master and you send an acknowledgement.</p>
<p begin="02:30:56.240" end="02:31:01.920" style="s2">Vap Prasad goes back home happy and now</p>
<p begin="02:30:59.280" end="02:31:03.520" style="s2">offline system you write it on three,</p>
<p begin="02:31:01.920" end="02:31:05.040" style="s2">you write it on four, you write it on</p>
<p begin="02:31:03.520" end="02:31:07.359" style="s2">five.</p>
<p begin="02:31:05.040" end="02:31:10.000" style="s2">How many of you understand that this is</p>
<p begin="02:31:07.359" end="02:31:11.760" style="s2">going to have low latency?</p>
<p begin="02:31:10.000" end="02:31:14.960" style="s2">How many of you understand that this is</p>
<p begin="02:31:11.760" end="02:31:17.600" style="s2">going to have low latency?</p>
<p begin="02:31:14.960" end="02:31:20.479" style="s2">Because you are not letting V Prasad</p>
<p begin="02:31:17.600" end="02:31:23.439" style="s2">wait. V Prasad is not waiting for the</p>
<p begin="02:31:20.479" end="02:31:25.600" style="s2">right to be done on all the boxes. But</p>
<p begin="02:31:23.439" end="02:31:27.760" style="s2">do you think this system has very high</p>
<p begin="02:31:25.600" end="02:31:30.880" style="s2">consistency? Do you think this system</p>
<p begin="02:31:27.760" end="02:31:33.120" style="s2">has very high consistency? No. Because V</p>
<p begin="02:31:30.880" end="02:31:35.120" style="s2">Prasad&#39;s right is done. But if somebody</p>
<p begin="02:31:33.120" end="02:31:37.600" style="s2">else wants to read in the meanwhile,</p>
<p begin="02:31:35.120" end="02:31:40.000" style="s2">they will go to a slave replica that</p>
<p begin="02:31:37.600" end="02:31:41.840" style="s2">might not be persisted on the slave yet.</p>
<p begin="02:31:40.000" end="02:31:44.080" style="s2">And hence they might not read a</p>
<p begin="02:31:41.840" end="02:31:46.560" style="s2">consistent value. How many of you</p>
<p begin="02:31:44.080" end="02:31:49.680" style="s2">understand this? How many of you</p>
<p begin="02:31:46.560" end="02:31:52.399" style="s2">understand this? This is also low</p>
<p begin="02:31:49.680" end="02:31:54.240" style="s2">consistency.</p>
<p begin="02:31:52.399" end="02:31:57.040" style="s2">There is another thing that that people</p>
<p begin="02:31:54.240" end="02:31:58.880" style="s2">call low consistency. As people can call</p>
<p begin="02:31:57.040" end="02:32:01.600" style="s2">it low consistency or some other people</p>
<p begin="02:31:58.880" end="02:32:04.319" style="s2">can say that okay I have ensured</p>
<p begin="02:32:01.600" end="02:32:07.280" style="s2">eventual consistency.</p>
<p begin="02:32:04.319" end="02:32:09.840" style="s2">What does eventual consistency mean? It</p>
<p begin="02:32:07.280" end="02:32:12.560" style="s2">means eventually it will get consistent</p>
<p begin="02:32:09.840" end="02:32:14.640" style="s2">but it is not consistent even right now.</p>
<p begin="02:32:12.560" end="02:32:17.359" style="s2">Am I making sense to everybody? Does</p>
<p begin="02:32:14.640" end="02:32:18.720" style="s2">everybody appreciate this?</p>
<p begin="02:32:17.359" end="02:32:20.640" style="s2">Right. So it&#39;s not very high on</p>
<p begin="02:32:18.720" end="02:32:22.479" style="s2">consistency. It&#39;s very low on latency.</p>
<p begin="02:32:20.640" end="02:32:25.120" style="s2">So it&#39;s we are happy with respect to low</p>
<p begin="02:32:22.479" end="02:32:27.520" style="s2">latency but we are sad with respect to</p>
<p begin="02:32:25.120" end="02:32:30.479" style="s2">low consistency</p>
<p begin="02:32:27.520" end="02:32:33.280" style="s2">right now let&#39;s consider another</p>
<p begin="02:32:30.479" end="02:32:35.760" style="s2">approach how somebody else can structure</p>
<p begin="02:32:33.280" end="02:32:37.359" style="s2">this. So somebody else can structure it</p>
<p begin="02:32:35.760" end="02:32:41.680" style="s2">in the following manner that you have a</p>
<p begin="02:32:37.359" end="02:32:44.399" style="s2">master. You have a bunch of slaves,</p>
<p begin="02:32:41.680" end="02:32:46.240" style="s2">you have a master, you have slaves and</p>
<p begin="02:32:44.399" end="02:32:48.479" style="s2">now our friend V Prasad is still</p>
<p begin="02:32:46.240" end="02:32:50.960" style="s2">writing.</p>
<p begin="02:32:48.479" end="02:32:53.439" style="s2">My friend Vaprasad writes something.</p>
<p begin="02:32:50.960" end="02:32:55.520" style="s2">What does he write? Whenever he writes,</p>
<p begin="02:32:53.439" end="02:32:58.240" style="s2">I do the following.</p>
<p begin="02:32:55.520" end="02:32:59.520" style="s2">So you write the first thing that</p>
<p begin="02:32:58.240" end="02:33:03.439" style="s2">happens is it gets written in the</p>
<p begin="02:32:59.520" end="02:33:06.399" style="s2">master. Then I am waiting for all the</p>
<p begin="02:33:03.439" end="02:33:10.720" style="s2">slaves to write it.</p>
<p begin="02:33:06.399" end="02:33:13.439" style="s2">Only when all the slaves have written</p>
<p begin="02:33:10.720" end="02:33:16.160" style="s2">only then I tell varasad that your job</p>
<p begin="02:33:13.439" end="02:33:17.680" style="s2">is done. How many of you understand what</p>
<p begin="02:33:16.160" end="02:33:20.399" style="s2">I&#39;m saying? How many of you understand</p>
<p begin="02:33:17.680" end="02:33:23.280" style="s2">what I&#39;m saying? That only when all the</p>
<p begin="02:33:20.399" end="02:33:26.399" style="s2">slaves have written only then I tell</p>
<p begin="02:33:23.280" end="02:33:29.520" style="s2">vapasad that this is done. How many of</p>
<p begin="02:33:26.399" end="02:33:31.359" style="s2">you understand that this is high</p>
<p begin="02:33:29.520" end="02:33:33.760" style="s2">consistency?</p>
<p begin="02:33:31.359" end="02:33:36.000" style="s2">How many of you understand that this is</p>
<p begin="02:33:33.760" end="02:33:38.240" style="s2">high consistency?</p>
<p begin="02:33:36.000" end="02:33:41.840" style="s2">You all can also call high consistency</p>
<p begin="02:33:38.240" end="02:33:44.479" style="s2">as immediate consistency. How many of</p>
<p begin="02:33:41.840" end="02:33:46.960" style="s2">you understand that anybody who reads</p>
<p begin="02:33:44.479" end="02:33:49.200" style="s2">will get the data?</p>
<p begin="02:33:46.960" end="02:33:52.479" style="s2">But this so this is a great thing. This</p>
<p begin="02:33:49.200" end="02:33:56.080" style="s2">has high consistency but unfortunately</p>
<p begin="02:33:52.479" end="02:33:58.080" style="s2">it has high latency as well because the</p>
<p begin="02:33:56.080" end="02:34:01.600" style="s2">time that people will take to register</p>
<p begin="02:33:58.080" end="02:34:03.200" style="s2">it on the slaves will keep varasad</p>
<p begin="02:34:01.600" end="02:34:05.359" style="s2">waiting.</p>
<p begin="02:34:03.200" end="02:34:07.439" style="s2">How many of you understand this guys?</p>
<p begin="02:34:05.359" end="02:34:09.920" style="s2">Ajit if I remember correctly Ajit was</p>
<p begin="02:34:07.439" end="02:34:11.920" style="s2">the one who did not understand the why</p>
<p begin="02:34:09.920" end="02:34:14.800" style="s2">latency and consistency are inversely</p>
<p begin="02:34:11.920" end="02:34:16.240" style="s2">prop are are competing. Ajit if you are</p>
<p begin="02:34:14.800" end="02:34:17.920" style="s2">there in the class do you now appreciate</p>
<p begin="02:34:16.240" end="02:34:19.280" style="s2">it my dear friend? I&#39;m not sure if</p>
<p begin="02:34:17.920" end="02:34:21.120" style="s2">you&#39;re there in the class or not. Do you</p>
<p begin="02:34:19.280" end="02:34:22.880" style="s2">now appreciate it? Or I&#39;m not even sure</p>
<p begin="02:34:21.120" end="02:34:24.880" style="s2">if Ajit was the person who had this</p>
<p begin="02:34:22.880" end="02:34:26.960" style="s2">doubt. Whosoever had this doubt, is this</p>
<p begin="02:34:24.880" end="02:34:29.359" style="s2">now more clear to you guys that</p>
<p begin="02:34:26.960" end="02:34:32.080" style="s2">consistency and latency are in a way</p>
<p begin="02:34:29.359" end="02:34:33.600" style="s2">competing with each other.</p>
<p begin="02:34:32.080" end="02:34:35.600" style="s2">There can be other ways in which you can</p>
<p begin="02:34:33.600" end="02:34:38.160" style="s2">do master slave replication. Do you want</p>
<p begin="02:34:35.600" end="02:34:40.560" style="s2">me to cover them as well?</p>
<p begin="02:34:38.160" end="02:34:42.160" style="s2">Yes, Nicl, I will cover that as well. Do</p>
<p begin="02:34:40.560" end="02:34:46.000" style="s2">you want me to cover some more details</p>
<p begin="02:34:42.160" end="02:34:48.000" style="s2">about master slave? So the class can be</p>
<p begin="02:34:46.000" end="02:34:49.760" style="s2">considered over. It&#39;s 11:45. Anybody</p>
<p begin="02:34:48.000" end="02:34:51.920" style="s2">wants to leave, they can leave. But I</p>
<p begin="02:34:49.760" end="02:34:53.359" style="s2">will just share some more details. Those</p>
<p begin="02:34:51.920" end="02:34:54.960" style="s2">are additional details. If you want to</p>
<p begin="02:34:53.359" end="02:34:56.880" style="s2">stay back, you can stay back. And then</p>
<p begin="02:34:54.960" end="02:34:58.640" style="s2">after that, I will take all your doubts</p>
<p begin="02:34:56.880" end="02:35:01.200" style="s2">and I will stay for as long as you want</p>
<p begin="02:34:58.640" end="02:35:03.760" style="s2">me to stay. Now let me teach you some</p>
<p begin="02:35:01.200" end="02:35:06.319" style="s2">more things about it. There can be other</p>
<p begin="02:35:03.760" end="02:35:08.720" style="s2">ways as well. Yeah, the topic is over. S</p>
<p begin="02:35:06.319" end="02:35:10.000" style="s2">I&#39;m just going deeper into the woods. If</p>
<p begin="02:35:08.720" end="02:35:12.080" style="s2">you want to stay back, you can stay</p>
<p begin="02:35:10.000" end="02:35:14.720" style="s2">back. If you want to go home and sleep,</p>
<p begin="02:35:12.080" end="02:35:16.960" style="s2">you can do that as well. Okay. Okay, I</p>
<p begin="02:35:14.720" end="02:35:20.399" style="s2">hope that&#39;s clear. Anybody who wants to</p>
<p begin="02:35:16.960" end="02:35:22.240" style="s2">anybody who wants to go, I would I would</p>
<p begin="02:35:20.399" end="02:35:23.520" style="s2">thank you for attending the lecture.</p>
<p begin="02:35:22.240" end="02:35:24.960" style="s2">Thanks a lot for attending the lecture.</p>
<p begin="02:35:23.520" end="02:35:27.040" style="s2">It was a pleasure interacting with all</p>
<p begin="02:35:24.960" end="02:35:29.520" style="s2">of you. I hope to see you guys again</p>
<p begin="02:35:27.040" end="02:35:32.240" style="s2">sometime and I wish you all the very</p>
<p begin="02:35:29.520" end="02:35:34.319" style="s2">best. Do the best in your interviews.</p>
<p begin="02:35:32.240" end="02:35:37.600" style="s2">Make the most out of the scalar course</p>
<p begin="02:35:34.319" end="02:35:39.840" style="s2">and get a great job. Right, Santos? Your</p>
<p begin="02:35:37.600" end="02:35:44.399" style="s2">answer is yes. Your comment is right. It</p>
<p begin="02:35:39.840" end="02:35:46.160" style="s2">is the it is the uh reason right. So uh</p>
<p begin="02:35:44.399" end="02:35:47.359" style="s2">I it was a pleasure interacting with all</p>
<p begin="02:35:46.160" end="02:35:50.160" style="s2">of you. Thanks a lot. Anybody who wants</p>
<p begin="02:35:47.359" end="02:35:54.000" style="s2">to leave can leave. Uh wishing you all</p>
<p begin="02:35:50.160" end="02:35:56.000" style="s2">the very best. Uh and do the best. Thank</p>
<p begin="02:35:54.000" end="02:35:57.359" style="s2">you. Uh Saki I&#39;m already teaching a</p>
<p begin="02:35:56.000" end="02:35:59.280" style="s2">different batch so that might not be</p>
<p begin="02:35:57.359" end="02:36:00.800" style="s2">possible but yeah we might see each</p>
<p begin="02:35:59.280" end="02:36:03.120" style="s2">other again sometime later in the</p>
<p begin="02:36:00.800" end="02:36:04.560" style="s2">future. Okay guys so I will go deeper</p>
<p begin="02:36:03.120" end="02:36:06.319" style="s2">into the woods. If you want to stay back</p>
<p begin="02:36:04.560" end="02:36:07.520" style="s2">you can stay back right. So other ways</p>
<p begin="02:36:06.319" end="02:36:09.680" style="s2">in which you can do master slave</p>
<p begin="02:36:07.520" end="02:36:12.000" style="s2">replication is the following. You have a</p>
<p begin="02:36:09.680" end="02:36:14.560" style="s2">master,</p>
<p begin="02:36:12.000" end="02:36:16.880" style="s2">you have a bunch of slaves,</p>
<p begin="02:36:14.560" end="02:36:18.960" style="s2">right?</p>
<p begin="02:36:16.880" end="02:36:20.800" style="s2">When V Prasad comes and writes</p>
<p begin="02:36:18.960" end="02:36:25.359" style="s2">something,</p>
<p begin="02:36:20.800" end="02:36:27.520" style="s2">right? I will write it on master</p>
<p begin="02:36:25.359" end="02:36:30.399" style="s2">and I will ensure that at least some of</p>
<p begin="02:36:27.520" end="02:36:32.080" style="s2">the slaves have the right with them. So</p>
<p begin="02:36:30.399" end="02:36:34.640" style="s2">I will not wait for all the slaves to</p>
<p begin="02:36:32.080" end="02:36:38.160" style="s2">give me the right. I will call the right</p>
<p begin="02:36:34.640" end="02:36:41.280" style="s2">on all of them. But the moment let&#39;s say</p>
<p begin="02:36:38.160" end="02:36:43.600" style="s2">somebody or some x number of slaves give</p>
<p begin="02:36:41.280" end="02:36:47.040" style="s2">me a right that hey they have registered</p>
<p begin="02:36:43.600" end="02:36:49.520" style="s2">the right then I will tell var prasad to</p>
<p begin="02:36:47.040" end="02:36:52.720" style="s2">that your job is done guys am I making</p>
<p begin="02:36:49.520" end="02:36:54.720" style="s2">sense am I making sense that I will not</p>
<p begin="02:36:52.720" end="02:36:57.040" style="s2">wait for all the slaves to register the</p>
<p begin="02:36:54.720" end="02:36:59.439" style="s2">right I will wait for some x number of</p>
<p begin="02:36:57.040" end="02:37:02.000" style="s2">slaves to register the right is that</p>
<p begin="02:36:59.439" end="02:37:04.319" style="s2">making sense that&#39;s another way you are</p>
<p begin="02:37:02.000" end="02:37:07.200" style="s2">in a way choosing somewhere in between</p>
<p begin="02:37:04.319" end="02:37:10.160" style="s2">high consistency and low latency you are</p>
<p begin="02:37:07.200" end="02:37:12.000" style="s2">choosing somewhere in between right uh</p>
<p begin="02:37:10.160" end="02:37:13.359" style="s2">this is called by different names prasad</p>
<p begin="02:37:12.000" end="02:37:15.600" style="s2">and we will discuss this later in the</p>
<p begin="02:37:13.359" end="02:37:17.760" style="s2">following classes with more detail but I</p>
<p begin="02:37:15.600" end="02:37:19.359" style="s2">just wanted to pinpoint this and I</p>
<p begin="02:37:17.760" end="02:37:21.840" style="s2">wanted to pinpoint one more interesting</p>
<p begin="02:37:19.359" end="02:37:25.200" style="s2">fact about it when we discussed the</p>
<p begin="02:37:21.840" end="02:37:27.200" style="s2">first approach where you only write on</p>
<p begin="02:37:25.200" end="02:37:30.399" style="s2">the master and tell verasad your job is</p>
<p begin="02:37:27.200" end="02:37:32.560" style="s2">done there is a problem with it your</p>
<p begin="02:37:30.399" end="02:37:38.280" style="s2">durability might get compromised what</p>
<p begin="02:37:32.560" end="02:37:38.280" style="s2">does that mean it means that What if</p>
<p begin="02:37:41.520" end="02:37:46.479" style="s2">what if something physically bad</p>
<p begin="02:37:44.160" end="02:37:49.280" style="s2">happened to the master? I wrote on the</p>
<p begin="02:37:46.479" end="02:37:52.160" style="s2">master but I did not copy it</p>
<p begin="02:37:49.280" end="02:37:54.000" style="s2">synchronously to any of the slaves and</p>
<p begin="02:37:52.160" end="02:37:56.800" style="s2">tomorrow</p>
<p begin="02:37:54.000" end="02:37:59.200" style="s2">uh somebody put the master on fire</p>
<p begin="02:37:56.800" end="02:38:00.960" style="s2">before the synchronization can happen.</p>
<p begin="02:37:59.200" end="02:38:04.160" style="s2">Do you think that data will get lost</p>
<p begin="02:38:00.960" end="02:38:07.120" style="s2">forever? What Vap Prasad wrote will get</p>
<p begin="02:38:04.160" end="02:38:10.319" style="s2">lost forever. Does that make all of us</p>
<p begin="02:38:07.120" end="02:38:12.640" style="s2">emotional? Vapra Prasad&#39;s important data</p>
<p begin="02:38:10.319" end="02:38:15.520" style="s2">being lost forever makes me emotional at</p>
<p begin="02:38:12.640" end="02:38:17.840" style="s2">least. Right? That that&#39;s unfortunate</p>
<p begin="02:38:15.520" end="02:38:20.800" style="s2">thing that happened with Wrasad,</p>
<p begin="02:38:17.840" end="02:38:24.160" style="s2">right? So you made a Facebook post and</p>
<p begin="02:38:20.800" end="02:38:27.040" style="s2">the master got on fire. Your Facebook</p>
<p begin="02:38:24.160" end="02:38:30.240" style="s2">post is lost forever.</p>
<p begin="02:38:27.040" end="02:38:33.600" style="s2">That&#39;s not a good thing. So if you want</p>
<p begin="02:38:30.240" end="02:38:35.280" style="s2">to ensure some level of durability</p>
<p begin="02:38:33.600" end="02:38:37.760" style="s2">just writing on the master and not</p>
<p begin="02:38:35.280" end="02:38:40.399" style="s2">copying on any of the slaves is not a</p>
<p begin="02:38:37.760" end="02:38:42.960" style="s2">good thing to do. Am I making sense? Is</p>
<p begin="02:38:40.399" end="02:38:44.880" style="s2">this making sense to everybody?</p>
<p begin="02:38:42.960" end="02:38:48.240" style="s2">So in a lot of applications you would if</p>
<p begin="02:38:44.880" end="02:38:49.840" style="s2">if your data persistence is critical if</p>
<p begin="02:38:48.240" end="02:38:52.399" style="s2">you would not want to lose something</p>
<p begin="02:38:49.840" end="02:38:54.319" style="s2">forever you would want to ensure that</p>
<p begin="02:38:52.399" end="02:38:56.160" style="s2">you are consist persisting on some of</p>
<p begin="02:38:54.319" end="02:38:57.840" style="s2">the slaves at least. Now I will give you</p>
<p begin="02:38:56.160" end="02:38:59.760" style="s2">some examples. Is everybody ready to</p>
<p begin="02:38:57.840" end="02:39:02.000" style="s2">take some examples? Is everybody</p>
<p begin="02:38:59.760" end="02:39:04.319" style="s2">interested to hear some examples? Let&#39;s</p>
<p begin="02:39:02.000" end="02:39:08.840" style="s2">hear the following examples. Let&#39;s say V</p>
<p begin="02:39:04.319" end="02:39:08.840" style="s2">Prasad wants to write. Okay,</p>
<p begin="02:39:10.160" end="02:39:14.880" style="s2">let&#39;s take an example that WA Prasad</p>
<p begin="02:39:13.120" end="02:39:17.920" style="s2">wants to write a post on Facebook,</p>
<p begin="02:39:14.880" end="02:39:19.359" style="s2">right? So they wrote a post on Facebook.</p>
<p begin="02:39:17.920" end="02:39:22.000" style="s2">How many of you have seen this happening</p>
<p begin="02:39:19.359" end="02:39:24.240" style="s2">that Vapras Prasad wrote a post and now</p>
<p begin="02:39:22.000" end="02:39:25.680" style="s2">they wrote a post on their laptop but</p>
<p begin="02:39:24.240" end="02:39:26.960" style="s2">they go and check their mobile and they</p>
<p begin="02:39:25.680" end="02:39:28.560" style="s2">are not seeing the post. Have you seen</p>
<p begin="02:39:26.960" end="02:39:30.319" style="s2">that happening folks? You made an</p>
<p begin="02:39:28.560" end="02:39:32.080" style="s2">Instagram post from one particular</p>
<p begin="02:39:30.319" end="02:39:34.880" style="s2">device. You go and see another device</p>
<p begin="02:39:32.080" end="02:39:37.680" style="s2">but you&#39;re not seeing that post for some</p>
<p begin="02:39:34.880" end="02:39:39.600" style="s2">time. Have you seen that? Why is that</p>
<p begin="02:39:37.680" end="02:39:41.840" style="s2">happening? Because they are doing some</p>
<p begin="02:39:39.600" end="02:39:43.920" style="s2">sort of eventual consistency where they</p>
<p begin="02:39:41.840" end="02:39:45.680" style="s2">would have written on some slaves but</p>
<p begin="02:39:43.920" end="02:39:47.359" style="s2">they have not written on every slave.</p>
<p begin="02:39:45.680" end="02:39:49.280" style="s2">And if you go and read some other slave</p>
<p begin="02:39:47.359" end="02:39:51.120" style="s2">you will not see that post. Does that</p>
<p begin="02:39:49.280" end="02:39:53.600" style="s2">make you happy guys? Does that make you</p>
<p begin="02:39:51.120" end="02:39:55.680" style="s2">happy? Isn&#39;t that amazing that we are</p>
<p begin="02:39:53.600" end="02:39:58.080" style="s2">able to relate the real life scenario</p>
<p begin="02:39:55.680" end="02:40:00.080" style="s2">with what we are studying in the class?</p>
<p begin="02:39:58.080" end="02:40:02.720" style="s2">So happy from a point of view of</p>
<p begin="02:40:00.080" end="02:40:06.640" style="s2">understanding system design. Right? On</p>
<p begin="02:40:02.720" end="02:40:09.920" style="s2">the other hand, would it be fine if V</p>
<p begin="02:40:06.640" end="02:40:12.720" style="s2">Prasad wrote a LinkedIn post and it was</p>
<p begin="02:40:09.920" end="02:40:15.680" style="s2">not only not available for some time but</p>
<p begin="02:40:12.720" end="02:40:19.280" style="s2">it is lost forever. You think that&#39;s a</p>
<p begin="02:40:15.680" end="02:40:21.680" style="s2">good experience? It&#39;s lost forever.</p>
<p begin="02:40:19.280" end="02:40:23.520" style="s2">That&#39;s not a good experience. We are</p>
<p begin="02:40:21.680" end="02:40:26.720" style="s2">fine with this being eventually</p>
<p begin="02:40:23.520" end="02:40:29.760" style="s2">consistent. We are fine with waiting for</p>
<p begin="02:40:26.720" end="02:40:31.920" style="s2">5 minutes or 2 minutes to see the post.</p>
<p begin="02:40:29.760" end="02:40:34.640" style="s2">But we are not fine with that post being</p>
<p begin="02:40:31.920" end="02:40:37.760" style="s2">lost forever. Which means that for</p>
<p begin="02:40:34.640" end="02:40:40.479" style="s2">posts, LinkedIn should not just copy on</p>
<p begin="02:40:37.760" end="02:40:42.319" style="s2">the on the master. It must copy on some</p>
<p begin="02:40:40.479" end="02:40:45.200" style="s2">of the slaves so that the post is not</p>
<p begin="02:40:42.319" end="02:40:47.600" style="s2">getting lost forever. On the other hand,</p>
<p begin="02:40:45.200" end="02:40:50.000" style="s2">I will give you another example. How</p>
<p begin="02:40:47.600" end="02:40:53.520" style="s2">many of you have seen that you go and</p>
<p begin="02:40:50.000" end="02:40:58.560" style="s2">like somebody&#39;s photo on Facebook</p>
<p begin="02:40:53.520" end="02:41:00.960" style="s2">and that like got lost forever.</p>
<p begin="02:40:58.560" end="02:41:04.399" style="s2">How many of you seen that happening? You</p>
<p begin="02:41:00.960" end="02:41:06.640" style="s2">like a photo with your mobile phone.</p>
<p begin="02:41:04.399" end="02:41:08.319" style="s2">You see on some other device that that</p>
<p begin="02:41:06.640" end="02:41:10.800" style="s2">like is not there. So okay let me</p>
<p begin="02:41:08.319" end="02:41:12.560" style="s2">explain that further. It might not</p>
<p begin="02:41:10.800" end="02:41:14.640" style="s2">happen that once you have seen the like</p>
<p begin="02:41:12.560" end="02:41:16.479" style="s2">it will always stay. That&#39;s true. But</p>
<p begin="02:41:14.640" end="02:41:19.520" style="s2">have you seen that you like something</p>
<p begin="02:41:16.479" end="02:41:22.479" style="s2">right now and</p>
<p begin="02:41:19.520" end="02:41:25.760" style="s2">you refresh it it&#39;s not there and it</p>
<p begin="02:41:22.479" end="02:41:27.359" style="s2">never got registered. This if you are an</p>
<p begin="02:41:25.760" end="02:41:29.760" style="s2">avid social media user you might have</p>
<p begin="02:41:27.359" end="02:41:31.520" style="s2">seen that. Hmon says that he has seen</p>
<p begin="02:41:29.760" end="02:41:33.920" style="s2">that on Instagram that you like</p>
<p begin="02:41:31.520" end="02:41:35.920" style="s2">something you refresh and you&#39;re not</p>
<p begin="02:41:33.920" end="02:41:38.720" style="s2">seeing it and you will never see it.</p>
<p begin="02:41:35.920" end="02:41:41.280" style="s2">Why? because that like might have gotten</p>
<p begin="02:41:38.720" end="02:41:44.319" style="s2">lost forever. Which means that for a</p>
<p begin="02:41:41.280" end="02:41:46.640" style="s2">like maybe it&#39;s not that critical for</p>
<p begin="02:41:44.319" end="02:41:48.160" style="s2">you to copy on a bunch of slaves. You</p>
<p begin="02:41:46.640" end="02:41:49.920" style="s2">can just write on the marks and you can</p>
<p begin="02:41:48.160" end="02:41:52.479" style="s2">tell the user that it&#39;s done because</p>
<p begin="02:41:49.920" end="02:41:54.720" style="s2">even if it&#39;s get if even if it get lost</p>
<p begin="02:41:52.479" end="02:41:56.880" style="s2">it&#39;s not a very big deal. Guys am I</p>
<p begin="02:41:54.720" end="02:42:00.560" style="s2">making sense? I&#39;m trying to tell you</p>
<p begin="02:41:56.880" end="02:42:02.960" style="s2">where to use this approach where to use</p>
<p begin="02:42:00.560" end="02:42:05.280" style="s2">this approach where to use this</p>
<p begin="02:42:02.960" end="02:42:07.600" style="s2">approach. Is this making sense to</p>
<p begin="02:42:05.280" end="02:42:09.840" style="s2">everybody in the class?</p>
<p begin="02:42:07.600" end="02:42:12.240" style="s2">Right now I will give you some examples</p>
<p begin="02:42:09.840" end="02:42:14.960" style="s2">and you will tell me what to what to</p>
<p begin="02:42:12.240" end="02:42:17.120" style="s2">prefer, what to use, how to build it.</p>
<p begin="02:42:14.960" end="02:42:19.040" style="s2">Right? So let&#39;s take an example of a</p>
<p begin="02:42:17.120" end="02:42:21.359" style="s2">banking system</p>
<p begin="02:42:19.040" end="02:42:23.040" style="s2">from a cap theorem perspective. Would</p>
<p begin="02:42:21.359" end="02:42:25.120" style="s2">you want your banking system to be</p>
<p begin="02:42:23.040" end="02:42:26.880" style="s2">consistent or available? Would you want</p>
<p begin="02:42:25.120" end="02:42:30.160" style="s2">your banking system to be consistent or</p>
<p begin="02:42:26.880" end="02:42:33.280" style="s2">available? Consistent.</p>
<p begin="02:42:30.160" end="02:42:35.520" style="s2">From a paceel perspective with respect</p>
<p begin="02:42:33.280" end="02:42:39.600" style="s2">to latency and consistent, would you</p>
<p begin="02:42:35.520" end="02:42:41.600" style="s2">want your banking system to be uh to be</p>
<p begin="02:42:39.600" end="02:42:43.840" style="s2">very low latency that it should be very</p>
<p begin="02:42:41.600" end="02:42:46.080" style="s2">fast or would you rather want it to be</p>
<p begin="02:42:43.840" end="02:42:48.880" style="s2">highly consistent that even if you take</p>
<p begin="02:42:46.080" end="02:42:50.560" style="s2">time please be consistent. So I hope</p>
<p begin="02:42:48.880" end="02:42:53.680" style="s2">everybody in the class appreciates that</p>
<p begin="02:42:50.560" end="02:42:56.479" style="s2">the banking systems need not be super uh</p>
<p begin="02:42:53.680" end="02:42:59.680" style="s2">super immediate right they need not be</p>
<p begin="02:42:56.479" end="02:43:01.840" style="s2">very low latency they may take time but</p>
<p begin="02:42:59.680" end="02:43:04.560" style="s2">they should be consistent. Have you</p>
<p begin="02:43:01.840" end="02:43:06.560" style="s2">noticed Google pay for example taking</p>
<p begin="02:43:04.560" end="02:43:09.120" style="s2">some time sometimes to register your</p>
<p begin="02:43:06.560" end="02:43:11.840" style="s2">request? You have seen that. Have you</p>
<p begin="02:43:09.120" end="02:43:13.920" style="s2">seen any to take some time? You have</p>
<p begin="02:43:11.840" end="02:43:17.680" style="s2">seen that it can be slightly high</p>
<p begin="02:43:13.920" end="02:43:19.520" style="s2">latency but it should not be un</p>
<p begin="02:43:17.680" end="02:43:22.319" style="s2">inconsistent. I hope everybody in the</p>
<p begin="02:43:19.520" end="02:43:24.640" style="s2">class is with me. Right now let&#39;s</p>
<p begin="02:43:22.319" end="02:43:28.880" style="s2">consider some more examples. Let&#39;s</p>
<p begin="02:43:24.640" end="02:43:31.040" style="s2">consider the example of you looking at</p>
<p begin="02:43:28.880" end="02:43:32.960" style="s2">Yeah. Yeah. That&#39;s a very interesting</p>
<p begin="02:43:31.040" end="02:43:35.760" style="s2">question. I will come to that. Let&#39;s</p>
<p begin="02:43:32.960" end="02:43:38.560" style="s2">let&#39;s look at an example of you loading</p>
<p begin="02:43:35.760" end="02:43:41.359" style="s2">your Facebook news feed.</p>
<p begin="02:43:38.560" end="02:43:42.720" style="s2">If a Facebook news feed is, do would you</p>
<p begin="02:43:41.359" end="02:43:44.399" style="s2">prefer availability or would you prefer</p>
<p begin="02:43:42.720" end="02:43:45.840" style="s2">consistency?</p>
<p begin="02:43:44.399" end="02:43:48.080" style="s2">Consistency basically means that</p>
<p begin="02:43:45.840" end="02:43:49.680" style="s2">whatever my friends have posted, I must</p>
<p begin="02:43:48.080" end="02:43:51.439" style="s2">see.</p>
<p begin="02:43:49.680" end="02:43:54.080" style="s2">Availability means that at least show me</p>
<p begin="02:43:51.439" end="02:43:55.120" style="s2">my newsfeed. Would you be fine by</p>
<p begin="02:43:54.080" end="02:43:56.640" style="s2">Facebook saying that hey I&#39;m not</p>
<p begin="02:43:55.120" end="02:43:58.640" style="s2">available let me come back but I will</p>
<p begin="02:43:56.640" end="02:44:01.760" style="s2">ensure that all the posts are visible to</p>
<p begin="02:43:58.640" end="02:44:04.000" style="s2">you. No, show me something man at least</p>
<p begin="02:44:01.760" end="02:44:05.840" style="s2">show me something. So availability is</p>
<p begin="02:44:04.000" end="02:44:07.279" style="s2">more preferable than consistency in a</p>
<p begin="02:44:05.840" end="02:44:09.200" style="s2">Facebook newsfeed. Is everybody in the</p>
<p begin="02:44:07.279" end="02:44:11.040" style="s2">class with me? Is everybody in the class</p>
<p begin="02:44:09.200" end="02:44:14.240" style="s2">with me?</p>
<p begin="02:44:11.040" end="02:44:16.399" style="s2">Second, is</p>
<p begin="02:44:14.240" end="02:44:17.920" style="s2">low latency more important or high</p>
<p begin="02:44:16.399" end="02:44:19.840" style="s2">consistency more important for Facebook</p>
<p begin="02:44:17.920" end="02:44:22.080" style="s2">newsfeed? Is low latency more important</p>
<p begin="02:44:19.840" end="02:44:24.800" style="s2">or high consistency more important? Low</p>
<p begin="02:44:22.080" end="02:44:27.040" style="s2">latency is more important. Right? Let&#39;s</p>
<p begin="02:44:24.800" end="02:44:30.319" style="s2">consider one more example. Let&#39;s say</p>
<p begin="02:44:27.040" end="02:44:34.080" style="s2">Facebook Messenger. you are talking to</p>
<p begin="02:44:30.319" end="02:44:38.240" style="s2">somebody on Facebook or let&#39;s say Google</p>
<p begin="02:44:34.080" end="02:44:40.560" style="s2">chat or or let&#39;s say uh Slack</p>
<p begin="02:44:38.240" end="02:44:42.240" style="s2">do you want your Slack messages to be</p>
<p begin="02:44:40.560" end="02:44:44.640" style="s2">consistent or do you want them to be</p>
<p begin="02:44:42.240" end="02:44:48.080" style="s2">available by consistent I mean if I send</p>
<p begin="02:44:44.640" end="02:44:50.319" style="s2">something to S must see it if I am</p>
<p begin="02:44:48.080" end="02:44:53.760" style="s2">seeing a red tick a blue tick s must</p>
<p begin="02:44:50.319" end="02:44:56.000" style="s2">have gotten it right</p>
<p begin="02:44:53.760" end="02:44:58.560" style="s2">it&#39;s it&#39;s it&#39;s not a very uh it&#39;s not a</p>
<p begin="02:44:56.000" end="02:44:59.920" style="s2">very black and white answer different</p>
<p begin="02:44:58.560" end="02:45:01.120" style="s2">machines that you build, different</p>
<p begin="02:44:59.920" end="02:45:02.960" style="s2">systems that you build, different</p>
<p begin="02:45:01.120" end="02:45:04.960" style="s2">chatting systems that you build might</p>
<p begin="02:45:02.960" end="02:45:06.240" style="s2">have different business use cases and</p>
<p begin="02:45:04.960" end="02:45:08.399" style="s2">you might want to choose something</p>
<p begin="02:45:06.240" end="02:45:12.240" style="s2">different. But let me give you an give</p>
<p begin="02:45:08.399" end="02:45:14.880" style="s2">you a scenario. You wrote I love you to</p>
<p begin="02:45:12.240" end="02:45:17.279" style="s2">somebody and you thought that that</p>
<p begin="02:45:14.880" end="02:45:19.840" style="s2">somebody has read the message but that</p>
<p begin="02:45:17.279" end="02:45:22.399" style="s2">somebody never got that message. Would</p>
<p begin="02:45:19.840" end="02:45:24.160" style="s2">you be fine with that? Would you be fine</p>
<p begin="02:45:22.399" end="02:45:27.520" style="s2">with your chatting system to not being</p>
<p begin="02:45:24.160" end="02:45:30.319" style="s2">consistent? No. you would you would get</p>
<p begin="02:45:27.520" end="02:45:32.720" style="s2">in a very bad state assuming that they</p>
<p begin="02:45:30.319" end="02:45:35.120" style="s2">ignored your message but they never got</p>
<p begin="02:45:32.720" end="02:45:37.200" style="s2">your message. So you might imagine a</p>
<p begin="02:45:35.120" end="02:45:38.880" style="s2">business use case where where you would</p>
<p begin="02:45:37.200" end="02:45:41.040" style="s2">want your chatting system to be</p>
<p begin="02:45:38.880" end="02:45:43.279" style="s2">consistent right it&#39;s a very animated</p>
<p begin="02:45:41.040" end="02:45:45.120" style="s2">example Anurat and hence would have also</p>
<p begin="02:45:43.279" end="02:45:46.720" style="s2">given it but on the other hand there</p>
<p begin="02:45:45.120" end="02:45:48.560" style="s2">might be some other chatting</p>
<p begin="02:45:46.720" end="02:45:51.200" style="s2">applications let&#39;s say you are building</p>
<p begin="02:45:48.560" end="02:45:53.120" style="s2">a chat application for a game okay how</p>
<p begin="02:45:51.200" end="02:45:55.359" style="s2">many of you have played massively multi</p>
<p begin="02:45:53.120" end="02:45:59.040" style="s2">uh multiplayer games like for example</p>
<p begin="02:45:55.359" end="02:46:02.000" style="s2">Fortnite or counterike etc where you say</p>
<p begin="02:45:59.040" end="02:46:05.279" style="s2">something where you chat etc do you</p>
<p begin="02:46:02.000" end="02:46:08.240" style="s2">understand that Here availability is lot</p>
<p begin="02:46:05.279" end="02:46:11.760" style="s2">more important than consistency that if</p>
<p begin="02:46:08.240" end="02:46:14.319" style="s2">your game has paused it has very high</p>
<p begin="02:46:11.760" end="02:46:15.920" style="s2">latency. It is not available that is bad</p>
<p begin="02:46:14.319" end="02:46:18.160" style="s2">as compared to consistency. There might</p>
<p begin="02:46:15.920" end="02:46:20.720" style="s2">be a active action that you might have</p>
<p begin="02:46:18.160" end="02:46:22.880" style="s2">done which is lost but that&#39;s fine but</p>
<p begin="02:46:20.720" end="02:46:25.680" style="s2">it should be very low ping. It should be</p>
<p begin="02:46:22.880" end="02:46:28.000" style="s2">very low latency at the same same time</p>
<p begin="02:46:25.680" end="02:46:29.840" style="s2">it should be available. Guys am I making</p>
<p begin="02:46:28.000" end="02:46:32.240" style="s2">some sense? And even a chatting</p>
<p begin="02:46:29.840" end="02:46:34.479" style="s2">application for a gaming application</p>
<p begin="02:46:32.240" end="02:46:36.319" style="s2">might prefer availability over</p>
<p begin="02:46:34.479" end="02:46:38.319" style="s2">consistency. Is that making is that</p>
<p begin="02:46:36.319" end="02:46:41.840" style="s2">making sense? Because you&#39;re not going</p>
<p begin="02:46:38.319" end="02:46:45.760" style="s2">to go and write I love you on a chat on</p>
<p begin="02:46:41.840" end="02:46:47.920" style="s2">a on a chat in a in a game, right? I</p>
<p begin="02:46:45.760" end="02:46:53.600" style="s2">hope that makes sense,</p>
<p begin="02:46:47.920" end="02:46:56.479" style="s2">right? Is WhatsApp CP or AP? So WhatsApp</p>
<p begin="02:46:53.600" end="02:46:58.399" style="s2">is basically consistent</p>
<p begin="02:46:56.479" end="02:47:00.160" style="s2">and it may not be available all the</p>
<p begin="02:46:58.399" end="02:47:02.000" style="s2">time.</p>
<p begin="02:47:00.160" end="02:47:04.720" style="s2">Have you seen that Satendra? It may not</p>
<p begin="02:47:02.000" end="02:47:06.720" style="s2">be available all the time. Right? What</p>
<p begin="02:47:04.720" end="02:47:08.880" style="s2">is low ping? Low ping basically means</p>
<p begin="02:47:06.720" end="02:47:10.560" style="s2">low latency. Low ping basically means</p>
<p begin="02:47:08.880" end="02:47:14.560" style="s2">it&#39;s replying back to your requests</p>
<p begin="02:47:10.560" end="02:47:16.960" style="s2">quickly. Right? Cool guys. So I have</p>
<p begin="02:47:14.560" end="02:47:19.200" style="s2">covered a bunch of things in a lot of</p>
<p begin="02:47:16.960" end="02:47:20.960" style="s2">detail. If there are any questions I can</p>
<p begin="02:47:19.200" end="02:47:22.160" style="s2">stay back and answer them. I see 13</p>
<p begin="02:47:20.960" end="02:47:23.680" style="s2">questions. and I will stay and answer</p>
<p begin="02:47:22.160" end="02:47:25.120" style="s2">them. If you want to raise your hand,</p>
<p begin="02:47:23.680" end="02:47:27.200" style="s2">raise your hand. Would love to interact</p>
<p begin="02:47:25.120" end="02:47:31.920" style="s2">with you and you can ask me anything</p>
<p begin="02:47:27.200" end="02:47:34.000" style="s2">under the sun. Right. Uh</p>
<p begin="02:47:31.920" end="02:47:36.640" style="s2">okay, I will answer unmute people one by</p>
<p begin="02:47:34.000" end="02:47:39.279" style="s2">one. Uh Sav on WhatsApp I was saying</p>
<p begin="02:47:36.640" end="02:47:41.120" style="s2">that hey WhatsApp needs to be consistent</p>
<p begin="02:47:39.279" end="02:47:43.840" style="s2">more than available. Does that make</p>
<p begin="02:47:41.120" end="02:47:47.040" style="s2">sense? S hey Vabasad please tell me</p>
<p begin="02:47:43.840" end="02:47:51.040" style="s2">&gt;&gt; like uh so like uh a question was asked</p>
<p begin="02:47:47.040" end="02:47:54.080" style="s2">in some HLD interview like for me. So I</p>
<p begin="02:47:51.040" end="02:47:56.000" style="s2">had a system like database it is daily</p>
<p begin="02:47:54.080" end="02:47:56.800" style="s2">refreshed at one time.</p>
<p begin="02:47:56.000" end="02:47:59.040" style="s2">&gt;&gt; Okay.</p>
<p begin="02:47:56.800" end="02:48:02.960" style="s2">&gt;&gt; I had some endpoints</p>
<p begin="02:47:59.040" end="02:48:05.279" style="s2">like some web pace kind of things. So</p>
<p begin="02:48:02.960" end="02:48:07.439" style="s2">like uh if the data is refreshing in</p>
<p begin="02:48:05.279" end="02:48:09.279" style="s2">that scenarios like the data should be</p>
<p begin="02:48:07.439" end="02:48:11.279" style="s2">like it should be available or it should</p>
<p begin="02:48:09.279" end="02:48:13.439" style="s2">be consistent.</p>
<p begin="02:48:11.279" end="02:48:16.240" style="s2">&gt;&gt; When you say the data is being refreshed</p>
<p begin="02:48:13.439" end="02:48:18.880" style="s2">daily what exactly is meant by that? The</p>
<p begin="02:48:16.240" end="02:48:20.399" style="s2">database is refreshed every day at</p>
<p begin="02:48:18.880" end="02:48:23.040" style="s2">particular time.</p>
<p begin="02:48:20.399" end="02:48:23.279" style="s2">&gt;&gt; So it it gets new new data, right? It</p>
<p begin="02:48:23.040" end="02:48:24.880" style="s2">gets</p>
<p begin="02:48:23.279" end="02:48:27.279" style="s2">&gt;&gt; Yeah, it gets new new data</p>
<p begin="02:48:24.880" end="02:48:28.800" style="s2">&gt;&gt; at a particular time point in time.</p>
<p begin="02:48:27.279" end="02:48:31.920" style="s2">&gt;&gt; Now what you&#39;re saying is whether you</p>
<p begin="02:48:28.800" end="02:48:33.600" style="s2">would want your system to be available</p>
<p begin="02:48:31.920" end="02:48:33.920" style="s2">&gt;&gt; or consistent.</p>
<p begin="02:48:33.600" end="02:48:36.560" style="s2">&gt;&gt; Okay.</p>
<p begin="02:48:33.920" end="02:48:37.920" style="s2">&gt;&gt; So like I have some VBA which some users</p>
<p begin="02:48:36.560" end="02:48:40.479" style="s2">will be using.</p>
<p begin="02:48:37.920" end="02:48:42.720" style="s2">&gt;&gt; Mhm. So in this case like whether I</p>
<p begin="02:48:40.479" end="02:48:43.200" style="s2">should go with consistent or with uh</p>
<p begin="02:48:42.720" end="02:48:45.359" style="s2">like</p>
<p begin="02:48:43.200" end="02:48:47.439" style="s2">&gt;&gt; so that totally depends on the business</p>
<p begin="02:48:45.359" end="02:48:49.120" style="s2">use case where Prasad. So let&#39;s talk</p>
<p begin="02:48:47.439" end="02:48:51.920" style="s2">about what kind of a data is that you</p>
<p begin="02:48:49.120" end="02:48:53.600" style="s2">should ask with your with your whosoever</p>
<p begin="02:48:51.920" end="02:48:54.800" style="s2">is taking your interview and hey tell me</p>
<p begin="02:48:53.600" end="02:48:56.160" style="s2">what kind of a use case this is what</p>
<p begin="02:48:54.800" end="02:48:57.840" style="s2">kind of a data is this. So let me give</p>
<p begin="02:48:56.160" end="02:48:59.279" style="s2">you both the scenarios and based on the</p>
<p begin="02:48:57.840" end="02:49:00.640" style="s2">data you can also take a call which</p>
<p begin="02:48:59.279" end="02:49:03.279" style="s2">makes more sense right. So try to</p>
<p begin="02:49:00.640" end="02:49:05.920" style="s2">understand when your databases are</p>
<p begin="02:49:03.279" end="02:49:08.319" style="s2">getting refreshed or updated your</p>
<p begin="02:49:05.920" end="02:49:11.520" style="s2">database might get unavailable for some</p>
<p begin="02:49:08.319" end="02:49:14.640" style="s2">time if you want it to remain highly</p>
<p begin="02:49:11.520" end="02:49:17.439" style="s2">consistent. If you want people to get</p>
<p begin="02:49:14.640" end="02:49:18.960" style="s2">the correct view all the time you will</p>
<p begin="02:49:17.439" end="02:49:20.319" style="s2">have to at that point in time not</p>
<p begin="02:49:18.960" end="02:49:22.319" style="s2">interact with the database because it&#39;s</p>
<p begin="02:49:20.319" end="02:49:24.319" style="s2">getting updated. So you can you can say</p>
<p begin="02:49:22.319" end="02:49:26.000" style="s2">that hey I&#39;m choosing consistency I&#39;m</p>
<p begin="02:49:24.319" end="02:49:28.560" style="s2">not available for the time my databases</p>
<p begin="02:49:26.000" end="02:49:30.080" style="s2">get updated. I&#39;m fine with that. On the</p>
<p begin="02:49:28.560" end="02:49:32.800" style="s2">other hand, if that&#39;s not very critical</p>
<p begin="02:49:30.080" end="02:49:34.160" style="s2">data and you might have cached that data</p>
<p begin="02:49:32.800" end="02:49:36.319" style="s2">somewhere or a copy of that data</p>
<p begin="02:49:34.160" end="02:49:38.160" style="s2">somewhere. So now when the database is</p>
<p begin="02:49:36.319" end="02:49:41.439" style="s2">getting updated, you might want to refer</p>
<p begin="02:49:38.160" end="02:49:43.600" style="s2">that copy and and show some stale data</p>
<p begin="02:49:41.439" end="02:49:45.680" style="s2">to the users and in a way you are</p>
<p begin="02:49:43.600" end="02:49:46.880" style="s2">available all the time but you are not</p>
<p begin="02:49:45.680" end="02:49:50.240" style="s2">consistent.</p>
<p begin="02:49:46.880" end="02:49:51.600" style="s2">&gt;&gt; Okay. Okay. If it was a SQL DB, most</p>
<p begin="02:49:50.240" end="02:49:53.439" style="s2">likely they would be storing data that</p>
<p begin="02:49:51.600" end="02:49:54.800" style="s2">requires high consistency and you would</p>
<p begin="02:49:53.439" end="02:49:57.120" style="s2">want to say that hey, I would prefer</p>
<p begin="02:49:54.800" end="02:49:59.439" style="s2">consistency over availability. But it</p>
<p begin="02:49:57.120" end="02:50:01.760" style="s2">depends on the use case whether you want</p>
<p begin="02:49:59.439" end="02:50:04.640" style="s2">your system to be highly consistent at</p>
<p begin="02:50:01.760" end="02:50:07.120" style="s2">that time and hence not being available</p>
<p begin="02:50:04.640" end="02:50:10.080" style="s2">because it&#39;s getting updated or you are</p>
<p begin="02:50:07.120" end="02:50:11.520" style="s2">fine with getting giving wrong data but</p>
<p begin="02:50:10.080" end="02:50:13.279" style="s2">you&#39;re not fine with not being available</p>
<p begin="02:50:11.520" end="02:50:15.279" style="s2">and hence you can choose availability or</p>
<p begin="02:50:13.279" end="02:50:16.880" style="s2">consistency depends on the use case but</p>
<p begin="02:50:15.279" end="02:50:18.160" style="s2">I have explained both the scenarios to</p>
<p begin="02:50:16.880" end="02:50:20.319" style="s2">you. Does that make sense?</p>
<p begin="02:50:18.160" end="02:50:23.920" style="s2">&gt;&gt; Yeah. Okay. Okay. Thanks. Thanks.</p>
<p begin="02:50:20.319" end="02:50:26.240" style="s2">&gt;&gt; Thanks. Thanks. Thank you. Uh Ashit has</p>
<p begin="02:50:23.920" end="02:50:29.279" style="s2">asked to be noted. Thank please tell me</p>
<p begin="02:50:26.240" end="02:50:30.560" style="s2">and everybody who is uh telling me that</p>
<p begin="02:50:29.279" end="02:50:32.479" style="s2">it was a good lecture. Thanks a lot for</p>
<p begin="02:50:30.560" end="02:50:34.720" style="s2">saying that. It really means a lot. Uh</p>
<p begin="02:50:32.479" end="02:50:37.920" style="s2">it was very nice talking to all of you.</p>
<p begin="02:50:34.720" end="02:50:40.720" style="s2">Uh thanks a lot. Uh please Ash go on.</p>
<p begin="02:50:37.920" end="02:50:43.200" style="s2">&gt;&gt; Yeah. Hi Taran. Uh yeah it&#39;s not related</p>
<p begin="02:50:40.720" end="02:50:44.880" style="s2">to the uh consistency or availability.</p>
<p begin="02:50:43.200" end="02:50:47.600" style="s2">It&#39;s just related to the master slave</p>
<p begin="02:50:44.880" end="02:50:50.399" style="s2">architecture. Uh so I just want to know</p>
<p begin="02:50:47.600" end="02:50:53.680" style="s2">how does this this architecture come</p>
<p begin="02:50:50.399" end="02:50:56.960" style="s2">into picture when when we have a cache</p>
<p begin="02:50:53.680" end="02:50:59.600" style="s2">or any sort of in place.</p>
<p begin="02:50:56.960" end="02:51:01.120" style="s2">&gt;&gt; Okay. So master slave what I&#39;m talking</p>
<p begin="02:50:59.600" end="02:51:02.560" style="s2">about is respect to one system right</p>
<p begin="02:51:01.120" end="02:51:04.960" style="s2">now. So you can discuss master slave</p>
<p begin="02:51:02.560" end="02:51:06.880" style="s2">with respect to a with respect to a</p>
<p begin="02:51:04.960" end="02:51:08.479" style="s2">database. You can discuss master slave</p>
<p begin="02:51:06.880" end="02:51:10.240" style="s2">with respect to anything else but</p>
<p begin="02:51:08.479" end="02:51:12.160" style="s2">primarily it&#39;s about database. When you</p>
<p begin="02:51:10.240" end="02:51:15.040" style="s2">think about caching, it&#39;s a different</p>
<p begin="02:51:12.160" end="02:51:17.200" style="s2">layer where you save a copy of what&#39;s in</p>
<p begin="02:51:15.040" end="02:51:19.760" style="s2">the database and use that copy to serve</p>
<p begin="02:51:17.200" end="02:51:21.680" style="s2">request. That cache might be in sync,</p>
<p begin="02:51:19.760" end="02:51:23.760" style="s2">out of sync. So would have taught you</p>
<p begin="02:51:21.680" end="02:51:25.680" style="s2">about uh write through, write back,</p>
<p begin="02:51:23.760" end="02:51:27.439" style="s2">write around, etc. That&#39;s a different</p>
<p begin="02:51:25.680" end="02:51:29.040" style="s2">scenario. But when I but when I say</p>
<p begin="02:51:27.439" end="02:51:30.800" style="s2">master slave, I essentially mean that</p>
<p begin="02:51:29.040" end="02:51:33.040" style="s2">hey your database boxes will have a</p>
<p begin="02:51:30.800" end="02:51:34.720" style="s2">master will have a bunch of slaves. If</p>
<p begin="02:51:33.040" end="02:51:37.040" style="s2">you want the master slave replication</p>
<p begin="02:51:34.720" end="02:51:39.520" style="s2">because that will aid your that will aid</p>
<p begin="02:51:37.040" end="02:51:41.120" style="s2">your uh reads that will also make your</p>
<p begin="02:51:39.520" end="02:51:42.800" style="s2">data more durable. It&#39;s a different</p>
<p begin="02:51:41.120" end="02:51:44.960" style="s2">concept. It&#39;s an orthogonal concept to</p>
<p begin="02:51:42.800" end="02:51:46.720" style="s2">caching. It&#39;s not sort of merged with</p>
<p begin="02:51:44.960" end="02:51:49.359" style="s2">caching. Does that make sense?</p>
<p begin="02:51:46.720" end="02:51:52.000" style="s2">&gt;&gt; Okay. Okay. So it it comes into picture</p>
<p begin="02:51:49.359" end="02:51:52.319" style="s2">only when uh we reach the database part</p>
<p begin="02:51:52.000" end="02:51:54.080" style="s2">not</p>
<p begin="02:51:52.319" end="02:51:54.960" style="s2">&gt;&gt; right. So it&#39;s it&#39;s a database layer</p>
<p begin="02:51:54.080" end="02:51:57.439" style="s2">layer concept. Right.</p>
<p begin="02:51:54.960" end="02:51:59.520" style="s2">&gt;&gt; Yeah. So is this concept applicable for</p>
<p begin="02:51:57.439" end="02:52:03.040" style="s2">the cache layer also like if there is</p>
<p begin="02:51:59.520" end="02:52:05.920" style="s2">&gt;&gt; you you can you can but the kind of the</p>
<p begin="02:52:03.040" end="02:52:07.680" style="s2">kind of problem that a cache is solving</p>
<p begin="02:52:05.920" end="02:52:09.600" style="s2">having master slave there does not make</p>
<p begin="02:52:07.680" end="02:52:11.200" style="s2">a lot of sense. So master slave is a is</p>
<p begin="02:52:09.600" end="02:52:13.600" style="s2">a very fundamental concept you can use</p>
<p begin="02:52:11.200" end="02:52:15.439" style="s2">it anywhere but using it on caching will</p>
<p begin="02:52:13.600" end="02:52:17.680" style="s2">not mean make a lot of sense in a lot of</p>
<p begin="02:52:15.439" end="02:52:19.920" style="s2">cases right but in databases it will</p>
<p begin="02:52:17.680" end="02:52:22.080" style="s2">make sense in almost every case.</p>
<p begin="02:52:19.920" end="02:52:24.399" style="s2">&gt;&gt; Okay yeah thank you.</p>
<p begin="02:52:22.080" end="02:52:26.240" style="s2">&gt;&gt; Thanks a lot. Thank you. Anybody else</p>
<p begin="02:52:24.399" end="02:52:27.680" style="s2">wants to be unmuted? Nobody else wants</p>
<p begin="02:52:26.240" end="02:52:30.720" style="s2">to be muted. So I will take the</p>
<p begin="02:52:27.680" end="02:52:32.800" style="s2">questions on the chat and I answer them</p>
<p begin="02:52:30.720" end="02:52:34.000" style="s2">and on the questions tab Shu has a</p>
<p begin="02:52:32.800" end="02:52:35.840" style="s2">question but sometimes you observe that</p>
<p begin="02:52:34.000" end="02:52:37.120" style="s2">in WhatsApp if somebody&#39;s online you</p>
<p begin="02:52:35.840" end="02:52:39.040" style="s2">deliver the message but a single tick</p>
<p begin="02:52:37.120" end="02:52:40.399" style="s2">takes some minutes to take double tick.</p>
<p begin="02:52:39.040" end="02:52:42.240" style="s2">See both the person are chatting at the</p>
<p begin="02:52:40.399" end="02:52:44.399" style="s2">same time. What&#39;s such case right? So</p>
<p begin="02:52:42.240" end="02:52:46.800" style="s2">when it only shows you a single tick and</p>
<p begin="02:52:44.399" end="02:52:50.080" style="s2">not a double tick understand sham that</p>
<p begin="02:52:46.800" end="02:52:52.160" style="s2">it is throwing high latency and it is</p>
<p begin="02:52:50.080" end="02:52:53.920" style="s2">also being in a way unavailable. So you</p>
<p begin="02:52:52.160" end="02:52:56.240" style="s2">have sent something but that something</p>
<p begin="02:52:53.920" end="02:52:58.319" style="s2">has not been registered. Does that make</p>
<p begin="02:52:56.240" end="02:53:01.120" style="s2">sense to him? Have you seen on WhatsApp</p>
<p begin="02:52:58.319" end="02:53:02.720" style="s2">that sometime WhatsApp says please re</p>
<p begin="02:53:01.120" end="02:53:04.080" style="s2">please try resending. You might not have</p>
<p begin="02:53:02.720" end="02:53:05.600" style="s2">seen that on WhatsApp but you have would</p>
<p begin="02:53:04.080" end="02:53:06.880" style="s2">have seen that on Facebook chat. How</p>
<p begin="02:53:05.600" end="02:53:08.560" style="s2">many of you have seen that on Facebook</p>
<p begin="02:53:06.880" end="02:53:09.680" style="s2">chat that Facebook tells you your</p>
<p begin="02:53:08.560" end="02:53:12.240" style="s2">message could not be delivered please</p>
<p begin="02:53:09.680" end="02:53:13.520" style="s2">try resending. Have you seen that? You</p>
<p begin="02:53:12.240" end="02:53:15.520" style="s2">might have seen that on WhatsApp as</p>
<p begin="02:53:13.520" end="02:53:17.840" style="s2">well. That is your system being</p>
<p begin="02:53:15.520" end="02:53:20.240" style="s2">unavailable at that time and choosing</p>
<p begin="02:53:17.840" end="02:53:22.000" style="s2">consistency. On the other hand, you</p>
<p begin="02:53:20.240" end="02:53:23.439" style="s2">might have also seen that somebody you</p>
<p begin="02:53:22.000" end="02:53:25.120" style="s2">sent a message but you are only getting</p>
<p begin="02:53:23.439" end="02:53:28.080" style="s2">a single tick, not getting a double</p>
<p begin="02:53:25.120" end="02:53:31.120" style="s2">tick, which means that your latency for</p>
<p begin="02:53:28.080" end="02:53:33.120" style="s2">delivery is high but WhatsApp is trying</p>
<p begin="02:53:31.120" end="02:53:35.760" style="s2">WhatsApp is trying to be consistent for</p>
<p begin="02:53:33.120" end="02:53:38.160" style="s2">you. Am I making sense for everybody?</p>
<p begin="02:53:35.760" end="02:53:41.279" style="s2">Does that make sense?</p>
<p begin="02:53:38.160" end="02:53:44.600" style="s2">That&#39;s great.</p>
<p begin="02:53:41.279" end="02:53:44.600" style="s2">Yes, Shbam.</p>
<p begin="02:53:45.760" end="02:53:51.760" style="s2">Uh most likely I will be in unc</p>
<p begin="02:53:48.160" end="02:53:53.359" style="s2">inconsistent for your batch. Karu Mangi.</p>
<p begin="02:53:51.760" end="02:53:55.680" style="s2">Uh</p>
<p begin="02:53:53.359" end="02:53:58.160" style="s2">yes. So yeah distributed caches like</p>
<p begin="02:53:55.680" end="02:54:03.279" style="s2">radius you can have master slave</p>
<p begin="02:53:58.160" end="02:54:04.800" style="s2">architecture there and I will maybe uh</p>
<p begin="02:54:03.279" end="02:54:06.640" style="s2">maybe reddis will be discussed in great</p>
<p begin="02:54:04.800" end="02:54:09.040" style="s2">detail. If it is not discussed I will</p>
<p begin="02:54:06.640" end="02:54:10.560" style="s2">share some resources on redisk and you</p>
<p begin="02:54:09.040" end="02:54:12.399" style="s2">can go through them. I have taken a</p>
<p begin="02:54:10.560" end="02:54:15.680" style="s2">bunch of classes on redisk. I can share</p>
<p begin="02:54:12.399" end="02:54:17.200" style="s2">them with you.</p>
<p begin="02:54:15.680" end="02:54:18.399" style="s2">So for that you can reach out to the</p>
<p begin="02:54:17.200" end="02:54:21.359" style="s2">scaler support and they can help you</p>
<p begin="02:54:18.399" end="02:54:23.920" style="s2">with that.</p>
<p begin="02:54:21.359" end="02:54:26.160" style="s2">Uh so most of the SQL systems do not</p>
<p begin="02:54:23.920" end="02:54:28.080" style="s2">natively support it but a lot of systems</p>
<p begin="02:54:26.160" end="02:54:29.600" style="s2">SQL system have started to support it</p>
<p begin="02:54:28.080" end="02:54:31.680" style="s2">even if the SQL system does not support</p>
<p begin="02:54:29.600" end="02:54:33.760" style="s2">it out of the box. You can configure it</p>
<p begin="02:54:31.680" end="02:54:36.399" style="s2">yourself. You will require some sort of</p>
<p begin="02:54:33.760" end="02:54:38.319" style="s2">a zookeeper or some sort of a manager at</p>
<p begin="02:54:36.399" end="02:54:40.479" style="s2">the top. So you&#39;ll have to have some</p>
<p begin="02:54:38.319" end="02:54:43.479" style="s2">abstraction layer and you can you can do</p>
<p begin="02:54:40.479" end="02:54:43.479" style="s2">that.</p>
<p begin="02:54:43.520" end="02:54:48.240" style="s2">Cool. I will now take questions from the</p>
<p begin="02:54:46.319" end="02:54:50.720" style="s2">uh from the Okay. What are the</p>
<p begin="02:54:48.240" end="02:54:52.399" style="s2">strategies for high revy systems? High</p>
<p begin="02:54:50.720" end="02:54:54.560" style="s2">heavy systems are basically master</p>
<p begin="02:54:52.399" end="02:54:56.399" style="s2">master systems. Prague will teach you</p>
<p begin="02:54:54.560" end="02:54:59.279" style="s2">that in one of the storage classes. So</p>
<p begin="02:54:56.399" end="02:55:00.720" style="s2">master master will be covered later.</p>
<p begin="02:54:59.279" end="02:55:02.160" style="s2">So let me let me go through the</p>
<p begin="02:55:00.720" end="02:55:04.479" style="s2">questions. Let me go through the</p>
<p begin="02:55:02.160" end="02:55:07.279" style="s2">questions and answer them one by one. Uh</p>
<p begin="02:55:04.479" end="02:55:09.600" style="s2">I will go to the question which is asked</p>
<p begin="02:55:07.279" end="02:55:12.800" style="s2">which is uploaded the most or maybe I</p>
<p begin="02:55:09.600" end="02:55:15.359" style="s2">can go to the most recent question. So</p>
<p begin="02:55:12.800" end="02:55:17.040" style="s2">the recent question is how replication</p>
<p begin="02:55:15.359" end="02:55:19.600" style="s2">happen in the slaves if new rights are</p>
<p begin="02:55:17.040" end="02:55:21.120" style="s2">performed on the master. Can we discuss</p>
<p begin="02:55:19.600" end="02:55:23.840" style="s2">more scenarios and slave can go down and</p>
<p begin="02:55:21.120" end="02:55:24.880" style="s2">master can go down. So replication there</p>
<p begin="02:55:23.840" end="02:55:26.960" style="s2">can be multiple ways in which</p>
<p begin="02:55:24.880" end="02:55:29.920" style="s2">replication can run sunk. It can be</p>
<p begin="02:55:26.960" end="02:55:31.760" style="s2">either in a synchronized fashion that</p>
<p begin="02:55:29.920" end="02:55:33.120" style="s2">while a right is done you ensure that it</p>
<p begin="02:55:31.760" end="02:55:35.279" style="s2">is written on the slave and only then</p>
<p begin="02:55:33.120" end="02:55:37.200" style="s2">you tell the master then then you tell</p>
<p begin="02:55:35.279" end="02:55:39.520" style="s2">the user that right is done. This is</p>
<p begin="02:55:37.200" end="02:55:40.960" style="s2">called as sync. Uh this is one way.</p>
<p begin="02:55:39.520" end="02:55:42.960" style="s2">Another way can be that you do in an</p>
<p begin="02:55:40.960" end="02:55:45.200" style="s2">offline fashion as I discussed that you</p>
<p begin="02:55:42.960" end="02:55:47.840" style="s2">can write later. Now what can happen if</p>
<p begin="02:55:45.200" end="02:55:50.560" style="s2">this master goes down and there is some</p>
<p begin="02:55:47.840" end="02:55:52.399" style="s2">slave which has the latest right then a</p>
<p begin="02:55:50.560" end="02:55:53.680" style="s2">new master will get elected. There is</p>
<p begin="02:55:52.399" end="02:55:56.240" style="s2">called as something called master</p>
<p begin="02:55:53.680" end="02:55:58.479" style="s2">election protocol and a new master will</p>
<p begin="02:55:56.240" end="02:56:00.560" style="s2">get elected out of the present slaves</p>
<p begin="02:55:58.479" end="02:56:02.080" style="s2">and it will start acting as a master.</p>
<p begin="02:56:00.560" end="02:56:03.600" style="s2">There are a lot of other concepts to be</p>
<p begin="02:56:02.080" end="02:56:06.479" style="s2">discussed here which we&#39;ll discuss in</p>
<p begin="02:56:03.600" end="02:56:08.960" style="s2">the next few classes. Okay Sankit I hope</p>
<p begin="02:56:06.479" end="02:56:11.439" style="s2">I have answered this now. Can you throw</p>
<p begin="02:56:08.960" end="02:56:14.960" style="s2">some light on cap theorem versus asset</p>
<p begin="02:56:11.439" end="02:56:18.640" style="s2">in cases of databases? So asset is a</p>
<p begin="02:56:14.960" end="02:56:22.240" style="s2">asset is a property of SQL databases uh</p>
<p begin="02:56:18.640" end="02:56:26.240" style="s2">where you have atomicity consistency uh</p>
<p begin="02:56:22.240" end="02:56:28.399" style="s2">and uh durability and uh I am just</p>
<p begin="02:56:26.240" end="02:56:29.439" style="s2">missing the term of I but I I I can</p>
<p begin="02:56:28.399" end="02:56:31.840" style="s2">explain that. So basically it&#39;s</p>
<p begin="02:56:29.439" end="02:56:33.600" style="s2">isolation levels. So that&#39;s something</p>
<p begin="02:56:31.840" end="02:56:36.319" style="s2">which is totally something different to</p>
<p begin="02:56:33.600" end="02:56:38.319" style="s2">do with SQL databases. Cap theorem is</p>
<p begin="02:56:36.319" end="02:56:41.040" style="s2">not sort of directly related to it. So I</p>
<p begin="02:56:38.319" end="02:56:42.640" style="s2">I can&#39;t draw a parallel between them.</p>
<p begin="02:56:41.040" end="02:56:44.240" style="s2">Why network is called unreliable? For</p>
<p begin="02:56:42.640" end="02:56:45.439" style="s2">example, let&#39;s say there is a sub 10</p>
<p begin="02:56:44.240" end="02:56:47.359" style="s2">machines in the subset. How can the</p>
<p begin="02:56:45.439" end="02:56:49.760" style="s2">network be unreliable? Koshik, network</p>
<p begin="02:56:47.359" end="02:56:52.080" style="s2">is always unreliable. Network is always</p>
<p begin="02:56:49.760" end="02:56:55.439" style="s2">something which you cannot bank on all</p>
<p begin="02:56:52.080" end="02:56:58.399" style="s2">the time. It&#39;s not something that uh</p>
<p begin="02:56:55.439" end="02:56:59.920" style="s2">it&#39;s not something that uh will function</p>
<p begin="02:56:58.399" end="02:57:02.000" style="s2">all the time. It can always be</p>
<p begin="02:56:59.920" end="02:57:03.680" style="s2">unavailable. Uh this is the</p>
<p begin="02:57:02.000" end="02:57:05.200" style="s2">characteristic of the network. The</p>
<p begin="02:57:03.680" end="02:57:07.200" style="s2">network basically means that there are a</p>
<p begin="02:57:05.200" end="02:57:08.880" style="s2">lot of moving parts involved for your</p>
<p begin="02:57:07.200" end="02:57:10.640" style="s2">message from the source to be delivered</p>
<p begin="02:57:08.880" end="02:57:12.319" style="s2">to the destination. There are so many</p>
<p begin="02:57:10.640" end="02:57:14.880" style="s2">moving parts involved and anything can</p>
<p begin="02:57:12.319" end="02:57:17.279" style="s2">be down and hence your message need not</p>
<p begin="02:57:14.880" end="02:57:19.040" style="s2">get transferred whenever you want them</p>
<p begin="02:57:17.279" end="02:57:21.600" style="s2">to be transferred. So it&#39;s always</p>
<p begin="02:57:19.040" end="02:57:23.040" style="s2">unreliable. S which protocol is used for</p>
<p begin="02:57:21.600" end="02:57:24.800" style="s2">combination with replicas? Please</p>
<p begin="02:57:23.040" end="02:57:26.319" style="s2">discuss master slave versus peer-to-peer</p>
<p begin="02:57:24.800" end="02:57:28.399" style="s2">and other application strategy.</p>
<p begin="02:57:26.319" end="02:57:31.760" style="s2">Peer-to-peer is different. It&#39;s somewhat</p>
<p begin="02:57:28.399" end="02:57:34.160" style="s2">of a master master. Master slave is one</p>
<p begin="02:57:31.760" end="02:57:37.040" style="s2">place to write multiple places to read</p>
<p begin="02:57:34.160" end="02:57:38.399" style="s2">from. Uh what protocols are used?</p>
<p begin="02:57:37.040" end="02:57:40.880" style="s2">Different protocols are used for</p>
<p begin="02:57:38.399" end="02:57:42.880" style="s2">different scenarios. There are some</p>
<p begin="02:57:40.880" end="02:57:45.120" style="s2">popular master save application</p>
<p begin="02:57:42.880" end="02:57:48.319" style="s2">protocols. You can read more about them</p>
<p begin="02:57:45.120" end="02:57:50.160" style="s2">uh yourself. Uh then there&#39;s a question</p>
<p begin="02:57:48.319" end="02:57:51.920" style="s2">how will we deal with HTTP request?</p>
<p begin="02:57:50.160" end="02:57:54.080" style="s2">Consider case request received first</p>
<p begin="02:57:51.920" end="02:57:56.960" style="s2">services down when we are making copy</p>
<p begin="02:57:54.080" end="02:57:59.040" style="s2">till that no response. Uh yeah so the</p>
<p begin="02:57:56.960" end="02:58:02.080" style="s2">request will get dropped. Rohit you will</p>
<p begin="02:57:59.040" end="02:58:04.560" style="s2">have to reinitiate a request and that</p>
<p begin="02:58:02.080" end="02:58:06.080" style="s2">reinitiated request will get answered.</p>
<p begin="02:58:04.560" end="02:58:08.000" style="s2">Koshik asked the question during</p>
<p begin="02:58:06.080" end="02:58:11.040" style="s2">replication is the source node brought</p>
<p begin="02:58:08.000" end="02:58:13.120" style="s2">down right keeps on happening. I have</p>
<p begin="02:58:11.040" end="02:58:14.960" style="s2">already answered that Koshik that there</p>
<p begin="02:58:13.120" end="02:58:18.240" style="s2">can be multiple ways you can either do</p>
<p begin="02:58:14.960" end="02:58:19.600" style="s2">it in sync or you can do it out of sync.</p>
<p begin="02:58:18.240" end="02:58:22.240" style="s2">If you have more questions you can raise</p>
<p begin="02:58:19.600" end="02:58:23.680" style="s2">your hand. Uh Rohit has unmuted has</p>
<p begin="02:58:22.240" end="02:58:24.800" style="s2">asked to be muted. Rohit I will unmute</p>
<p begin="02:58:23.680" end="02:58:27.359" style="s2">you. Please tell me what your question</p>
<p begin="02:58:24.800" end="02:58:30.960" style="s2">is.</p>
<p begin="02:58:27.359" end="02:58:33.359" style="s2">So the concern is we have a contact with</p>
<p begin="02:58:30.960" end="02:58:34.640" style="s2">like a client and server.</p>
<p begin="02:58:33.359" end="02:58:38.399" style="s2">&gt;&gt; Mhm.</p>
<p begin="02:58:34.640" end="02:58:40.640" style="s2">&gt;&gt; So whenever we do the HTTP call so we</p>
<p begin="02:58:38.399" end="02:58:42.800" style="s2">are we have contact within 5 seconds we</p>
<p begin="02:58:40.640" end="02:58:44.880" style="s2">will respond you. Okay.</p>
<p begin="02:58:42.800" end="02:58:47.520" style="s2">&gt;&gt; But this is the fault from our side</p>
<p begin="02:58:44.880" end="02:58:50.960" style="s2">right we are getting the data and we are</p>
<p begin="02:58:47.520" end="02:58:53.439" style="s2">copying into our replica. Okay.</p>
<p begin="02:58:50.960" end="02:58:56.000" style="s2">&gt;&gt; So initially it was very happily going.</p>
<p begin="02:58:53.439" end="02:58:57.760" style="s2">Okay. we are copy in our sharding and uh</p>
<p begin="02:58:56.000" end="02:59:02.080" style="s2">immediate we are responsing yeah the</p>
<p begin="02:58:57.760" end="02:59:06.240" style="s2">your task was done. Now if in any case</p>
<p begin="02:59:02.080" end="02:59:09.359" style="s2">like uh if during the sharding my uh</p>
<p begin="02:59:06.240" end="02:59:11.760" style="s2">database will uh down then I will look</p>
<p begin="02:59:09.359" end="02:59:13.359" style="s2">another place where multiple replica</p>
<p begin="02:59:11.760" end="02:59:16.000" style="s2">master slave or some something which can</p>
<p begin="02:59:13.359" end="02:59:18.800" style="s2">be we have make if this one down we will</p>
<p begin="02:59:16.000" end="02:59:21.279" style="s2">uh copy in another but during this time</p>
<p begin="02:59:18.800" end="02:59:24.880" style="s2">the time stamp whatever we have tell we</p>
<p begin="02:59:21.279" end="02:59:27.680" style="s2">will respond 5 second it took 7 second</p>
<p begin="02:59:24.880" end="02:59:30.800" style="s2">now what we will response to that uh</p>
<p begin="02:59:27.680" end="02:59:34.160" style="s2">client API like the data log cost or we</p>
<p begin="02:59:30.800" end="02:59:36.319" style="s2">will say like uh internal server error</p>
<p begin="02:59:34.160" end="02:59:38.160" style="s2">like uh this was the concern.</p>
<p begin="02:59:36.319" end="02:59:40.880" style="s2">&gt;&gt; Yes, you can basically throw a timeout</p>
<p begin="02:59:38.160" end="02:59:43.439" style="s2">request, right? If you have a 5-second</p>
<p begin="02:59:40.880" end="02:59:45.200" style="s2">uh time uh under which you want your</p>
<p begin="02:59:43.439" end="02:59:47.279" style="s2">APIs to be responded to, you can send a</p>
<p begin="02:59:45.200" end="02:59:49.760" style="s2">timeout request or you can send a late</p>
<p begin="02:59:47.279" end="02:59:51.359" style="s2">response. It&#39;s up to the client how they</p>
<p begin="02:59:49.760" end="02:59:53.200" style="s2">are going to either they are going to</p>
<p begin="02:59:51.359" end="02:59:55.200" style="s2">wait or they&#39;re going to drop and resend</p>
<p begin="02:59:53.200" end="02:59:57.040" style="s2">the request. That&#39;s totally on the</p>
<p begin="02:59:55.200" end="02:59:59.680" style="s2">client. On the other hand, if your</p>
<p begin="02:59:57.040" end="03:00:02.240" style="s2">server internally is down, you can send</p>
<p begin="02:59:59.680" end="03:00:05.279" style="s2">a uh you can send a internal server</p>
<p begin="03:00:02.240" end="03:00:07.600" style="s2">error uh error code and tell the client</p>
<p begin="03:00:05.279" end="03:00:10.560" style="s2">that hey maybe you should retry. I&#39;m not</p>
<p begin="03:00:07.600" end="03:00:13.520" style="s2">able to process it right now.</p>
<p begin="03:00:10.560" end="03:00:16.080" style="s2">&gt;&gt; So uh so if consider this send a request</p>
<p begin="03:00:13.520" end="03:00:19.200" style="s2">we have copied in our database and while</p>
<p begin="03:00:16.080" end="03:00:22.000" style="s2">uh uh copying over the replica it&#39;s</p>
<p begin="03:00:19.200" end="03:00:24.640" style="s2">somehow we exceed the time. So we will</p>
<p begin="03:00:22.000" end="03:00:27.760" style="s2">tell through timeout exception and then</p>
<p begin="03:00:24.640" end="03:00:30.800" style="s2">again that data whatever they send that</p>
<p begin="03:00:27.760" end="03:00:31.920" style="s2">I will lose then again they need to send</p>
<p begin="03:00:30.800" end="03:00:34.240" style="s2">that request.</p>
<p begin="03:00:31.920" end="03:00:35.760" style="s2">&gt;&gt; Oh got it. Oh now I understood your</p>
<p begin="03:00:34.240" end="03:00:38.000" style="s2">question. No no no that&#39;s not how it</p>
<p begin="03:00:35.760" end="03:00:41.359" style="s2">will happen. So understand it. So Rohit</p>
<p begin="03:00:38.000" end="03:00:43.279" style="s2">let&#39;s say somebody uh sent to you a</p>
<p begin="03:00:41.359" end="03:00:43.840" style="s2">request to write something right.</p>
<p begin="03:00:43.279" end="03:00:47.760" style="s2">&gt;&gt; Yes.</p>
<p begin="03:00:43.840" end="03:00:50.000" style="s2">&gt;&gt; Now you will write it to your master.</p>
<p begin="03:00:47.760" end="03:00:51.920" style="s2">You will if if your if your if your</p>
<p begin="03:00:50.000" end="03:00:54.800" style="s2">algorithm is that you would want to copy</p>
<p begin="03:00:51.920" end="03:00:57.600" style="s2">to your slaves and then return back to</p>
<p begin="03:00:54.800" end="03:01:00.720" style="s2">the client saying that hey it is now</p>
<p begin="03:00:57.600" end="03:01:03.439" style="s2">written you will then do it and then</p>
<p begin="03:01:00.720" end="03:01:05.120" style="s2">return back. On the other hand if you</p>
<p begin="03:01:03.439" end="03:01:07.760" style="s2">have a scenario where you have a some</p>
<p begin="03:01:05.120" end="03:01:09.680" style="s2">sort of a very strict SLA that my</p>
<p begin="03:01:07.760" end="03:01:11.520" style="s2">request should only be written in 5</p>
<p begin="03:01:09.680" end="03:01:14.720" style="s2">seconds unless and until unless that</p>
<p begin="03:01:11.520" end="03:01:17.200" style="s2">happens I will send a timeout uh reply.</p>
<p begin="03:01:14.720" end="03:01:18.800" style="s2">If that is what is happening then if by</p>
<p begin="03:01:17.200" end="03:01:20.640" style="s2">chance you could not adhere to that</p>
<p begin="03:01:18.800" end="03:01:22.560" style="s2">timeline then you will have to undo the</p>
<p begin="03:01:20.640" end="03:01:24.640" style="s2">right in whatever copies you have</p>
<p begin="03:01:22.560" end="03:01:25.920" style="s2">written so that the database overall is</p>
<p begin="03:01:24.640" end="03:01:26.960" style="s2">in consistent shape. Does that make</p>
<p begin="03:01:25.920" end="03:01:27.359" style="s2">sense right?</p>
<p begin="03:01:26.960" end="03:01:29.040" style="s2">&gt;&gt; Yes.</p>
<p begin="03:01:27.359" end="03:01:30.479" style="s2">&gt;&gt; On the other hand you would rather not</p>
<p begin="03:01:29.040" end="03:01:32.720" style="s2">want to build a system like that where</p>
<p begin="03:01:30.479" end="03:01:35.520" style="s2">this happens frequently because you</p>
<p begin="03:01:32.720" end="03:01:37.279" style="s2">would want to keep your timeout uh or</p>
<p begin="03:01:35.520" end="03:01:39.680" style="s2">your fan factor in such a manner that</p>
<p begin="03:01:37.279" end="03:01:40.880" style="s2">this does not happen usually. But in the</p>
<p begin="03:01:39.680" end="03:01:42.800" style="s2">cases this happens, you will have to</p>
<p begin="03:01:40.880" end="03:01:44.160" style="s2">roll back your updates and tell the user</p>
<p begin="03:01:42.800" end="03:01:46.319" style="s2">it&#39;s a timeout and they will have to</p>
<p begin="03:01:44.160" end="03:01:47.840" style="s2">resend so that everybody&#39;s on the same</p>
<p begin="03:01:46.319" end="03:01:49.600" style="s2">page with respect to the consistent</p>
<p begin="03:01:47.840" end="03:01:50.240" style="s2">state of the database. Does that make</p>
<p begin="03:01:49.600" end="03:01:53.279" style="s2">sense?</p>
<p begin="03:01:50.240" end="03:01:53.760" style="s2">&gt;&gt; Yes, that is actually making the sense</p>
<p begin="03:01:53.279" end="03:01:56.240" style="s2">&gt;&gt; right.</p>
<p begin="03:01:53.760" end="03:01:58.240" style="s2">&gt;&gt; So like instead of if time out I&#39;m</p>
<p begin="03:01:56.240" end="03:01:59.600" style="s2">sending then I should roll back</p>
<p begin="03:01:58.240" end="03:02:00.800" style="s2">everything. So whenever</p>
<p begin="03:01:59.600" end="03:02:02.080" style="s2">&gt;&gt; of course you should you should ensure</p>
<p begin="03:02:00.800" end="03:02:03.040" style="s2">that everything is consistent.</p>
<p begin="03:02:02.080" end="03:02:05.279" style="s2">Absolutely.</p>
<p begin="03:02:03.040" end="03:02:07.680" style="s2">&gt;&gt; Absolutely. Yeah. Fine.</p>
<p begin="03:02:05.279" end="03:02:11.760" style="s2">&gt;&gt; Okay. Thank you. Thank you. And one more</p>
<p begin="03:02:07.680" end="03:02:14.720" style="s2">thing Tarun so in this uh in this uh</p>
<p begin="03:02:11.760" end="03:02:17.600" style="s2">what to say in the cap theorem so if we</p>
<p begin="03:02:14.720" end="03:02:20.319" style="s2">say the availability and partition</p>
<p begin="03:02:17.600" end="03:02:22.640" style="s2">tolerance if we take at a time then</p>
<p begin="03:02:20.319" end="03:02:23.439" style="s2">eventually we can take the consistency</p>
<p begin="03:02:22.640" end="03:02:25.120" style="s2">also correct</p>
<p begin="03:02:23.439" end="03:02:26.640" style="s2">&gt;&gt; you&#39;re right you&#39;re absolutely right you</p>
<p begin="03:02:25.120" end="03:02:28.240" style="s2">can always have a scenario where you</p>
<p begin="03:02:26.640" end="03:02:29.760" style="s2">choose availability and partition</p>
<p begin="03:02:28.240" end="03:02:31.840" style="s2">tolerance and with respect to</p>
<p begin="03:02:29.760" end="03:02:34.000" style="s2">consistency you are being eventually</p>
<p begin="03:02:31.840" end="03:02:35.600" style="s2">consistent you are not losing out on the</p>
<p begin="03:02:34.000" end="03:02:38.000" style="s2">rights you&#39;re eventually being</p>
<p begin="03:02:35.600" end="03:02:40.319" style="s2">consistent absolutely Yeah like within</p>
<p begin="03:02:38.000" end="03:02:42.479" style="s2">we can schedule one scheduleul a job</p>
<p begin="03:02:40.319" end="03:02:44.399" style="s2">which will work on within 1 hour or two</p>
<p begin="03:02:42.479" end="03:02:46.880" style="s2">hour it will take data here and there.</p>
<p begin="03:02:44.399" end="03:02:49.439" style="s2">So the during the time between after the</p>
<p begin="03:02:46.880" end="03:02:50.960" style="s2">1 hour we waited each other that time we</p>
<p begin="03:02:49.439" end="03:02:53.279" style="s2">are not consistent but after that</p>
<p begin="03:02:50.960" end="03:02:55.359" style="s2">immediate it will be consistent. So for</p>
<p begin="03:02:53.279" end="03:02:59.040" style="s2">the high throughput when we have a very</p>
<p begin="03:02:55.359" end="03:03:01.920" style="s2">high data and where we want a little bit</p>
<p begin="03:02:59.040" end="03:03:04.720" style="s2">consistency in that case we can use that</p>
<p begin="03:03:01.920" end="03:03:06.319" style="s2">right. If we want very high consistency</p>
<p begin="03:03:04.720" end="03:03:08.800" style="s2">then we need to deal with either</p>
<p begin="03:03:06.319" end="03:03:10.240" style="s2">partition tolerance or availability.</p>
<p begin="03:03:08.800" end="03:03:12.880" style="s2">&gt;&gt; You&#39;re absolutely right. So that&#39;s</p>
<p begin="03:03:10.240" end="03:03:15.520" style="s2">that&#39;s a wonderful uh point and I can in</p>
<p begin="03:03:12.880" end="03:03:18.479" style="s2">fact uh write it down here as well</p>
<p begin="03:03:15.520" end="03:03:22.720" style="s2">because this is worth noting in the cap</p>
<p begin="03:03:18.479" end="03:03:26.319" style="s2">theorem the C that I talked about was in</p>
<p begin="03:03:22.720" end="03:03:29.600" style="s2">a way immediate consistency</p>
<p begin="03:03:26.319" end="03:03:32.560" style="s2">because you can of course have eventual</p>
<p begin="03:03:29.600" end="03:03:33.439" style="s2">consistency even while being available</p>
<p begin="03:03:32.560" end="03:03:34.960" style="s2">right yes</p>
<p begin="03:03:33.439" end="03:03:36.560" style="s2">&gt;&gt; when I say if you are building a</p>
<p begin="03:03:34.960" end="03:03:38.640" style="s2">available and partition tolerant system</p>
<p begin="03:03:36.560" end="03:03:41.200" style="s2">it does not mean that you are going to</p>
<p begin="03:03:38.640" end="03:03:43.840" style="s2">lose out on your data if somebody was</p>
<p begin="03:03:41.200" end="03:03:45.520" style="s2">something was written it is not</p>
<p begin="03:03:43.840" end="03:03:47.439" style="s2">immediate consistent which means that</p>
<p begin="03:03:45.520" end="03:03:49.359" style="s2">some other people can read some older</p>
<p begin="03:03:47.439" end="03:03:51.279" style="s2">version of the data for now but it&#39;s not</p>
<p begin="03:03:49.359" end="03:03:53.920" style="s2">the case that the new right will be lost</p>
<p begin="03:03:51.279" end="03:03:56.800" style="s2">forever it is going to be persisted</p>
<p begin="03:03:53.920" end="03:03:58.399" style="s2">eventually so when I say the tradeoff</p>
<p begin="03:03:56.800" end="03:04:02.279" style="s2">the trade-off is between immediate</p>
<p begin="03:03:58.399" end="03:04:02.279" style="s2">consistency and availability</p>
<p begin="03:04:04.000" end="03:04:06.399" style="s2">&gt;&gt; and</p>
<p begin="03:04:05.680" end="03:04:10.960" style="s2">yeah</p>
<p begin="03:04:06.399" end="03:04:14.319" style="s2">&gt;&gt; and this in this uh uh B A C LC in this</p>
<p begin="03:04:10.960" end="03:04:16.319" style="s2">elgo this algorithm we are using like uh</p>
<p begin="03:04:14.319" end="03:04:17.120" style="s2">because the cap theorem is very famous</p>
<p begin="03:04:16.319" end="03:04:20.160" style="s2">right so</p>
<p begin="03:04:17.120" end="03:04:23.120" style="s2">&gt;&gt; yeah cap theorem is very famous paste LC</p>
<p begin="03:04:20.160" end="03:04:25.359" style="s2">is more of a extension to it it&#39;s not</p>
<p begin="03:04:23.120" end="03:04:28.240" style="s2">contradicting cap theorem cap theorem is</p>
<p begin="03:04:25.359" end="03:04:31.200" style="s2">what it is it is just extending it and</p>
<p begin="03:04:28.240" end="03:04:34.080" style="s2">just making you appreciate the fact that</p>
<p begin="03:04:31.200" end="03:04:37.040" style="s2">even without the partition happening the</p>
<p begin="03:04:34.080" end="03:04:39.279" style="s2">latency and consistency are somewhat in</p>
<p begin="03:04:37.040" end="03:04:41.680" style="s2">a competition with each If you want to</p>
<p begin="03:04:39.279" end="03:04:44.160" style="s2">build a very high consistent system, you</p>
<p begin="03:04:41.680" end="03:04:47.439" style="s2">might have to indulge in higher latency</p>
<p begin="03:04:44.160" end="03:04:49.600" style="s2">also and vice versa. So it&#39;s it&#39;s sort</p>
<p begin="03:04:47.439" end="03:04:53.040" style="s2">of a extension. It talks about some</p>
<p begin="03:04:49.600" end="03:04:56.880" style="s2">another parameter beyond the capture. So</p>
<p begin="03:04:53.040" end="03:04:59.840" style="s2">it&#39;s not a not a anti-capore thing or</p>
<p begin="03:04:56.880" end="03:05:02.080" style="s2">not a not a opposite to capum. It&#39;s just</p>
<p begin="03:04:59.840" end="03:05:03.520" style="s2">something more than what the capum says.</p>
<p begin="03:05:02.080" end="03:05:06.240" style="s2">Are we on the same page now?</p>
<p begin="03:05:03.520" end="03:05:08.560" style="s2">&gt;&gt; Yeah. Yeah. So only the thing tu so like</p>
<p begin="03:05:06.240" end="03:05:12.080" style="s2">uh since you worked on good organization</p>
<p begin="03:05:08.560" end="03:05:15.279" style="s2">so many places so really we are using in</p>
<p begin="03:05:12.080" end="03:05:17.279" style="s2">any our any very famous application like</p>
<p begin="03:05:15.279" end="03:05:20.160" style="s2">Facebook Twitter like there are so many</p>
<p begin="03:05:17.279" end="03:05:24.319" style="s2">applications so somehow some places is</p>
<p begin="03:05:20.160" end="03:05:26.240" style="s2">we really using this PSC algorithm it&#39;s</p>
<p begin="03:05:24.319" end="03:05:28.080" style="s2">it&#39;s not about us using it or not using</p>
<p begin="03:05:26.240" end="03:05:30.479" style="s2">it right it basically is a theorem it</p>
<p begin="03:05:28.080" end="03:05:32.720" style="s2">tells you that any system that you build</p>
<p begin="03:05:30.479" end="03:05:35.359" style="s2">you will face such a scenario it&#39;s not</p>
<p begin="03:05:32.720" end="03:05:37.520" style="s2">as if I&#39;m using tap theorem and</p>
<p begin="03:05:35.359" end="03:05:39.040" style="s2">necessarily creating a scenario where I</p>
<p begin="03:05:37.520" end="03:05:40.800" style="s2">have to choose it in cons consistency</p>
<p begin="03:05:39.040" end="03:05:42.240" style="s2">availability. It&#39;s a theorem which says</p>
<p begin="03:05:40.800" end="03:05:44.319" style="s2">that at a very fundamental level</p>
<p begin="03:05:42.240" end="03:05:45.840" style="s2">whatever you build you&#39;ll have to choose</p>
<p begin="03:05:44.319" end="03:05:47.760" style="s2">it in consistency and availability.</p>
<p begin="03:05:45.840" end="03:05:49.520" style="s2">Similarly, pace healthcy theorem is a</p>
<p begin="03:05:47.760" end="03:05:52.240" style="s2">fundamental theorem which tells you that</p>
<p begin="03:05:49.520" end="03:05:54.880" style="s2">if you want high consistency please be</p>
<p begin="03:05:52.240" end="03:05:58.080" style="s2">ready to understand that it will mean</p>
<p begin="03:05:54.880" end="03:06:00.000" style="s2">high latency also. So it&#39;s more of a</p>
<p begin="03:05:58.080" end="03:06:01.920" style="s2">knowledge that you have. It&#39;s not as if</p>
<p begin="03:06:00.000" end="03:06:04.960" style="s2">you have to use it or choose to not use</p>
<p begin="03:06:01.920" end="03:06:06.960" style="s2">it. It&#39;s a it&#39;s a comment on the systems</p>
<p begin="03:06:04.960" end="03:06:08.880" style="s2">that you build that whenever you want to</p>
<p begin="03:06:06.960" end="03:06:11.760" style="s2">build a highly consistent system,</p>
<p begin="03:06:08.880" end="03:06:13.279" style="s2">latency will automatically creep in.</p>
<p begin="03:06:11.760" end="03:06:15.120" style="s2">Does that make sense?</p>
<p begin="03:06:13.279" end="03:06:17.200" style="s2">&gt;&gt; It&#39;s not something that you use or</p>
<p begin="03:06:15.120" end="03:06:20.319" style="s2">choose to not use. It&#39;s something which</p>
<p begin="03:06:17.200" end="03:06:22.720" style="s2">is summarizing some information about</p>
<p begin="03:06:20.319" end="03:06:24.479" style="s2">systems that you should know so you can</p>
<p begin="03:06:22.720" end="03:06:25.120" style="s2">design better systems. Does that make</p>
<p begin="03:06:24.479" end="03:06:26.960" style="s2">sense?</p>
<p begin="03:06:25.120" end="03:06:28.720" style="s2">&gt;&gt; Yeah, that&#39;s right.</p>
<p begin="03:06:26.960" end="03:06:29.920" style="s2">&gt;&gt; Okay. Thanks a lot.</p>
<p begin="03:06:28.720" end="03:06:31.279" style="s2">&gt;&gt; One more question I have.</p>
<p begin="03:06:29.920" end="03:06:32.720" style="s2">&gt;&gt; Yeah, there are other also waiting</p>
<p begin="03:06:31.279" end="03:06:36.160" style="s2">right. I also have to go.</p>
<p begin="03:06:32.720" end="03:06:38.399" style="s2">&gt;&gt; Yeah, just small. So you told like intra</p>
<p begin="03:06:36.160" end="03:06:41.359" style="s2">and intro there will when we do the</p>
<p begin="03:06:38.399" end="03:06:43.920" style="s2">sharding. So uh like will you let me</p>
<p begin="03:06:41.359" end="03:06:45.680" style="s2">know right now or some other classes. So</p>
<p begin="03:06:43.920" end="03:06:47.600" style="s2">&gt;&gt; right. So intra and inter sharding these</p>
<p begin="03:06:45.680" end="03:06:49.600" style="s2">are the concept which will be discussed</p>
<p begin="03:06:47.600" end="03:06:52.560" style="s2">later in the I will just give you a</p>
<p begin="03:06:49.600" end="03:06:54.160" style="s2">brief answer to it. Intra intrashard</p>
<p begin="03:06:52.560" end="03:06:56.640" style="s2">request basically means the request that</p>
<p begin="03:06:54.160" end="03:06:59.040" style="s2">can be answered through a sing a query</p>
<p begin="03:06:56.640" end="03:07:00.720" style="s2">on a single machine a single shot.</p>
<p begin="03:06:59.040" end="03:07:02.560" style="s2">Intershard request basically means that</p>
<p begin="03:07:00.720" end="03:07:04.640" style="s2">a query that needs to be answered</p>
<p begin="03:07:02.560" end="03:07:06.399" style="s2">through for which multiple machines will</p>
<p begin="03:07:04.640" end="03:07:08.240" style="s2">have to run something they will have to</p>
<p begin="03:07:06.399" end="03:07:09.840" style="s2">collaborate and give you an answer. So</p>
<p begin="03:07:08.240" end="03:07:12.960" style="s2">intershard queries with respect to</p>
<p begin="03:07:09.840" end="03:07:15.600" style="s2">databases are always very tough very</p>
<p begin="03:07:12.960" end="03:07:17.920" style="s2">very time consuming it overflows the</p>
<p begin="03:07:15.600" end="03:07:21.120" style="s2">system overruns the system intrashard</p>
<p begin="03:07:17.920" end="03:07:22.880" style="s2">queries is what you usually prefer. So</p>
<p begin="03:07:21.120" end="03:07:24.160" style="s2">do you want to ask something else? It</p>
<p begin="03:07:22.880" end="03:07:25.120" style="s2">should be covered later. But yeah, if</p>
<p begin="03:07:24.160" end="03:07:26.720" style="s2">you want to ask something.</p>
<p begin="03:07:25.120" end="03:07:29.120" style="s2">&gt;&gt; So whatever the intra you are telling</p>
<p begin="03:07:26.720" end="03:07:31.439" style="s2">like in that we need to dig multiple</p>
<p begin="03:07:29.120" end="03:07:33.040" style="s2">system that means in the particular</p>
<p begin="03:07:31.439" end="03:07:34.640" style="s2">&gt;&gt; intra basically means single system.</p>
<p begin="03:07:33.040" end="03:07:37.040" style="s2">Inter basically means multiple system.</p>
<p begin="03:07:34.640" end="03:07:39.279" style="s2">&gt;&gt; Inter. So whatever the inter you mean to</p>
<p begin="03:07:37.040" end="03:07:41.040" style="s2">save. So there will be some like uh</p>
<p begin="03:07:39.279" end="03:07:43.359" style="s2">databases are there there multiple</p>
<p begin="03:07:41.040" end="03:07:46.319" style="s2">sharding are there. So in that the first</p>
<p begin="03:07:43.359" end="03:07:48.560" style="s2">first task find out my relative sharding</p>
<p begin="03:07:46.319" end="03:07:51.439" style="s2">and then in inside that then we need to</p>
<p begin="03:07:48.560" end="03:07:53.600" style="s2">dig and intra means like specific to me.</p>
<p begin="03:07:51.439" end="03:07:56.880" style="s2">I know blindly I&#39;m going over there and</p>
<p begin="03:07:53.600" end="03:07:58.960" style="s2">I&#39;m searching in enter multiples are</p>
<p begin="03:07:56.880" end="03:07:59.359" style="s2">there first I need to find out my type</p>
<p begin="03:07:58.960" end="03:08:01.760" style="s2">of</p>
<p begin="03:07:59.359" end="03:08:04.960" style="s2">&gt;&gt; not necessarily first you have a query</p>
<p begin="03:08:01.760" end="03:08:06.080" style="s2">which requires multiple shards to</p>
<p begin="03:08:04.960" end="03:08:08.000" style="s2">process it</p>
<p begin="03:08:06.080" end="03:08:10.000" style="s2">&gt;&gt; because the data might be spread in</p>
<p begin="03:08:08.000" end="03:08:12.479" style="s2">multiple shards this is what is called</p>
<p begin="03:08:10.000" end="03:08:14.399" style="s2">as enter if you have a query for which</p>
<p begin="03:08:12.479" end="03:08:16.080" style="s2">the data is present inside a single</p>
<p begin="03:08:14.399" end="03:08:18.560" style="s2">shard it is called as intra</p>
<p begin="03:08:16.080" end="03:08:21.040" style="s2">&gt;&gt; yeah got it that example we have taken a</p>
<p begin="03:08:18.560" end="03:08:23.279" style="s2">friend and right so there can be</p>
<p begin="03:08:21.040" end="03:08:24.720" style="s2">multiple examples that you can build.</p>
<p begin="03:08:23.279" end="03:08:26.640" style="s2">This might not be the right time because</p>
<p begin="03:08:24.720" end="03:08:28.960" style="s2">it will take me 10 minutes to construct</p>
<p begin="03:08:26.640" end="03:08:30.640" style="s2">an example. But the simple idea is that</p>
<p begin="03:08:28.960" end="03:08:32.479" style="s2">inter basically means a query which</p>
<p begin="03:08:30.640" end="03:08:34.560" style="s2">needs to be run across multiple machines</p>
<p begin="03:08:32.479" end="03:08:36.000" style="s2">to get your job done. Intra basically</p>
<p begin="03:08:34.560" end="03:08:38.000" style="s2">means that you can go to a single shard</p>
<p begin="03:08:36.000" end="03:08:39.680" style="s2">and just do it there you are done right.</p>
<p begin="03:08:38.000" end="03:08:42.640" style="s2">&gt;&gt; Yeah. Yeah. Correct. Correct. That a</p>
<p begin="03:08:39.680" end="03:08:45.359" style="s2">friend and a person example will work.</p>
<p begin="03:08:42.640" end="03:08:49.040" style="s2">If friend person is single it will be</p>
<p begin="03:08:45.359" end="03:08:50.399" style="s2">the inter and if friend is other then it</p>
<p begin="03:08:49.040" end="03:08:51.359" style="s2">will be the inter. Yeah.</p>
<p begin="03:08:50.399" end="03:08:52.640" style="s2">&gt;&gt; Yes. You&#39;re right. You&#39;re right.</p>
<p begin="03:08:51.359" end="03:08:54.399" style="s2">&gt;&gt; Thanks. Thanks. Thanks.</p>
<p begin="03:08:52.640" end="03:08:56.000" style="s2">&gt;&gt; Thanks a lot, Rohit. Thanks a lot. Have</p>
<p begin="03:08:54.399" end="03:08:58.479" style="s2">a great night. Thanks a lot for asking</p>
<p begin="03:08:56.000" end="03:09:01.439" style="s2">good questions. Thank you. Now, uh,</p>
<p begin="03:08:58.479" end="03:09:03.680" style="s2">whosoever wants to be invited? Uh,</p>
<p begin="03:09:01.439" end="03:09:05.840" style="s2">Sankit asked, uh, why do we choose</p>
<p begin="03:09:03.680" end="03:09:07.840" style="s2">between X slaves to write in a standard</p>
<p begin="03:09:05.840" end="03:09:10.160" style="s2">three? How is it helpful? Sankit, it&#39;s</p>
<p begin="03:09:07.840" end="03:09:12.720" style="s2">helpful because you are ensuring that</p>
<p begin="03:09:10.160" end="03:09:18.000" style="s2">your data never gets lost. one. Second,</p>
<p begin="03:09:12.720" end="03:09:20.479" style="s2">you are ensuring that uh that at least</p>
<p begin="03:09:18.000" end="03:09:23.520" style="s2">some parts of the system are going to</p>
<p begin="03:09:20.479" end="03:09:25.120" style="s2">read the latest right and in in a way</p>
<p begin="03:09:23.520" end="03:09:27.279" style="s2">you have started that eventual</p>
<p begin="03:09:25.120" end="03:09:28.880" style="s2">consistency process up front but</p>
<p begin="03:09:27.279" end="03:09:30.640" style="s2">primarily it&#39;s with respect to</p>
<p begin="03:09:28.880" end="03:09:33.600" style="s2">durability so that your data is never</p>
<p begin="03:09:30.640" end="03:09:34.880" style="s2">lost forever. Okay. Shankit also asked</p>
<p begin="03:09:33.600" end="03:09:37.040" style="s2">what is more important for trading</p>
<p begin="03:09:34.880" end="03:09:38.960" style="s2">platforms in terms of cap. In terms of</p>
<p begin="03:09:37.040" end="03:09:41.200" style="s2">cap theorem, trading platforms will</p>
<p begin="03:09:38.960" end="03:09:43.040" style="s2">always want to prefer consistency. You</p>
<p begin="03:09:41.200" end="03:09:46.640" style="s2">should not be in a scenario where you</p>
<p begin="03:09:43.040" end="03:09:48.960" style="s2">bought some shares at 1042 rupees</p>
<p begin="03:09:46.640" end="03:09:51.840" style="s2">according to you but later you realize</p>
<p begin="03:09:48.960" end="03:09:53.279" style="s2">that you bought them at 1080. Does that</p>
<p begin="03:09:51.840" end="03:09:55.520" style="s2">make sense? It should not be the case</p>
<p begin="03:09:53.279" end="03:09:57.680" style="s2">that you are told a misinformation right</p>
<p begin="03:09:55.520" end="03:09:59.040" style="s2">now and later you are told that okay</p>
<p begin="03:09:57.680" end="03:10:00.800" style="s2">this is not the price at which you</p>
<p begin="03:09:59.040" end="03:10:02.640" style="s2">bought you bought at some other price.</p>
<p begin="03:10:00.800" end="03:10:04.319" style="s2">So consistency is more important.</p>
<p begin="03:10:02.640" end="03:10:06.399" style="s2">Trading platforms at times can be</p>
<p begin="03:10:04.319" end="03:10:08.240" style="s2">unavailable and that&#39;s also a very big</p>
<p begin="03:10:06.399" end="03:10:10.960" style="s2">deal. Trading platforms are one of the</p>
<p begin="03:10:08.240" end="03:10:12.960" style="s2">toughest system design to build. Uh but</p>
<p begin="03:10:10.960" end="03:10:15.279" style="s2">how many of you remember some time ago</p>
<p begin="03:10:12.960" end="03:10:18.240" style="s2">there was a time when zerodha was</p>
<p begin="03:10:15.279" end="03:10:20.000" style="s2">unavailable. It was some expiry day uh</p>
<p begin="03:10:18.240" end="03:10:22.000" style="s2">where these contracts were getting</p>
<p begin="03:10:20.000" end="03:10:23.840" style="s2">expired and a lot of people wanted to</p>
<p begin="03:10:22.000" end="03:10:25.680" style="s2">place a lot of orders. The market was</p>
<p begin="03:10:23.840" end="03:10:27.520" style="s2">fluctuating a lot and people were not</p>
<p begin="03:10:25.680" end="03:10:29.359" style="s2">able to place orders and hence they lost</p>
<p begin="03:10:27.520" end="03:10:31.520" style="s2">a lot of money because zerodha was not</p>
<p begin="03:10:29.359" end="03:10:32.800" style="s2">available. So it can it can happen but</p>
<p begin="03:10:31.520" end="03:10:34.960" style="s2">they will still have to prefer</p>
<p begin="03:10:32.800" end="03:10:37.439" style="s2">consistency over availability because if</p>
<p begin="03:10:34.960" end="03:10:39.200" style="s2">they want to be available and they don&#39;t</p>
<p begin="03:10:37.439" end="03:10:41.439" style="s2">worry about consistency then they will</p>
<p begin="03:10:39.200" end="03:10:43.680" style="s2">have to pay money from their pockets</p>
<p begin="03:10:41.439" end="03:10:45.760" style="s2">right if they let you buy at wrong</p>
<p begin="03:10:43.680" end="03:10:49.040" style="s2">prices then who&#39;s going to who&#39;s going</p>
<p begin="03:10:45.760" end="03:10:51.600" style="s2">to pay that money right so uh so it must</p>
<p begin="03:10:49.040" end="03:10:53.200" style="s2">be consistent it can at times be</p>
<p begin="03:10:51.600" end="03:10:54.800" style="s2">unavailable it&#39;s going to be a big news</p>
<p begin="03:10:53.200" end="03:10:56.319" style="s2">it&#39;s going to be a big thing but at</p>
<p begin="03:10:54.800" end="03:10:58.479" style="s2">times it can be unavailable consistency</p>
<p begin="03:10:56.319" end="03:11:00.560" style="s2">is more important right and similarly</p>
<p begin="03:10:58.479" end="03:11:02.640" style="s2">latency even though They need to be very</p>
<p begin="03:11:00.560" end="03:11:04.160" style="s2">low latency systems. But still</p>
<p begin="03:11:02.640" end="03:11:05.920" style="s2">consistency is more important than</p>
<p begin="03:11:04.160" end="03:11:08.479" style="s2">ensuring low latency. They cannot</p>
<p begin="03:11:05.920" end="03:11:09.920" style="s2">compromise with consistency.</p>
<p begin="03:11:08.479" end="03:11:11.920" style="s2">Yeah, you are right. There are some</p>
<p begin="03:11:09.920" end="03:11:16.080" style="s2">crypto exchanges which used to be</p>
<p begin="03:11:11.920" end="03:11:19.120" style="s2">inconsistent but but yeah crypto is</p>
<p begin="03:11:16.080" end="03:11:21.040" style="s2">better left unset. Uh the kind of</p>
<p begin="03:11:19.120" end="03:11:23.680" style="s2">ecosystem that there was it&#39;s better</p>
<p begin="03:11:21.040" end="03:11:26.080" style="s2">left unsaid. Uh Anurak says how is</p>
<p begin="03:11:23.680" end="03:11:27.840" style="s2">consistency maintained in replicas? I</p>
<p begin="03:11:26.080" end="03:11:30.479" style="s2">think I&#39;ve already answered it.</p>
<p begin="03:11:27.840" end="03:11:33.040" style="s2">Partitioning versus sharding. Sharding</p>
<p begin="03:11:30.479" end="03:11:35.760" style="s2">is due dividing data in different uh</p>
<p begin="03:11:33.040" end="03:11:38.640" style="s2">machines. Partitioning is also the same</p>
<p begin="03:11:35.760" end="03:11:40.880" style="s2">concept but people get confused because</p>
<p begin="03:11:38.640" end="03:11:43.120" style="s2">partitioning is also used in cap theorem</p>
<p begin="03:11:40.880" end="03:11:45.439" style="s2">but that is network partitioning. When</p>
<p begin="03:11:43.120" end="03:11:47.920" style="s2">you say partitioning of data that is</p>
<p begin="03:11:45.439" end="03:11:51.439" style="s2">essentially sharding anur I hope I&#39;ve</p>
<p begin="03:11:47.920" end="03:11:53.200" style="s2">answered that. Uh</p>
<p begin="03:11:51.439" end="03:11:55.920" style="s2">now can you explain user and friends</p>
<p begin="03:11:53.200" end="03:11:58.399" style="s2">data? How are they in the same chart? H</p>
<p begin="03:11:55.920" end="03:12:00.479" style="s2">let&#39;s that&#39;s some a question of a</p>
<p begin="03:11:58.399" end="03:12:03.120" style="s2">different class ideally that should be</p>
<p begin="03:12:00.479" end="03:12:06.640" style="s2">covered in the last class when you did</p>
<p begin="03:12:03.120" end="03:12:09.359" style="s2">caching uh I don&#39;t have time I guess to</p>
<p begin="03:12:06.640" end="03:12:12.160" style="s2">explain that to you right now so I will</p>
<p begin="03:12:09.359" end="03:12:13.279" style="s2">pause that question for a while anurak</p>
<p begin="03:12:12.160" end="03:12:14.880" style="s2">says there will be multiple tables</p>
<p begin="03:12:13.279" end="03:12:16.479" style="s2">present where user ID might be the</p>
<p begin="03:12:14.880" end="03:12:19.680" style="s2">primary key so what particular user ID</p>
<p begin="03:12:16.479" end="03:12:21.680" style="s2">all the data yeah Anra so that&#39;s a call</p>
<p begin="03:12:19.680" end="03:12:24.000" style="s2">that you have to take on a casebyase</p>
<p begin="03:12:21.680" end="03:12:26.399" style="s2">basis you will not be able to do that</p>
<p begin="03:12:24.000" end="03:12:28.080" style="s2">for every table you will have to take a</p>
<p begin="03:12:26.399" end="03:12:30.800" style="s2">call or for what tables you have to do</p>
<p begin="03:12:28.080" end="03:12:32.880" style="s2">it. Okay, there are still so many</p>
<p begin="03:12:30.800" end="03:12:35.439" style="s2">questions. Ajit says suppose from client</p>
<p begin="03:12:32.880" end="03:12:38.240" style="s2">side I want to access user two user in</p>
<p begin="03:12:35.439" end="03:12:40.399" style="s2">one request user one in shard a how</p>
<p begin="03:12:38.240" end="03:12:42.960" style="s2">retrieval happens this will become a</p>
<p begin="03:12:40.399" end="03:12:47.279" style="s2">intershard request my dear friend Aji</p>
<p begin="03:12:42.960" end="03:12:51.760" style="s2">and it&#39;s not that great great a thing uh</p>
<p begin="03:12:47.279" end="03:12:54.399" style="s2">a club asks does myql or any db natively</p>
<p begin="03:12:51.760" end="03:12:55.840" style="s2">support sharding by default uh a club</p>
<p begin="03:12:54.399" end="03:12:58.720" style="s2">I&#39;ve already answered that there are a</p>
<p begin="03:12:55.840" end="03:13:00.640" style="s2">bunch of SQL DBs which today support</p>
<p begin="03:12:58.720" end="03:13:02.000" style="s2">this out of the box but even if it does</p>
<p begin="03:13:00.640" end="03:13:04.080" style="s2">not to put it out of the box. You can</p>
<p begin="03:13:02.000" end="03:13:05.920" style="s2">still configure it by having some sort</p>
<p begin="03:13:04.080" end="03:13:08.160" style="s2">of a manager on top of it, some sort of</p>
<p begin="03:13:05.920" end="03:13:10.240" style="s2">abstraction layer on top of it. Uh but</p>
<p begin="03:13:08.160" end="03:13:12.640" style="s2">there are lots and lots of NoSQL DBs</p>
<p begin="03:13:10.240" end="03:13:14.720" style="s2">which does it out of the box for you.</p>
<p begin="03:13:12.640" end="03:13:16.319" style="s2">Vishujit asks if there is a table that</p>
<p begin="03:13:14.720" end="03:13:19.040" style="s2">does not have direct user ID, how does</p>
<p begin="03:13:16.319" end="03:13:22.080" style="s2">the data in that that&#39;s more of a that&#39;s</p>
<p begin="03:13:19.040" end="03:13:24.640" style="s2">more of a uh low-level design question.</p>
<p begin="03:13:22.080" end="03:13:26.640" style="s2">So not the right platform to ask it. I</p>
<p begin="03:13:24.640" end="03:13:29.359" style="s2">would have answered it but understand</p>
<p begin="03:13:26.640" end="03:13:31.520" style="s2">it&#39;s already 12:30 I also have to go and</p>
<p begin="03:13:29.359" end="03:13:32.960" style="s2">sleep. uh hence I did not answer it</p>
<p begin="03:13:31.520" end="03:13:35.200" style="s2">right now. It&#39;s because it&#39;s not a</p>
<p begin="03:13:32.960" end="03:13:37.120" style="s2">question for today&#39;s class but yeah</p>
<p begin="03:13:35.200" end="03:13:39.359" style="s2">maybe sometime else when we have time I</p>
<p begin="03:13:37.120" end="03:13:41.040" style="s2">can answer that as well. So in case of</p>
<p begin="03:13:39.359" end="03:13:42.880" style="s2">DB down migration of each data will</p>
<p begin="03:13:41.040" end="03:13:44.720" style="s2">happen right. So for each row we will</p>
<p begin="03:13:42.880" end="03:13:47.840" style="s2">calculate shard number and send it over</p>
<p begin="03:13:44.720" end="03:13:49.840" style="s2">there. Yeah this is slow this happens</p>
<p begin="03:13:47.840" end="03:13:52.960" style="s2">but this is usually prevented by you</p>
<p begin="03:13:49.840" end="03:13:54.880" style="s2">having master slave architecture uh and</p>
<p begin="03:13:52.960" end="03:13:56.319" style="s2">you not having to move data because you</p>
<p begin="03:13:54.880" end="03:13:58.319" style="s2">already have that data copied in a</p>
<p begin="03:13:56.319" end="03:14:00.239" style="s2">slave.</p>
<p begin="03:13:58.319" end="03:14:02.640" style="s2">Oh, how was Google interview what was</p>
<p begin="03:14:00.239" end="03:14:04.960" style="s2">asked? Not a relevant question for</p>
<p begin="03:14:02.640" end="03:14:07.439" style="s2">today&#39;s class, my dear friend. We can</p>
<p begin="03:14:04.960" end="03:14:10.080" style="s2">discuss that sometime later.</p>
<p begin="03:14:07.439" end="03:14:13.600" style="s2">Uh</p>
<p begin="03:14:10.080" end="03:14:16.479" style="s2">yeah, cost has a very very big role in</p>
<p begin="03:14:13.600" end="03:14:23.279" style="s2">deciding what system to build. uh</p>
<p begin="03:14:16.479" end="03:14:26.239" style="s2">whatever you do uh whatever we do uh is</p>
<p begin="03:14:23.279" end="03:14:28.800" style="s2">has an implication of cost and that&#39;s a</p>
<p begin="03:14:26.239" end="03:14:30.960" style="s2">very very important factor in system</p>
<p begin="03:14:28.800" end="03:14:33.120" style="s2">design otherwise you can say that hey I</p>
<p begin="03:14:30.960" end="03:14:37.200" style="s2">will I will buy all the systems in this</p>
<p begin="03:14:33.120" end="03:14:39.520" style="s2">world I will build a cache of 1,000 TB</p>
<p begin="03:14:37.200" end="03:14:41.600" style="s2">everything will be served from cash you</p>
<p begin="03:14:39.520" end="03:14:43.040" style="s2">can claim that but that&#39;s not</p>
<p begin="03:14:41.600" end="03:14:44.960" style="s2">practically possible because you will</p>
<p begin="03:14:43.040" end="03:14:46.720" style="s2">have to shove a lot of money so system</p>
<p begin="03:14:44.960" end="03:14:48.239" style="s2">design decisions need to take into</p>
<p begin="03:14:46.720" end="03:14:52.800" style="s2">account the money that you can possibly</p>
<p begin="03:14:48.239" end="03:14:55.359" style="s2">spend. Okay, cool. I I use a phrase uh</p>
<p begin="03:14:52.800" end="03:14:58.640" style="s2">which you can always use. I always say</p>
<p begin="03:14:55.359" end="03:15:01.040" style="s2">cashing swadus or for people who do not</p>
<p begin="03:14:58.640" end="03:15:03.279" style="s2">understand Hindi cashing as per your</p>
<p begin="03:15:01.040" end="03:15:06.160" style="s2">taste. I am taking reference from the</p>
<p begin="03:15:03.279" end="03:15:08.560" style="s2">idea of a master chef episode where</p>
<p begin="03:15:06.160" end="03:15:10.720" style="s2">people will say that hey you add namak</p>
<p begin="03:15:08.560" end="03:15:13.120" style="s2">you add salt as per your taste.</p>
<p begin="03:15:10.720" end="03:15:14.880" style="s2">Similarly you can say caching swadasar</p>
<p begin="03:15:13.120" end="03:15:16.239" style="s2">you add cashing wherever you want to do</p>
<p begin="03:15:14.880" end="03:15:18.239" style="s2">based on the amount of money that you</p>
<p begin="03:15:16.239" end="03:15:20.800" style="s2">can spend and the kind of use case that</p>
<p begin="03:15:18.239" end="03:15:23.439" style="s2">you have. So yeah uh that sort of uh</p>
<p begin="03:15:20.800" end="03:15:24.720" style="s2">tries and borrows the idea that hey</p>
<p begin="03:15:23.439" end="03:15:28.080" style="s2">money is very important in taking</p>
<p begin="03:15:24.720" end="03:15:31.120" style="s2">decisions and decisions. Uh Hush wanted</p>
<p begin="03:15:28.080" end="03:15:35.040" style="s2">to ask about uh I am tempted to answer</p>
<p begin="03:15:31.120" end="03:15:37.359" style="s2">it for you Hush but I&#39;m very late also.</p>
<p begin="03:15:35.040" end="03:15:38.880" style="s2">Hush are you there in the class? Are you</p>
<p begin="03:15:37.359" end="03:15:40.640" style="s2">there in the class? You&#39;re in there in</p>
<p begin="03:15:38.880" end="03:15:42.479" style="s2">the class. Okay. So this is the last</p>
<p begin="03:15:40.640" end="03:15:44.399" style="s2">question that I will answer. I may not</p>
<p begin="03:15:42.479" end="03:15:46.239" style="s2">be able to answer it completely but I</p>
<p begin="03:15:44.399" end="03:15:50.800" style="s2">will partially answer it with whatever</p>
<p begin="03:15:46.239" end="03:15:52.640" style="s2">time I have. Uh Nikl just uh remind me</p>
<p begin="03:15:50.800" end="03:15:54.640" style="s2">in a day or two I will find those</p>
<p begin="03:15:52.640" end="03:15:58.000" style="s2">lectures and ask support to share with</p>
<p begin="03:15:54.640" end="03:16:01.120" style="s2">you. Okay cool. So let me look at hers&#39;s</p>
<p begin="03:15:58.000" end="03:16:03.840" style="s2">question. Uh can you explain user and</p>
<p begin="03:16:01.120" end="03:16:05.359" style="s2">friends data? How are they in the same</p>
<p begin="03:16:03.840" end="03:16:07.200" style="s2">chart?</p>
<p begin="03:16:05.359" end="03:16:09.200" style="s2">Should I also have my friend&#39;s data in</p>
<p begin="03:16:07.200" end="03:16:11.600" style="s2">the same chart?</p>
<p begin="03:16:09.200" end="03:16:15.120" style="s2">Okay. So, h that&#39;s not possible, right?</p>
<p begin="03:16:11.600" end="03:16:17.680" style="s2">So, you let&#39;s say are a user 107. You</p>
<p begin="03:16:15.120" end="03:16:22.160" style="s2">sit in a particular share where are your</p>
<p begin="03:16:17.680" end="03:16:25.200" style="s2">friends 668, 1070, 1114 and so on and so</p>
<p begin="03:16:22.160" end="03:16:27.520" style="s2">forth. You can never come up with a</p>
<p begin="03:16:25.200" end="03:16:29.760" style="s2">system where all your friends will</p>
<p begin="03:16:27.520" end="03:16:32.640" style="s2">definitely be in the same chart. Are you</p>
<p begin="03:16:29.760" end="03:16:34.479" style="s2">with me Hersh? You can never have a</p>
<p begin="03:16:32.640" end="03:16:37.200" style="s2">scenario like that because you can</p>
<p begin="03:16:34.479" end="03:16:38.399" style="s2">potentially become friends with anybody</p>
<p begin="03:16:37.200" end="03:16:40.160" style="s2">tomorrow. Let&#39;s say if I have</p>
<p begin="03:16:38.399" end="03:16:42.399" style="s2">partitioning like this, even let&#39;s say</p>
<p begin="03:16:40.160" end="03:16:44.000" style="s2">all your friends are in the same shard.</p>
<p begin="03:16:42.399" end="03:16:45.520" style="s2">But now if you make a friendship with</p>
<p begin="03:16:44.000" end="03:16:47.200" style="s2">668,</p>
<p begin="03:16:45.520" end="03:16:49.279" style="s2">how will I put all of you in the same</p>
<p begin="03:16:47.200" end="03:16:50.319" style="s2">shard? You would always have scenarios</p>
<p begin="03:16:49.279" end="03:16:54.160" style="s2">where your friends are in different</p>
<p begin="03:16:50.319" end="03:16:58.239" style="s2">shards. But what I wanted to convey is</p>
<p begin="03:16:54.160" end="03:17:01.840" style="s2">that the user friends table where the</p>
<p begin="03:16:58.239" end="03:17:03.760" style="s2">mapping of all the friend ids of yours</p>
<p begin="03:17:01.840" end="03:17:05.439" style="s2">that should be present in your chart so</p>
<p begin="03:17:03.760" end="03:17:08.319" style="s2">that at least you can know who all your</p>
<p begin="03:17:05.439" end="03:17:11.120" style="s2">friends are. But if you want to go</p>
<p begin="03:17:08.319" end="03:17:12.720" style="s2">inside the posts of your friends, you&#39;ll</p>
<p begin="03:17:11.120" end="03:17:14.880" style="s2">have to go to a different shard. Have I</p>
<p begin="03:17:12.720" end="03:17:17.760" style="s2">made myself clear my dear friend? Uh</p>
<p begin="03:17:14.880" end="03:17:19.040" style="s2">hush. I never claimed that all your</p>
<p begin="03:17:17.760" end="03:17:21.760" style="s2">friends are going to be in the same</p>
<p begin="03:17:19.040" end="03:17:23.840" style="s2">shard. I just claim that at least your</p>
<p begin="03:17:21.760" end="03:17:26.000" style="s2">mapping which all friend ids you have</p>
<p begin="03:17:23.840" end="03:17:27.439" style="s2">should be in the same shard. And given</p>
<p begin="03:17:26.000" end="03:17:29.840" style="s2">all your friends cannot be in the same</p>
<p begin="03:17:27.439" end="03:17:32.080" style="s2">shard. Hence the solution that Prague</p>
<p begin="03:17:29.840" end="03:17:34.560" style="s2">would have given for the news Facebook</p>
<p begin="03:17:32.080" end="03:17:36.880" style="s2">news feed where he made a new copy of</p>
<p begin="03:17:34.560" end="03:17:39.040" style="s2">recent posts. That was the solution</p>
<p begin="03:17:36.880" end="03:17:40.880" style="s2">because of that reason itself because</p>
<p begin="03:17:39.040" end="03:17:42.880" style="s2">you cannot ensure all your friends to be</p>
<p begin="03:17:40.880" end="03:17:44.560" style="s2">in the same shot. Does that make sense?</p>
<p begin="03:17:42.880" end="03:17:46.720" style="s2">Hush.</p>
<p begin="03:17:44.560" end="03:17:48.960" style="s2">Thank you. Thank you everyone. It was a</p>
<p begin="03:17:46.720" end="03:17:52.880" style="s2">pleasure interacting with all of you. I</p>
<p begin="03:17:48.960" end="03:17:56.319" style="s2">wish you all the best. See you again.</p>
<p begin="03:17:52.880" end="03:18:00.680" style="s2">Uh bye-bye.</p>
<p begin="03:17:56.319" end="03:18:00.680" style="s2">Thanks a lot everyone. Thanks a lot.</p>
</div>
</body>
</tt>
